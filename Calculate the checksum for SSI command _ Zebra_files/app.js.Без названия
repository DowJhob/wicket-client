window[window.GatedContentObject].Config={version:3,mode:"app",environment:"production",safeMode:!1,qTime:300,account:{id:"",name:"",active:0,submissionUrl:""},preloadAssets:["https://app.gatedcontent.com/assets/js/countries.js"],debug:{appName:"GCDC App",active:!1,level:3,qsParam:"gcdc_debug"},previewableEntities:{},requestedDataSources:{},html:{gateTriggerClassPrefix:"gate-",gateImageEmbedURL:"https://app.gatedcontent.com/loading/",gateElementClass:"gcdc-gate",modalLayerElementClass:"gcdc-modal-layer",loaderWrapperClass:"gcdc-loader",formElementClass:"gcdc-form-render",contentElementClass:"gcdc-content-render",autocompleteElementClass:"gcdc-autocomplete-box"},defaultFields:{emailField:"emailAddress",firstNameField:"firstName",lastNameField:"lastName",countryField:"country",companyNameField:"company",jobTitleField:"jobTitle",jobRoleField:"jobRole",industryField:"industry",optinField:"optin"},advancedSettings:{rootDomain:"",useTrackingCookies:!1,trackingCookieAllowedDomains:"",liveValidateForms:!1,countrySelectorSubmitLabels:!1,countrySelectorRemoveCountries:"",countrySelectorRelabelCountries:"",detectPrivacyBlocking:!1,detectPrivacyBlockingURL:"",privacyBlockingMessage:"",disableFormsOnPrivacyBlocking:!1,browserPrivacyCheck:!0,oneTrustCheck:!1,oneTrustFunctionalGroup:"C0003",oneTrustPerformanceGroup:"C0002"},gates:{formTypes:{},gateTypes:{general:"General"},deferredBuildTimeout:1e4,synchronousSubmissionDelay:3e3,forceCustomSubmissionBehaviour:!1,showContentDelay:2e3,blindSubmitOnContentInteraction:!0,gateOpenByIdSessionDuration:0,gateOpenByIdDuration:43200,gateOpenByGroupDuration:43200,progressiveStatusRetention:43200,showProgressiveFieldsAfterProgressionComplete:!0,requiredFieldLabelIndicator:"*",optionalFieldLabelIndicator:"",selectFieldHint:"Please select an option",fieldPrefixes:{url:"https://"},prepopulation:{showPrepopulationMessage:!0},multiStepFormsAllowBack:!0,multiStepFormsDisplayExplodedText:!1,multiStepFormsDisplayExplodedTextOffset:0,doubleColumnBreakpoint:400,allowOpenModalGatesOnHashChange:!1,requiredConfigAttributes:["gateName","formType","lang","gateType"],blindSubmitRequireEmailAddress:!0,blindSubmitAdditionalRequiredFields:[],blindSubmitExcludedFields:[],scrollToGateTopOnSubmission:!0,scrollToGateTopOnSubmissionOffset:0,multiselectDelimiter:","},tracking:{events:{},triggers:{form:{formLoaded:{allowMultiple:!1,name:"Loaded",description:"This event will be triggered when the form loads. Gates which are already open at page load will not trigger this event.",gcdcReportingActive:!0,gcdcReportingName:"loaded",gcdcReportingAllowMultiple:!1},formViewed:{allowMultiple:!1,name:"Viewed",description:"This event will be triggered when the form is viewed. For modal gates, this will be when the modal is opened. For inline gates, this will be when the form is in view. Gates which already open at page load will not trigger this event.",gcdcReportingActive:!0,gcdcReportingName:"viewed",gcdcReportingAllowMultiple:!1},fieldFocus:{allowMultiple:!1,name:"Started",description:"This event will be triggered when user focuses on a field within the form.",gcdcReportingActive:!0,gcdcReportingName:"started",gcdcReportingAllowMultiple:!1},fieldChange:{allowMultiple:!0,name:"Field changed",description:"This event will be triggered when the user changes the value of a field.",gcdcReportingActive:!0,gcdcReportingName:"fieldChanged",gcdcReportingAllowMultiple:!1},stepChanged:{allowMultiple:!0,name:"Step changed",description:"This event will be triggered when the user changes step on a multi-step form.",gcdcReportingActive:!1,gcdcReportingName:"stepChanged",gcdcReportingAllowMultiple:!1},stepCompleted:{allowMultiple:!0,name:"Step completed",description:"This event will be triggered when the user successfully completes a step on a multi-step form.",gcdcReportingActive:!1,gcdcReportingName:"stepCompleted",gcdcReportingAllowMultiple:!1},submissionFailed:{allowMultiple:!0,name:"Validation failed",description:"This event will be triggered when the user attempts to submit the form, but the submission is blocked by an invalid field.",gcdcReportingActive:!1,gcdcReportingName:"failed",gcdcReportingAllowMultiple:!1},submissionSucceed:{allowMultiple:!1,name:"Submission",description:"This event will be triggered when the user successfully submits the form.",gcdcReportingActive:!0,gcdcReportingName:"submission",gcdcReportingAllowMultiple:!1},blindSubmissionSucceed:{allowMultiple:!1,name:"Blind Submission",description:"This event will be triggered when a user interaction causes a blind form submission, normally by consuming content.",gcdcReportingActive:!1,gcdcReportingName:"blindSubmission",gcdcReportingAllowMultiple:!1}}},includeQuerystringInGcdcLogging:!1},plugins:{social:{active:!1,name:"Social",plugin:"Social",facebook_app_key:"",linkedin_app_key:"",redirect_url:""}},storage:{storageKeyName:"gcdcApp",userDataPrefix:"userData-",userFieldDataPrefix:"fieldData-",defaultUserDataRetention:0},supportedLanguages:{en:"English"},formats:{email:"^[A-Z0-9._%+'-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$",url:"((http|https)://)(www.)?[a-zA-Z0-9@:%._\\+~#?&//=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%._\\+~#?&//=]*)",phone:"^(?:\\+[0-9]{1,3})(?:\\(|\\s)(?:[0-9\\(\\)\\s]{3,20})$",phoneSimple:"^(?:\\+[0-9\\s\\(\\)\\-\\.]{9,20})$",phoneAllowedCharacters:"0-9\\s+\\(\\)\\.\\-",phoneDefaultMask:"+##(###)###-####",urlRegExp:new RegExp("https?://(www.)?[-a-zA-Z0-9@:%._+~#=]{2,256}.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)","gi")},initTimestamp:null,utmDefaults:null},function(e){function P(){}e.Vendor=e.Vendor||{},Object.create||(Object.create=function(e){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return P.prototype=e,new P}),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(null==this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=2<=arguments.length?arguments[1]:void 0,o=0;o<i;o++)o in t&&e.call(n,t[o],o,t);return this}),Array.prototype.filter||(Array.prototype.filter=function(n,o){var a=[];return this.forEach(function(e,t,i){n.call(o||void 0,e,t,i)&&a.push(e)}),a}),Array.prototype.map||(Array.prototype.map=function(n,o){var a=[];return this.forEach(function(e,t,i){a.push(n.call(o||void 0,e,t,i))}),a}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),"object"!=typeof window||"object"!=typeof window.location||window.location.assign||(window.location.assign=function(e){window.location=e}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function t(){}function i(){return a.apply(this instanceof t?this:e||window,o.concat(n.call(arguments)))}var n=[].slice,o=n.call(arguments,1),a=this;return t.prototype=this.prototype,i.prototype=new t,i});function b(e){return b.use(e)}var t,o,i,n,a,l,d,u,R,r,s,N,c,G,j,g,f,m,V,B,h,v;function y(e){if(!(this instanceof y))return new y(e);this.id="Thenable/1.0.6",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))}function w(e,t){var i={closed:!1};return chrome.identity.launchWebAuthFlow({url:e,interactive:t},function(e){void 0===e?i.closed=!0:(e={location:{assign:function(e){w(e,!1)},search:(e=b.utils.url(e)).search,hash:e.hash,href:e.href},close:function(){}},b.utils.responseHandler(e,window))}),i}function H(e){e&&"error"in e&&(e.error={code:"server_error",message:e.error.message||e.error})}function W(e,t,i){var n;"object"!=typeof e||"undefined"!=typeof Blob&&e instanceof Blob||"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"error"in e||(n=(n=("app_folder"!==e.root?e.root:"")+e.path.replace(/\&/g,"%26")).replace(/^\//,""),e.thumb_exists&&(e.thumbnail=i.oauth_proxy+"?path="+encodeURIComponent("https://api-content.dropbox.com/1/thumbnails/auto/"+n+"?format=jpeg&size=m")+"&access_token="+i.options.access_token),e.type=e.is_dir?"folder":e.mime_type,e.name=e.path.replace(/.*\//g,""),e.is_dir?e.files=n.replace(/^\//,""):(e.downloadLink=c.settings.oauth_proxy+"?path="+encodeURIComponent("https://api-content.dropbox.com/1/files/auto/"+n)+"&access_token="+i.options.access_token,e.file="https://api-content.dropbox.com/1/files/auto/"+n),e.id||(e.id=e.path.replace(/^\//,"")))}function C(i){return function(e,t){delete e.query.limit,t(i)}}function $(e){return e.id&&(e.thumbnail=e.picture="https://graph.facebook.com/"+e.id+"/picture"),e}function M(e){return"data"in e&&e.data.forEach($),e}function k(e,t,i){var n;return(e="boolean"==typeof e?{success:e}:e)&&"data"in e&&(n=i.query.access_token,e.data instanceof Array||(i=e.data,delete e.data,e.data=[i]),e.data.forEach(function(e){e.picture&&(e.thumbnail=e.picture),e.pictures=(e.images||[]).sort(function(e,t){return e.width-t.width}),e.cover_photo&&e.cover_photo.id&&(e.thumbnail=f+e.cover_photo.id+"/picture?access_token="+n),"album"===e.type&&(e.files=e.photos=f+e.id+"/photos"),e.can_upload&&(e.upload_location=f+e.id+"/photos")})),e}function J(e,t,i){var n,o=(i?"":"flickr:")+"?method="+e+"&api_key="+m.services.flickr.id+"&format=json";for(n in t)t.hasOwnProperty(n)&&(o+="&"+n+"="+t[n]);return o}function S(o,a){return a=a||{},function(e,t){var i,n;i=function(e){a.user_id=e,t(J(o,a,!0))},n=m.getAuthResponse("flickr"),i(n&&n.user_nsid?n.user_nsid:null)}}function E(e,t){var i="https://www.flickr.com/images/buddyicon.gif";return i=e.nsid&&e.iconserver&&e.iconfarm?"https://farm"+e.iconfarm+".staticflickr.com/"+e.iconserver+"/buddyicons/"+e.nsid+(t?"_"+t:"")+".jpg":i}function T(e,t,i,n,o){return"https://farm"+t+".staticflickr.com/"+i+"/"+e+"_"+n+(o=o?"_"+o:"")+".jpg"}function I(e){e&&e.stat&&"ok"!=e.stat.toLowerCase()&&(e.error={code:"invalid_request",message:e.message})}function X(e){if(e.photoset||e.photos){A(e=_(e,"photoset"in e?"photoset":"photos")),e.data=e.photo,delete e.photo;for(var t=0;t<e.data.length;t++){var i=e.data[t];i.name=i.title,i.picture=T(i.id,i.farm,i.server,i.secret,""),i.pictures=function(t,i,n,o){return[{id:"t",max:100},{id:"m",max:240},{id:"n",max:320},{id:"",max:500},{id:"z",max:640},{id:"c",max:800},{id:"b",max:1024},{id:"h",max:1600},{id:"k",max:2048},{id:"o",max:2048}].map(function(e){return{source:T(t,i,n,o,e.id),width:e.max,height:e.max}})}(i.id,i.farm,i.server,i.secret),i.source=T(i.id,i.farm,i.server,i.secret,"b"),i.thumbnail=T(i.id,i.farm,i.server,i.secret,"m")}}return e}function _(e,t){return t in e?e=e[t]:"error"in e||(e.error={code:"invalid_request",message:e.message||"Failed to get data from Flickr"}),e}function x(e){if(I(e),e.contacts){A(e=_(e,"contacts")),e.data=e.contact,delete e.contact;for(var t=0;t<e.data.length;t++){var i=e.data[t];i.id=i.nsid,i.name=i.realname||i.username,i.thumbnail=E(i,"m")}}return e}function A(e){e.page&&e.pages&&e.page!==e.pages&&(e.paging={next:"?page="+ ++e.page})}function z(e){!e.meta||400!==e.meta.code&&401!==e.meta.code||(e.error={code:"access_denied",message:e.meta.errorDetail})}function Y(e){e&&e.id&&(e.thumbnail=e.photo.prefix+"100x100"+e.photo.suffix,e.name=e.firstName+" "+e.lastName,e.first_name=e.firstName,e.last_name=e.lastName,e.contact&&e.contact.email&&(e.email=e.contact.email))}function Q(e,t){var i=t.access_token;return delete t.access_token,t.oauth_token=i,t.v=20121125,!0}function K(e,t){t=t?t.statusCode:e&&"meta"in e&&"status"in e.meta&&e.meta.status;401!==t&&403!==t||(e.error={code:"access_denied",message:e.message||(e.data?e.data.message:"Could not get response")},delete e.message)}function Z(e){e.id&&(e.thumbnail=e.picture=e.avatar_url,e.name=e.login)}function L(e){return parseInt(e,10)}function ee(e){return q(e),e.data=e.items,delete e.items,e}function te(e){if(!e.error)return e.name||(e.name=e.title||e.message),e.picture||(e.picture=e.thumbnailLink),e.thumbnail||(e.thumbnail=e.thumbnailLink),"application/vnd.google-apps.folder"===e.mimeType&&(e.type="folder",e.files="https://www.googleapis.com/drive/v2/files?q=%22"+e.id+"%22+in+parents"),e}function U(e){return{source:e.url,width:e.width,height:e.height}}function ie(e){if(q(e),"feed"in e&&"entry"in e.feed)e.data=e.feed.entry.map(oe),delete e.feed;else{if("entry"in e)return oe(e.entry);"items"in e?(e.data=e.items.map(te),delete e.items):te(e)}return e}function ne(e){e.name=e.displayName||e.name,e.picture=e.picture||(e.image?e.image.url:null),e.thumbnail=e.picture}function D(e,t,i){q(e);if("feed"in e&&"entry"in e.feed){for(var n=i.query.access_token,o=0;o<e.feed.entry.length;o++){var a,r=e.feed.entry[o];r.id=r.id.$t,r.name=r.title.$t,delete r.title,r.gd$email&&(r.email=r.gd$email&&0<r.gd$email.length?r.gd$email[0].address:null,r.emails=r.gd$email,delete r.gd$email),r.updated&&(r.updated=r.updated.$t),r.link&&((a=0<r.link.length?r.link[0].href:null)&&r.link[0].gd$etag&&(a+=(-1<a.indexOf("?")?"&":"?")+"access_token="+n,r.picture=a,r.thumbnail=a),delete r.link),r.category&&delete r.category}e.data=e.feed.entry,delete e.feed}return e}function oe(e){var t,i=e.media$group,n=i.media$content.length?i.media$content[0]:{},o=i.media$content||[],a=i.media$thumbnail||[],o=o.concat(a).map(U).sort(function(e,t){return e.width-t.width}),r=0,s={id:e.id.$t,name:e.title.$t,description:e.summary.$t,updated_time:e.updated.$t,created_time:e.published.$t,picture:n?n.url:null,pictures:o,images:[],thumbnail:n?n.url:null,width:n.width,height:n.height};if("link"in e)for(r=0;r<e.link.length;r++){var l=e.link[r];if(l.rel.match(/\#feed$/)){s.upload_location=s.files=s.photos=l.href;break}}if("category"in e&&e.category.length)for(t=e.category,r=0;r<t.length;r++)t[r].scheme&&t[r].scheme.match(/\#kind$/)&&(s.type=t[r].term.replace(/^.*?\#/,""));return"media$thumbnail"in i&&i.media$thumbnail.length&&(t=i.media$thumbnail,s.thumbnail=t[0].url,s.images=t.map(U)),(t=i.media$content)&&t.length&&s.images.push(U(t[0])),s}function q(e){var t,i;"feed"in e&&e.feed.openSearch$itemsPerPage?(t=L(e.feed.openSearch$itemsPerPage.$t),(i=L(e.feed.openSearch$startIndex.$t))+t<L(e.feed.openSearch$totalResults.$t)&&(e.paging={next:"?start="+(i+t)})):"nextPageToken"in e&&(e.paging={next:"?pageToken="+e.nextPageToken})}function ae(){var i=[],t=(1e10*Math.random()).toString(32),a=0,r="\r\n",n=r+"--"+t,o=function(){},s=/^data\:([^;,]+(\;charset=[^;,]+)?)(\;base64)?,/i;function l(e,t){i.push(r+"Content-Type: "+t+r+r+e),a--,o()}this.append=function(e,t){"string"!=typeof e&&"length"in Object(e)||(e=[e]);for(var i=0;i<e.length;i++){a++;var n,o=e[i];"undefined"!=typeof File&&o instanceof File||"undefined"!=typeof Blob&&o instanceof Blob?function(t){var e=new FileReader;e.onload=function(e){l(btoa(e.target.result),t.type+r+"Content-Transfer-Encoding: base64")},e.readAsBinaryString(t)}(o):"string"==typeof o&&o.match(s)?(n=o.match(s),l(o.replace(s,""),n[1]+r+"Content-Transfer-Encoding: base64")):l(o,t)}},this.onready=function(e){(o=function(){0===a&&(i.unshift(""),i.push("--"),e(i.join(n),t),i=[])})()}}function re(i,n){var e,t,o={};i.data&&"undefined"!=typeof HTMLInputElement&&i.data instanceof HTMLInputElement&&(i.data={file:i.data}),!i.data.name&&Object(Object(i.data.file).files).length&&"post"===i.method&&(i.data.name=i.data.file.files[0].name),"post"===i.method?i.data={title:i.data.name,parents:[{id:i.data.parent||"root"}],file:i.data.file}:(o=i.data,i.data={},o.parent&&(i.data.parents=[{id:i.data.parent||"root"}]),o.file&&(i.data.file=o.file),o.name&&(i.data.title=o.name)),"file"in i.data&&(e=i.data.file,delete i.data.file,!(e="object"==typeof e&&"files"in e?e.files:e)||!e.length)?n({error:{code:"request_invalid",message:"There were no files attached with this request to upload"}}):((t=new ae).append(JSON.stringify(i.data),"application/json"),e&&t.append(e),t.onready(function(e,t){i.headers["content-type"]='multipart/related; boundary="'+t+'"',i.data=e,n("upload/drive/v2/files"+(o.id?"/"+o.id:"")+"?uploadType=multipart")}))}function se(e){return"string"==typeof e?{error:{code:"invalid_request",message:e}}:(e&&"meta"in e&&"error_type"in e.meta&&(e.error={code:e.meta.error_type,message:e.meta.error_message}),e)}function le(e){return ue(e),e&&"data"in e&&e.data.forEach(de),e}function de(e){e.id&&(e.thumbnail=e.profile_picture,e.name=e.full_name||e.username)}function ue(e){"pagination"in e&&(e.paging={next:e.pagination.next_url},delete e.pagination)}function ce(e,t){var i,n;e&&"Message"in e&&(n=e.Message,delete e.Message,"ErrorCode"in e?(i=e.ErrorCode,delete e.ErrorCode):i=function(e){switch(e.statusCode){case 400:return"invalid_request";case 403:return"stale_token";case 401:return"invalid_token";default:return"server_error"}}(t),e.error={code:i,message:n,details:e})}function O(e){e&&"errorCode"in e&&(e.error={code:e.status,message:e.message})}function ge(e){if(!e.error)return e.first_name=e.firstName,e.last_name=e.lastName,e.name=e.formattedName||e.first_name+" "+e.last_name,e.thumbnail=e.pictureUrl,e.email=e.emailAddress,e}function pe(e){return O(e),fe(e),e.values&&(e.data=e.values.map(ge),delete e.values),e}function fe(e){"_count"in e&&"_start"in e&&e._count+e._start<e._total&&(e.paging={next:"?start="+(e._start+e._count)+"&count="+e._count})}function me(e){e.access_token&&(e.oauth2_access_token=e.access_token,delete e.access_token)}function he(e,t){e.headers["x-li-format"]="json";var i=e.data.id;e.data=("delete"!==e.method).toString(),e.method="put",t("people/~/network/updates/key="+i+"/is-liked")}function ve(e,t){var i=t.access_token;return delete t.access_token,t.oauth_token=i,t["_status_code_map[302]"]=200,!0}function be(e){return e.id&&(e.picture=e.avatar_url,e.thumbnail=e.avatar_url,e.name=e.username||e.full_name),e}function ye(e){return e.id&&(e.name=e.display_name,e.thumbnail=e.images.length?e.images[0].url:null,e.picture=e.thumbnail),e}function we(e){e&&"next"in e&&(e.paging={next:e.next},delete e.next)}function Ce(e){var t;return e.id&&(e.name&&(t=e.name.split(" "),e.first_name=t.shift(),e.last_name=t.join(" ")),e.thumbnail=e.profile_image_url_https||e.profile_image_url),e}function Me(e){return ke(e),Se(e),e.users&&(e.data=e.users.map(Ce),delete e.users),e}function ke(e){var t;e.errors&&(t=e.errors[0],e.error={code:"request_failed",message:t.message})}function Se(e){"next_cursor_str"in e&&(e.paging={next:"?cursor="+e.next_cursor_str})}function Ee(e){return"data"in e&&e.data.forEach(function(e){e.picture&&(e.thumbnail=e.picture),e.images&&(e.pictures=e.images.map(Te).sort(function(e,t){return e.width-t.width}))}),e}function Te(e){return{width:e.width,height:e.height,source:e.source}}function Ie(e,t,i){var n;return e.id&&(i=i.query.access_token,e.emails&&(e.email=e.emails.preferred),!1!==e.is_friend&&(n=e.user_id||e.id,e.thumbnail=e.picture="https://apis.live.net/v5.0/"+n+"/picture?access_token="+i)),e}function F(e,t,i){return"data"in e&&e.data.forEach(function(e){Ie(e,0,i)}),e}function _e(e){e&&"meta"in e&&"error_type"in e.meta&&(e.error={code:e.meta.error_type,message:e.meta.error_message})}function xe(e,t,i){return _e(e),Le(e,0,i),e.query&&e.query.results&&e.query.results.contact&&(e.data=e.query.results.contact,delete e.query,Array.isArray(e.data)||(e.data=[e.data]),e.data.forEach(Ae)),e}function Ae(t){t.id=null,!t.fields||t.fields instanceof Array||(t.fields=[t.fields]),(t.fields||[]).forEach(function(e){"email"===e.type&&(t.email=e.value),"name"===e.type&&(t.first_name=e.value.givenName,t.last_name=e.value.familyName,t.name=e.value.givenName+" "+e.value.familyName),"yahooid"===e.type&&(t.id=e.value)})}function Le(e,t,i){return e.query&&e.query.count&&i.options&&(e.paging={next:"?start="+(e.query.count+(+i.options.start||1))}),e}function Ue(e){return"https://query.yahooapis.com/v1/yql?q="+(e+" limit @{limit|100} offset @{start|0}").replace(/\s/g,"%20")+"&format=json"}(b.utils={extend:function(i){return Array.prototype.slice.call(arguments,1).forEach(function(e){if(Array.isArray(i)&&Array.isArray(e))Array.prototype.push.apply(i,e);else if(i&&(i instanceof Object||"object"==typeof i)&&e&&(e instanceof Object||"object"==typeof e)&&i!==e)for(var t in e)i[t]=b.utils.extend(i[t],e[t]);else Array.isArray(e)&&(e=e.slice(0)),i=e}),i}}).extend(b,{settings:{redirect_uri:window.location.href.split("#")[0],response_type:"token",display:"popup",state:"",oauth_proxy:"https://auth-server.herokuapp.com/proxy",timeout:2e4,popup:{resizable:1,scrollbars:1,width:500,height:550},scope:["basic"],scope_map:{basic:""},default_service:null,force:null,page_uri:window.location.href},services:{},use:function(e){var t=Object.create(this);return t.settings=Object.create(this.settings),e&&(t.settings.default_service=e),t.utils.Event.call(t),t},init:function(e,t){var i,n=this.utils;if(!e)return this.services;for(i in e)e.hasOwnProperty(i)&&"object"!=typeof e[i]&&(e[i]={id:e[i]});return n.extend(this.services,e),t&&(n.extend(this.settings,t),"redirect_uri"in t&&(this.settings.redirect_uri=n.url(t.redirect_uri).href)),this},login:function(){var e=this,t=e.utils,i=t.error,n=t.Promise(),o=t.args({network:"s",options:"o",callback:"f"},arguments),a=t.diffKey(o.options,e.settings),r=o.options=t.merge(e.settings,o.options||{});function s(e,t){b.emit(e,t)}if(r.popup=t.merge(e.settings.popup,o.options.popup||{}),o.network=o.network||e.settings.default_service,n.proxy.then(o.callback,o.callback),n.proxy.then(s.bind(this,"auth.login auth"),s.bind(this,"auth.failed auth")),"string"!=typeof o.network||!(o.network in e.services))return n.reject(i("invalid_network","The provided network was not recognized"));var l,d,u=e.services[o.network],c=t.globalEvent(function(e){e?"string"==typeof e&&(e=JSON.parse(e)):e=i("cancelled","The authentication was not completed"),e.error?n.reject(e):(t.store(e.network,e),n.fulfill({network:e.network,authResponse:e}))}),g=t.url(r.redirect_uri).href,p=u.oauth.response_type||r.response_type,a=(/\bcode\b/.test(p)&&!u.oauth.grant&&(p=p.replace(/\bcode\b/,"token")),o.qs=t.merge(a,{client_id:encodeURIComponent(u.id),response_type:encodeURIComponent(p),redirect_uri:encodeURIComponent(g),state:{client_id:u.id,network:o.network,display:r.display,callback:c,state:r.state,redirect_uri:g}}),t.store(o.network)),c=/[,\s]+/,f=e.settings.scope?[e.settings.scope.toString()]:[],m=t.merge(e.settings.scope_map,u.scope||{});if((r.scope&&f.push(r.scope.toString()),a&&"scope"in a&&a.scope instanceof String&&f.push(a.scope),f=f.join(",").split(c),f=t.unique(f).filter(v),o.qs.state.scope=f.join(","),f=(f=f.map(function(e){return e in m?m[e]:e})).join(",").split(c),f=t.unique(f).filter(v),o.qs.scope=f.join(u.scope_delim||","),!1===r.force)&&(a&&"access_token"in a&&a.access_token&&"expires"in a&&a.expires>(new Date).getTime()/1e3&&0===t.diff((a.scope||"").split(c),(o.qs.state.scope||"").split(c)).length))return n.fulfill({unchanged:!0,network:o.network,authResponse:a}),n;return"page"===r.display&&r.page_uri&&(o.qs.state.page_uri=t.url(r.page_uri).href),"login"in u&&"function"==typeof u.login&&u.login(o),(!/\btoken\b/.test(p)||parseInt(u.oauth.version,10)<2||"none"===r.display&&u.oauth.grant&&a&&a.refresh_token)&&(o.qs.state.oauth=u.oauth,o.qs.state.oauth_proxy=r.oauth_proxy),o.qs.state=encodeURIComponent(JSON.stringify(o.qs.state)),e=1===parseInt(u.oauth.version,10)?t.qs(r.oauth_proxy,o.qs,h):"none"===r.display&&u.oauth.grant&&a&&a.refresh_token?(o.qs.refresh_token=a.refresh_token,t.qs(r.oauth_proxy,o.qs,h)):t.qs(u.oauth.auth,o.qs,h),s("auth.init",o),"none"===r.display?t.iframe(e,g):"popup"===r.display?(l=t.popup(e,g,r.popup),d=setInterval(function(){var e;l&&!l.closed||(clearInterval(d),n.state||(e=i("cancelled","Login has been cancelled"),(e=l?e:i("blocked","Popup was blocked")).network=o.network,n.reject(e)))},100)):window.location=e,n.proxy;function h(e){return e}function v(e){return!!e}},logout:function(){var t=this.utils,e=t.error,i=t.Promise(),n=t.args({name:"s",options:"o",callback:"f"},arguments);function o(e,t){b.emit(e,t)}if(n.options=n.options||{},i.proxy.then(n.callback,n.callback),i.proxy.then(o.bind(this,"auth.logout auth"),o.bind(this,"error")),n.name=n.name||this.settings.default_service,n.authResponse=t.store(n.name),!n.name||n.name in this.services)if(n.name&&n.authResponse){function a(e){t.store(n.name,null),i.fulfill(b.utils.merge({network:n.name},e||{}))}var r={};if(n.options.force){var s=this.services[n.name].logout;if(s)if("string"==typeof(s="function"==typeof s?s(a,n):s))t.iframe(s),r.force=null,r.message="Logout success on providers site was indeterminate";else if(void 0===s)return i.proxy}a(r)}else i.reject(e("invalid_session","There was no session to remove"));else i.reject(e("invalid_network","The network was unrecognized"));return i.proxy},getAuthResponse:function(e){return(e=e||this.settings.default_service)&&e in this.services&&this.utils.store(e)||null},events:{}}),b.utils.extend(b.utils,{error:function(e,t){return{error:{code:e,message:t}}},qs:function(e,t,i){if(t)for(var n in i=i||encodeURIComponent,t){var o=new RegExp("([\\?\\&])"+n+"=[^\\&]*");e.match(o)&&(e=e.replace(o,"$1"+n+"="+i(t[n])),delete t[n])}return this.isEmpty(t)?e:e+(-1<e.indexOf("?")?"&":"?")+this.param(t,i)},param:function(e,t){var i,n,o={};if("string"==typeof e){if(t=t||decodeURIComponent,n=e.replace(/^[\#\?]/,"").match(/([^=\/\&]+)=([^\&]+)/g))for(var a=0;a<n.length;a++)o[(i=n[a].match(/([^=]+)=(.*)/))[1]]=t(i[2]);return o}t=t||encodeURIComponent;var r,s=e,o=[];for(r in s)s.hasOwnProperty(r)&&s.hasOwnProperty(r)&&o.push([r,"?"===s[r]?"?":t(s[r])].join("="));return o.join("&")},store:function(){for(var o,a,e=["localStorage","sessionStorage"],t=-1;e[++t];)try{(o=window[e[t]]).setItem("test"+t,t),o.removeItem("test"+t);break}catch(e){o=null}return o||(a=null,a=(o={getItem:function(e){e+="=";for(var t=document.cookie.split(";"),i=0;i<t.length;i++){var n=t[i].replace(/(^\s+|\s+$)/,"");if(n&&0===n.indexOf(e))return n.substr(e.length)}return a},setItem:function(e,t){a=t,document.cookie=e+"="+t}}).getItem("hello")),function(t,e,i){var n=function(){var e={};try{e=JSON.parse(o.getItem("hello"))||{}}catch(e){}return e}();if(t&&void 0===e)return n[t]||null;if(t&&null===e)try{delete n[t]}catch(e){n[t]=null}else{if(!t)return n;n[t]=e}return o.setItem("hello",JSON.stringify(n)),n||null}}(),append:function(e,t,i){var n="string"==typeof e?document.createElement(e):e;if("object"==typeof t)if("tagName"in t)i=t;else for(var o in t)if(t.hasOwnProperty(o))if("object"==typeof t[o])for(var a in t[o])t[o].hasOwnProperty(a)&&(n[o][a]=t[o][a]);else"html"===o?n.innerHTML=t[o]:/^on/.test(o)?n[o]=t[o]:n.setAttribute(o,t[o]);return"body"===i?function e(){document.body?document.body.appendChild(n):setTimeout(e,16)}():"object"==typeof i?i.appendChild(n):"string"==typeof i&&document.getElementsByTagName(i)[0].appendChild(n),n},iframe:function(e){this.append("iframe",{src:e,style:{position:"absolute",left:"-1000px",bottom:0,height:"1px",width:"1px"}},"body")},merge:function(){var e=Array.prototype.slice.call(arguments);return e.unshift({}),this.extend.apply(null,e)},args:function(e,t){var i,n={},o=0,a=null;for(a in e)if(e.hasOwnProperty(a))break;if(1===t.length&&"object"==typeof t[0]&&"o!"!=e[a])for(a in t[0])if(e.hasOwnProperty(a)&&a in e)return t[0];for(a in e)if(e.hasOwnProperty(a))if(i=typeof t[o],"function"==typeof e[a]&&e[a].test(t[o])||"string"==typeof e[a]&&(-1<e[a].indexOf("s")&&"string"==i||-1<e[a].indexOf("o")&&"object"==i||-1<e[a].indexOf("i")&&"number"==i||-1<e[a].indexOf("a")&&"object"==i||-1<e[a].indexOf("f")&&"function"==i))n[a]=t[o++];else if("string"==typeof e[a]&&-1<e[a].indexOf("!"))return!1;return n},url:function(e){var t;return e?window.URL&&URL instanceof Function&&0!==URL.length?new URL(e,window.location):((t=document.createElement("a")).href=e,t.cloneNode(!1)):window.location},diff:function(t,e){return e.filter(function(e){return-1===t.indexOf(e)})},diffKey:function(e,t){if(!e&&t)return e;var i,n={};for(i in e)i in t||(n[i]=e[i]);return n},unique:function(i){return Array.isArray(i)?i.filter(function(e,t){return i.indexOf(e)===t}):[]},isEmpty:function(e){if(!e)return!0;if(Array.isArray(e))return!e.length;if("object"==typeof e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},Promise:(y.prototype={fulfill:function(e){return t(this,1,"fulfillValue",e)},reject:function(e){return t(this,2,"rejectReason",e)},then:function(e,t){var i=new y;return this.onFulfilled.push(n(e,i,"fulfill")),this.onRejected.push(n(t,i,"reject")),o(this),i.proxy}},t=function(e,t,i,n){return 0===e.state&&(e.state=t,e[i]=n,o(e)),e},o=function(e){1===e.state?i(e,"onFulfilled",e.fulfillValue):2===e.state&&i(e,"onRejected",e.rejectReason)},i=function(e,t,i){var n;0!==e[t].length&&(n=e[t],e[t]=[],e=function(){for(var e=0;e<n.length;e++)n[e](i)},"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick(e):"function"==typeof setImmediate?setImmediate(e):setTimeout(e,0))},n=function(i,n,o){return function(e){if("function"!=typeof i)n[o].call(n,e);else{var t;try{t=i(e)}catch(e){return void n.reject(e)}a(n,t)}}},a=function(t,i){if(t===i||t.proxy===i)t.reject(new TypeError("cannot resolve promise with itself"));else{var e;if("object"==typeof i&&null!==i||"function"==typeof i)try{e=i.then}catch(e){return void t.reject(e)}if("function"==typeof e){var n=!1;try{e.call(i,function(e){n||(n=!0,e===i?t.reject(new TypeError("circular thenable chain")):a(t,e))},function(e){n||(n=!0,t.reject(e))})}catch(e){n||t.reject(e)}}else t.fulfill(i)}},y),Event:function(){var a=/[\s\,]+/;return this.parent={events:this.events,findEvents:this.findEvents,parent:this.parent,utils:this.utils},this.events={},this.on=function(e,t){if(t&&"function"==typeof t)for(var i=e.split(a),n=0;n<i.length;n++)this.events[i[n]]=[t].concat(this.events[i[n]]||[]);return this},this.off=function(e,i){return this.findEvents(e,function(e,t){i&&this.events[e][t]!==i||(this.events[e][t]=null)}),this},this.emit=function(i){function e(e,t){n[n.length-1]="*"===e?i:e,this.events[e][t].apply(this,n)}for(var n=Array.prototype.slice.call(arguments,1),t=(n.push(i),this);t&&t.findEvents;)t.findEvents(i+",*",e),t=t.parent;return this},this.emitAfter=function(){var e=this,t=arguments;return setTimeout(function(){e.emit.apply(e,t)},0),this},this.findEvents=function(e,t){var i,n=e.split(a);for(i in this.events)if(this.events.hasOwnProperty(i)&&-1<n.indexOf(i))for(var o=0;o<this.events[i].length;o++)this.events[i][o]&&t.call(this,i,o)},this},globalEvent:function(e,t){return t=t||"_hellojs_"+parseInt(1e12*Math.random(),10).toString(36),window[t]=function(){try{e.apply(this,arguments)&&delete window[t]}catch(e){console.error(e)}},t},popup:function(e,t,i){var n,o,a=document.documentElement,r=(i.height&&void 0===i.top&&(o=void 0!==window.screenTop?window.screenTop:screen.top,n=screen.height||window.innerHeight||a.clientHeight,i.top=parseInt((n-i.height)/2,10)+o),i.width&&void 0===i.left&&(n=void 0!==window.screenLeft?window.screenLeft:screen.left,o=screen.width||window.innerWidth||a.clientWidth,i.left=parseInt((o-i.width)/2,10)+n),[]),a=(Object.keys(i).forEach(function(e){var t=i[e];r.push(e+(null!==t?"="+t:""))}),-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&(e=t+"#oauth_redirect="+encodeURIComponent(encodeURIComponent(e))),window.open(e,"_blank",r.join(",")));return a&&a.focus&&a.focus(),a},responseHandler:function(e,t){var a=this,i=e.location,n=a.param(i.search);if(n&&n.state&&(n.code||n.oauth_token))return r=JSON.parse(n.state),n.redirect_uri=r.redirect_uri||i.href.replace(/[\?\#].*$/,""),r=a.qs(r.oauth_proxy,n),void i.assign(r);if((n=a.merge(a.param(i.search||""),a.param(i.hash||"")))&&"state"in n){try{var o=JSON.parse(n.state);a.extend(n,o)}catch(e){var r=decodeURIComponent(n.state);try{var s=JSON.parse(r);a.extend(n,s)}catch(e){console.error("Could not decode state parameter")}}"access_token"in n&&n.access_token&&n.network?(n.expires_in&&0!==parseInt(n.expires_in,10)||(n.expires_in=0),n.expires_in=parseInt(n.expires_in,10),n.expires=(new Date).getTime()/1e3+(n.expires_in||31536e3),l(n,0,t)):"error"in n&&n.error&&n.network?(n.error={code:n.error,message:n.error_message||n.error_description},l(n,0,t)):n.callback&&n.callback in t&&(o=!!("result"in n&&n.result)&&JSON.parse(n.result),d(t,n.callback)(o),u()),n.page_uri&&i.assign(n.page_uri)}else"oauth_redirect"in n&&i.assign(decodeURIComponent(n.oauth_redirect));function l(e,t,i){var n=e.callback,o=e.network;if(a.store(o,e),!("display"in e&&"page"===e.display)){if(i&&n&&n in i){try{delete e.callback}catch(e){}a.store(o,e);o=JSON.stringify(e);try{d(i,n)(o)}catch(e){}}u()}}function d(e,t){return 0!==t.indexOf("_hellojs_")?function(){throw"Could not execute callback "+t}:e[t]}function u(){if(e.frameElement)t.document.body.removeChild(e.frameElement);else{try{e.close()}catch(e){}e.addEventListener&&e.addEventListener("load",function(){e.close()})}}}}),b.utils.Event.call(b),d={},u={},(l=b).on("auth.login, auth.logout",function(e){e&&"object"==typeof e&&e.network&&(d[e.network]=l.utils.store(e.network)||{})}),function e(){function t(e){l.emit("auth."+e,{network:i,authResponse:o})}var i,n=(new Date).getTime()/1e3;for(i in l.services)if(l.services.hasOwnProperty(i)&&l.services[i].id){var o=l.utils.store(i)||{},a=l.services[i],r=d[i]||{};if(o&&"callback"in o){var s=o.callback;try{delete o.callback}catch(e){}l.utils.store(i,o);try{window[s](o)}catch(e){}}o&&"expires"in o&&o.expires<n?!(s=a.refresh||o.refresh_token)||i in u&&!(u[i]<n)?s||i in u||(t("expired"),u[i]=!0):(l.emit("notice",i+" has expired trying to resignin"),l.login(i,{display:"none",force:!1}),u[i]=600+n):r.access_token===o.access_token&&r.expires===o.expires||(!o.access_token&&r.access_token?t("logout"):o.access_token&&!r.access_token?t("login"):o.expires!==r.expires&&t("update"),d[i]=o,i in u&&delete u[i])}setTimeout(e,1e3)}(),b.api=function(){var e=this,n=e.utils,o=n.error,a=n.Promise(),r=n.args({path:"s!",query:"o",method:"s",data:"o",timeout:"i",callback:"f"},arguments),t=(r.method=(r.method||"get").toLowerCase(),r.headers=r.headers||{},r.query=r.query||{},"get"!==r.method&&"delete"!==r.method||(n.extend(r.query,r.data),r.data={}),r.data=r.data||{});if(a.then(r.callback,r.callback),!r.path)return a.reject(o("invalid_path","Missing the path parameter from the request"));r.path=r.path.replace(/^\/+/,"");var i=(r.path.split(/[\/\:]/,2)||[])[0].toLowerCase(),s=(i in e.services&&(r.network=i,i=new RegExp("^"+i+":?/?"),r.path=r.path.replace(i,"")),r.network=e.settings.default_service=r.network||e.settings.default_service,e.services[r.network]);if(!s)return a.reject(o("invalid_network","Could not match the service requested: "+r.network));if(r.method in s&&r.path in s[r.method]&&!1===s[r.method][r.path])return a.reject(o("invalid_path","The provided path is not available on the selected network"));r.oauth_proxy||(r.oauth_proxy=e.settings.oauth_proxy),"proxy"in r||(r.proxy=r.oauth_proxy&&s.oauth&&1===parseInt(s.oauth.version,10)),"timeout"in r||(r.timeout=e.settings.timeout),"formatResponse"in r||(r.formatResponse=!0),r.authResponse=e.getAuthResponse(r.network),r.authResponse&&r.authResponse.access_token&&(r.query.access_token=r.authResponse.access_token);var l,i=r.path,t=(r.options=n.clone(r.query),r.data=n.clone(t),s[{delete:"del"}[r.method]||r.method]||{});return"get"===r.method&&(l=i.split(/[\?#]/)[1])&&(n.extend(r.query,n.param(l)),i=i.replace(/\?.*?(#|$)/,"$1")),(l=i.match(/#(.+)/,""))?(i=i.split("#")[0],r.path=l[1]):i in t?i=t[r.path=i]:"default"in t&&(i=t.default),r.redirect_uri=e.settings.redirect_uri,r.xhr=s.xhr,r.jsonp=s.jsonp,r.form=s.form,"function"==typeof i?i(r,d):d(i),a.proxy;function d(e){(e=e.replace(/\@\{([a-z\_\-]+)(\|.*?)?\}/gi,function(e,t,i){var n=i?i.replace(/^\|/,""):"";return t in r.query?(n=r.query[t],delete r.query[t]):r.data&&t in r.data?(n=r.data[t],delete r.data[t]):i||a.reject(o("missing_attribute","The attribute "+t+" is missing from the request")),n})).match(/^https?:\/\//)||(e=s.base+e),r.url=e,n.request(r,function(e,t){var i;r.formatResponse?(e=!0===e?{success:!0}:e||{},"delete"===r.method&&(e=!e||n.isEmpty(e)?{success:!0}:e),s.wrap&&(r.path in s.wrap||"default"in s.wrap)&&(i=r.path in s.wrap?r.path:"default",(new Date).getTime(),(i=s.wrap[i](e,t,r))&&(e=i)),e&&"paging"in e&&e.paging.next&&("?"===e.paging.next[0]?e.paging.next=r.path+e.paging.next:e.paging.next+="#"+r.path),!e||"error"in e?a.reject(e):a.fulfill(e)):("object"==typeof t?400<=t.statusCode:"object"==typeof e&&"error"in e)?a.reject(e):a.fulfill(e)})}},b.utils.extend(b.utils,{request:function(t,i){var o=this,e=o.error;if(o.isEmpty(t.data)||"FileList"in window||!o.hasBinary(t.data)||(t.xhr=!1,t.jsonp=!1),this.request_cors(function(){return void 0===t.xhr||t.xhr&&("function"!=typeof t.xhr||t.xhr(t,t.query))}))r(t,function(e){e=o.xhr(t.method,e,t.headers,t.data,i);e.onprogress=t.onprogress||null,e.upload&&t.onuploadprogress&&(e.upload.onprogress=t.onuploadprogress)});else{var n,a=t.query;if(t.query=o.clone(t.query),t.callbackID=o.globalEvent(),!1!==t.jsonp){if(t.query.callback=t.callbackID,"function"==typeof t.jsonp&&t.jsonp(t,t.query),"get"===t.method)return void r(t,function(e){o.jsonp(e,i,t.callbackID,t.timeout)});t.query=a}if(!1!==t.form)if(t.query.redirect_uri=t.redirect_uri,t.query.state=JSON.stringify({callback:t.callbackID}),"function"==typeof t.form&&(n=t.form(t,t.query)),"post"===t.method&&!1!==n)return void r(t,function(e){o.post(e,t.data,n,i,t.callbackID,t.timeout)});i(e("invalid_request","There was no mechanism for handling this request"))}function r(e,t){e.authResponse&&e.authResponse.oauth&&1===parseInt(e.authResponse.oauth.version,10)&&(i=e.query.access_token,delete e.query.access_token,e.proxy=!0),!e.data||"get"!==e.method&&"delete"!==e.method||(o.extend(e.query,e.data),e.data=null);var i,n=o.qs(e.url,e.query);t(n=e.proxy?o.qs(e.oauth_proxy,{path:n,access_token:i||"",then:e.proxy_response_type||("get"===e.method.toLowerCase()?"redirect":"proxy"),method:e.method.toLowerCase(),suppress_response_codes:!0}):n)}},request_cors:function(e){return"withCredentials"in new XMLHttpRequest&&e()},domInstance:function(e,t){var i="HTML"+(e||"").replace(/^[a-z]/,function(e){return e.toUpperCase()})+"Element";return!!t&&(window[i]?t instanceof window[i]:window.Element?t instanceof window.Element&&(!e||t.tagName&&t.tagName.toLowerCase()===e):!(t instanceof Object||t instanceof Array||t instanceof String||t instanceof Number)&&t.tagName&&t.tagName.toLowerCase()===e)},clone:function(e){if(null===e||"object"!=typeof e||e instanceof Date||"nodeName"in e||this.isBinary(e)||"function"==typeof FormData&&e instanceof FormData)return e;if(Array.isArray(e))return e.map(this.clone.bind(this));var t,i={};for(t in e)i[t]=this.clone(e[t]);return i},xhr:function(n,e,t,i,o){var a,r=new XMLHttpRequest,s=this.error,l=!1;if("blob"===n&&(l=n,n="GET"),n=n.toUpperCase(),r.onload=function(e){var t=r.response;try{t=JSON.parse(r.responseText)}catch(e){401===r.status&&(t=s("access_denied",r.statusText))}var i=function(e){var t,i={},n=/([a-z\-]+):\s?(.*);?/gi;for(;t=n.exec(e);)i[t[1]]=t[2];return i}(r.getAllResponseHeaders());i.statusCode=r.status,o(t||("GET"===n?s("empty_response","Could not get resource"):{}),i)},r.onerror=function(e){var t=r.responseText;try{t=JSON.parse(r.responseText)}catch(e){}o(t||s("access_denied","Could not get resource"))},"GET"===n||"DELETE"===n)i=null;else if(i&&"string"!=typeof i&&!(i instanceof FormData)&&!(i instanceof File)&&!(i instanceof Blob)){var d=new FormData;for(a in i)i.hasOwnProperty(a)&&(i[a]instanceof HTMLInputElement?"files"in i[a]&&0<i[a].files.length&&d.append(a,i[a].files[0]):i[a]instanceof Blob?d.append(a,i[a],i.name):d.append(a,i[a]));i=d}if(r.open(n,e,!0),l&&("responseType"in r?r.responseType=l:r.overrideMimeType("text/plain; charset=x-user-defined")),t)for(a in t)r.setRequestHeader(a,t[a]);return r.send(i),r},jsonp:function(e,t,i,n){function o(){s++||window.setTimeout(function(){t(d),l.removeChild(u)},0)}var a,r=this.error,s=0,l=document.getElementsByTagName("head")[0],d=r("server_error","server_error"),u=(i=this.globalEvent(function(e){return d=e,!0},i),e=e.replace(new RegExp("=\\?(&|$)"),"="+i+"$1"),this.append("script",{id:i,name:i,src:e,async:!0,onload:o,onerror:o,onreadystatechange:function(){/loaded|complete/i.test(this.readyState)&&o()}}));-1<window.navigator.userAgent.toLowerCase().indexOf("opera")&&(a=this.append("script",{text:"document.getElementById('"+i+"').onerror();"}),u.async=!1),n&&window.setTimeout(function(){d=r("timeout","timeout"),o()},n),l.appendChild(u),a&&l.appendChild(a)},post:function(e,t,i,n,o,a){function r(e){v++||n(e)}var s,l,d,u=this,c=u.error,g=document,p=null,f=[],m=0,h=null,v=0;u.globalEvent(r,o);try{l=g.createElement('<iframe name="'+o+'">')}catch(e){l=g.createElement("iframe")}if(l.name=o,l.id=o,l.style.display="none",i&&i.callbackonload&&(l.onload=function(){r({response:"posted",message:"Content was posted"})}),a&&setTimeout(function(){r(c("timeout","The post operation timed out"))},a),g.body.appendChild(l),u.domInstance("form",t)){for(p=t.form,m=0;m<p.elements.length;m++)p.elements[m]!==t&&p.elements[m].setAttribute("disabled",!0);t=p}if(u.domInstance("form",t))for(p=t,m=0;m<p.elements.length;m++)p.elements[m].disabled||"file"!==p.elements[m].type||(p.encoding=p.enctype="multipart/form-data",p.elements[m].setAttribute("name","file"));else{for(h in t)t.hasOwnProperty(h)&&u.domInstance("input",t[h])&&"file"===t[h].type&&((p=t[h].form).encoding=p.enctype="multipart/form-data");for(h in p||(p=g.createElement("form"),g.body.appendChild(p),s=p),t)if(t.hasOwnProperty(h)){var b=u.domInstance("input",t[h])||u.domInstance("textArea",t[h])||u.domInstance("select",t[h]);if(b&&t[h].form===p)b&&t[h].name!==h&&(t[h].setAttribute("name",h),t[h].name=h);else{var y=p.elements[h];if(d)for(y instanceof NodeList||(y=[y]),m=0;m<y.length;m++)y[m].parentNode.removeChild(y[m]);(d=g.createElement("input")).setAttribute("type","hidden"),d.setAttribute("name",h),b?d.value=t[h].value:u.domInstance(null,t[h])?d.value=t[h].innerHTML||t[h].innerText:d.value=t[h],p.appendChild(d)}}for(m=0;m<p.elements.length;m++)(d=p.elements[m]).name in t||!0===d.getAttribute("disabled")||(d.setAttribute("disabled",!0),f.push(d))}p.setAttribute("method","POST"),p.setAttribute("target",o),p.target=o,p.setAttribute("action",e),setTimeout(function(){p.submit(),setTimeout(function(){try{s&&s.parentNode.removeChild(s)}catch(e){try{console.error("HelloJS: could not remove iframe")}catch(e){}}for(var e=0;e<f.length;e++)f[e]&&(f[e].setAttribute("disabled",!1),f[e].disabled=!1)},0)},100)},hasBinary:function(e){for(var t in e)if(e.hasOwnProperty(t)&&this.isBinary(e[t]))return!0;return!1},isBinary:function(e){return e instanceof Object&&(this.domInstance("input",e)&&"file"===e.type||"FileList"in window&&e instanceof window.FileList||"File"in window&&e instanceof window.File||"Blob"in window&&e instanceof window.Blob)},toBlob:function(e){var t=/^data\:([^;,]+(\;charset=[^;,]+)?)(\;base64)?,/i,i=e.match(t);if(!i)return e;for(var n=atob(e.replace(t,"")),o=[],a=0;a<n.length;a++)o.push(n.charCodeAt(a));return new Blob([new Uint8Array(o)],{type:i[1]})}}),R=(h=b).api,(r=h.utils).extend(r,{dataToJSON:function(e){var t=this,i=window,n=e.data;if(t.domInstance("form",n)?n=t.nodeListToJSON(n.elements):"NodeList"in i&&n instanceof NodeList?n=t.nodeListToJSON(n):t.domInstance("input",n)&&(n=t.nodeListToJSON([n])),("File"in i&&n instanceof i.File||"Blob"in i&&n instanceof i.Blob||"FileList"in i&&n instanceof i.FileList)&&(n={file:n}),!("FormData"in i&&n instanceof i.FormData))for(var o in n)if(n.hasOwnProperty(o))if("FileList"in i&&n[o]instanceof i.FileList)1===n[o].length&&(n[o]=n[o][0]);else{if(t.domInstance("input",n[o])&&"file"===n[o].type)continue;t.domInstance("input",n[o])||t.domInstance("select",n[o])||t.domInstance("textArea",n[o])?n[o]=n[o].value:t.domInstance(null,n[o])&&(n[o]=n[o].innerHTML||n[o].innerText)}return e.data=n},nodeListToJSON:function(e){for(var t={},i=0;i<e.length;i++){var n=e[i];!n.disabled&&n.name&&("file"===n.type?t[n.name]=n:t[n.name]=n.value||n.innerHTML)}return t}}),h.api=function(){var e=r.args({path:"s!",method:"s",data:"o",timeout:"i",callback:"f"},arguments);return e.data&&r.dataToJSON(e),R.call(this,e)},b.utils.responseHandler(window,window.opener||window.parent),"object"==typeof chrome&&"object"==typeof chrome.identity&&chrome.identity.launchWebAuthFlow&&(b.utils.popup=function(e){return w(e,!0)},b.utils.iframe=function(e){w(e,!1)},b.utils.request_cors=function(e){return e(),!0},s={},chrome.storage.local.get("hello",function(e){s=e.hello||{}}),b.utils.store=function(e,t){return 0===arguments.length?s:1===arguments.length?s[e]||null:t?(s[e]=t,chrome.storage.local.set({hello:s}),t):null===t?(delete s[e],chrome.storage.local.set({hello:s}),null):void 0}),/^file:\/{3}[^\/]/.test(window.location.href)&&window.cordova&&(b.utils.iframe=function(e,t){b.utils.popup(e,t,{hidden:"yes"})},N=b.utils.popup,b.utils.popup=function(e,t,i){var n,o,a=N.call(this,e,t,i);try{a&&a.addEventListener&&(n=b.utils.url(t),o=n.origin||n.protocol+"//"+n.hostname,a.addEventListener("loadstart",function(e){var e=e.url;0===e.indexOf(o)&&(e={location:{assign:function(e){a.executeScript({code:'window.location.href = "'+e+';"'})},search:(e=b.utils.url(e)).search,hash:e.hash,href:e.href},close:function(){if(a.close){a.close();try{a.closed=!0}catch(e){}}}},b.utils.responseHandler(e,window))}))}catch(e){}return a}),G={version:"1.0",auth:"https://www.dropbox.com/1/oauth/authorize",request:"https://api.dropbox.com/1/oauth/request_token",token:"https://api.dropbox.com/1/oauth/access_token"},(c=b).init({dropbox:{name:"Dropbox",oauth:j={version:2,auth:"https://www.dropbox.com/1/oauth2/authorize",grant:"https://api.dropbox.com/1/oauth2/token"},login:function(e){e.qs.scope="";var t=decodeURIComponent(e.qs.redirect_uri);0===t.indexOf("http:")&&0!==t.indexOf("http://localhost/")?c.services.dropbox.oauth=G:c.services.dropbox.oauth=j,e.options.popup.width=1e3,e.options.popup.height=1e3},base:"https://api.dropbox.com/1/",root:"sandbox",get:{me:"account/info","me/files":C("metadata/auto/@{parent|}"),"me/folder":C("metadata/auto/@{id}"),"me/folders":C("metadata/auto/"),default:function(e,t){e.path.match("https://api-content.dropbox.com/1/files/")&&(e.method="blob"),t(e.path)}},post:{"me/files":function(e,t){var i=e.data.parent,n=e.data.name;e.data={file:e.data.file},"string"==typeof e.data.file&&(e.data.file=c.utils.toBlob(e.data.file)),t("https://api-content.dropbox.com/1/files_put/auto/"+i+"/"+n)},"me/folders":function(e,t){var i=e.data.name;e.data={},t("fileops/create_folder?root=@{root|sandbox}&"+c.utils.param({path:i}))}},del:{"me/files":"fileops/delete?root=@{root|sandbox}&path=@{id}","me/folder":"fileops/delete?root=@{root|sandbox}&path=@{id}"},wrap:{me:function(e){if(H(e),!e.uid)return e;e.name=e.display_name;var t=e.name.split(" ");return e.first_name=t.shift(),e.last_name=t.join(" "),e.id=e.uid,delete e.uid,delete e.display_name,e},default:function(t,e,i){return H(t),t.is_dir&&t.contents&&(t.data=t.contents,delete t.contents,t.data.forEach(function(e){e.root=t.root,W(e,0,i)})),W(t,0,i),t.is_deleted&&(t.success=!0),t}},xhr:function(e){var t;return e.data&&e.data.file&&((t=e.data.file)&&(t.files?e.data=t.files[0]:e.data=t)),"delete"===e.method&&(e.method="post"),!0},form:function(e,t){delete t.state,delete t.redirect_uri}}}),(g=b).init({facebook:{name:"Facebook",oauth:{version:2,auth:"https://www.facebook.com/v2.9/dialog/oauth/",grant:"https://graph.facebook.com/oauth/access_token"},scope:{basic:"public_profile",email:"email",share:"user_posts",birthday:"user_birthday",events:"user_events",photos:"user_photos",videos:"user_videos",friends:"user_friends",files:"user_photos,user_videos",publish_files:"user_photos,user_videos,publish_actions",publish:"publish_actions",offline_access:""},refresh:!1,login:function(e){e.options.force&&(e.qs.auth_type="reauthenticate"),e.qs.display=e.options.display||"popup"},logout:function(e,t){e=g.utils.globalEvent(e),e=encodeURIComponent(g.settings.redirect_uri+"?"+g.utils.param({callback:e,result:JSON.stringify({force:!0}),state:"{}"})),t=(t.authResponse||{}).access_token;if(g.utils.iframe("https://www.facebook.com/logout.php?next="+e+"&access_token="+t),!t)return!1},base:"https://graph.facebook.com/v2.9/",get:{me:"me?fields=email,first_name,last_name,name,timezone,verified","me/friends":"me/friends","me/following":"me/friends","me/followers":"me/friends","me/share":"me/feed","me/like":"me/likes","me/files":"me/albums","me/albums":"me/albums?fields=cover_photo,name","me/album":"@{id}/photos?fields=picture","me/photos":"me/photos","me/photo":"@{id}","friend/albums":"@{id}/albums","friend/photos":"@{id}/photos"},post:{"me/share":"me/feed","me/photo":"@{id}"},wrap:{me:$,"me/friends":M,"me/following":M,"me/followers":M,"me/albums":k,"me/photos":k,"me/files":k,default:k},xhr:function(e,t){return"get"!==e.method&&"post"!==e.method||(t.suppress_response_codes=!0),"post"===e.method&&e.data&&"string"==typeof e.data.file&&(e.data.file=g.utils.toBlob(e.data.file)),!0},jsonp:function(e,t){var i=e.method;"get"===i||g.utils.hasBinary(e.data)?"delete"===e.method&&(t.method="delete",e.method="post"):(e.data.method=i,e.method="get")},form:function(e){return{callbackonload:!0}}}}),f="https://graph.facebook.com/",(m=b).init({flickr:{name:"Flickr",oauth:{version:"1.0a",auth:"https://www.flickr.com/services/oauth/authorize?perms=read",request:"https://www.flickr.com/services/oauth/request_token",token:"https://www.flickr.com/services/oauth/access_token"},base:"https://api.flickr.com/services/rest",get:{me:S("flickr.people.getInfo"),"me/friends":S("flickr.contacts.getList",{per_page:"@{limit|50}"}),"me/following":S("flickr.contacts.getList",{per_page:"@{limit|50}"}),"me/followers":S("flickr.contacts.getList",{per_page:"@{limit|50}"}),"me/albums":S("flickr.photosets.getList",{per_page:"@{limit|50}"}),"me/album":S("flickr.photosets.getPhotos",{photoset_id:"@{id}"}),"me/photos":S("flickr.people.getPhotos",{per_page:"@{limit|50}"})},wrap:{me:function(e){var t;return I(e),(e=_(e,"person")).id&&(e.realname&&(e.name=e.realname._content,t=e.name.split(" "),e.first_name=t.shift(),e.last_name=t.join(" ")),e.thumbnail=E(e,"l"),e.picture=E(e,"l")),e},"me/friends":x,"me/followers":x,"me/following":x,"me/albums":function(e){return I(e),A(e=_(e,"photosets")),e.photoset&&(e.data=e.photoset,e.data.forEach(function(e){e.name=e.title._content,e.photos="https://api.flickr.com/services/rest"+J("flickr.photosets.getPhotos",{photoset_id:e.id},!0)}),delete e.photoset),e},"me/photos":function(e){return I(e),X(e)},default:function(e){return I(e),X(e)}},xhr:!1,jsonp:function(e,t){"get"==e.method&&(delete t.callback,t.jsoncallback=e.callbackID)}}}),b.init({foursquare:{name:"Foursquare",oauth:{version:2,auth:"https://foursquare.com/oauth2/authenticate",grant:"https://foursquare.com/oauth2/access_token"},refresh:!0,base:"https://api.foursquare.com/v2/",get:{me:"users/self","me/friends":"users/self/friends","me/followers":"users/self/friends","me/following":"users/self/friends"},wrap:{me:function(e){return z(e),e&&e.response&&Y(e=e.response.user),e},default:function(e){return z(e),e&&"response"in e&&"friends"in e.response&&"items"in e.response.friends&&(e.data=e.response.friends.items,e.data.forEach(Y),delete e.response),e}},xhr:Q,jsonp:Q}}),b.init({github:{name:"GitHub",oauth:{version:2,auth:"https://github.com/login/oauth/authorize",grant:"https://github.com/login/oauth/access_token",response_type:"code"},scope:{email:"user:email"},base:"https://api.github.com/",get:{me:"user","me/friends":"user/following?per_page=@{limit|100}","me/following":"user/following?per_page=@{limit|100}","me/followers":"user/followers?per_page=@{limit|100}","me/like":"user/starred?per_page=@{limit|100}"},wrap:{me:function(e,t){return K(e,t),Z(e),e},default:function(e,t,i){var n;return K(e,t),(e=Array.isArray(e)?{data:e}:e).data&&(t=t,(n=e).data&&n.data.length&&t&&t.Link&&((t=t.Link.match(/<(.*?)>;\s*rel=\"next\"/))&&(n.paging={next:t[1]})),e.data.forEach(Z)),e}},xhr:function(e){return"get"!==e.method&&e.data&&(e.headers=e.headers||{},e.headers["Content-Type"]="application/json","object"==typeof e.data&&(e.data=JSON.stringify(e.data))),!0}}}),(V=b).init({google:{name:"Google Sign-In",oauth:{version:2,auth:"https://accounts.google.com/o/oauth2/v2/auth",grant:"https://www.googleapis.com/oauth2/v4/token"},scope:{basic:"openid profile",email:"email",birthday:"",events:"",photos:"https://picasaweb.google.com/data/",videos:"http://gdata.youtube.com",files:"https://www.googleapis.com/auth/drive.readonly",publish:"",publish_files:"https://www.googleapis.com/auth/drive",share:"",create_event:"",offline_access:""},scope_delim:" ",login:function(e){"code"===e.qs.response_type?e.qs.access_type="offline":-1<e.qs.response_type.indexOf("id_token")&&(e.qs.nonce=parseInt(1e12*Math.random(),10).toString(36)),e.options.force&&(e.qs.approval_prompt="force")},base:"https://www.googleapis.com/",get:{me:"oauth2/v3/userinfo?alt=json","me/following":h="https://www.google.com/m8/feeds/contacts/default/full?v=3.0&alt=json&max-results=@{limit|1000}&start-index=@{start|1}","me/followers":h,"me/contacts":h,"me/albums":"https://picasaweb.google.com/data/feed/api/user/default?alt=json&max-results=@{limit|100}&start-index=@{start|1}","me/album":function(e,t){var i=e.query.id;delete e.query.id,t(i.replace("/entry/","/feed/"))},"me/photos":"https://picasaweb.google.com/data/feed/api/user/default?alt=json&kind=photo&max-results=@{limit|100}&start-index=@{start|1}","me/file":"drive/v2/files/@{id}","me/files":"drive/v2/files?q=%22@{parent|root}%22+in+parents+and+trashed=false&maxResults=@{limit|100}","me/folders":"drive/v2/files?q=%22@{id|root}%22+in+parents+and+mimeType+=+%22application/vnd.google-apps.folder%22+and+trashed=false&maxResults=@{limit|100}","me/folder":"drive/v2/files?q=%22@{id|root}%22+in+parents+and+trashed=false&maxResults=@{limit|100}"},post:{"me/files":re,"me/folders":function(e,t){e.data={title:e.data.name,parents:[{id:e.data.parent||"root"}],mimeType:"application/vnd.google-apps.folder"},t("drive/v2/files")}},put:{"me/files":re},del:{"me/files":"drive/v2/files/@{id}","me/folder":"drive/v2/files/@{id}"},patch:{"me/file":"drive/v2/files/@{id}"},wrap:{me:function(e){return e.sub&&(e.id=e.sub),e.id&&(e.last_name=e.family_name||(e.name?e.name.familyName:null),e.first_name=e.given_name||(e.name?e.name.givenName:null),e.emails&&e.emails.length&&(e.email=e.emails[0].value),ne(e)),e},"me/friends":function(e){return e.items&&(q(e),e.data=e.items,e.data.forEach(ne),delete e.items),e},"me/contacts":D,"me/followers":D,"me/following":D,"me/share":ee,"me/feed":ee,"me/albums":ie,"me/photos":function(e){"feed"in e&&(e.data="entry"in e.feed?e.feed.entry.map(oe):[],delete e.feed);return e},default:ie},xhr:function(e){if("post"===e.method||"put"===e.method){var t=e;if("object"==typeof t.data)try{t.data=JSON.stringify(t.data),t.headers["content-type"]="application/json"}catch(e){}}else"patch"===e.method&&(V.utils.extend(e.query,e.data),e.data=null);return!0},form:!1}}),b.init({instagram:{name:"Instagram",oauth:{version:2,auth:"https://instagram.com/oauth/authorize/",grant:"https://api.instagram.com/oauth/access_token"},refresh:!0,scope:{basic:"basic",photos:"",friends:"relationships",publish:"likes comments",email:"",share:"",publish_files:"",files:"",videos:"",offline_access:""},scope_delim:" ",base:"https://api.instagram.com/v1/",get:{me:"users/self","me/feed":"users/self/feed?count=@{limit|100}","me/photos":"users/self/media/recent?min_id=0&count=@{limit|100}","me/friends":"users/self/follows?count=@{limit|100}","me/following":"users/self/follows?count=@{limit|100}","me/followers":"users/self/followed-by?count=@{limit|100}","friend/photos":"users/@{id}/media/recent?min_id=0&count=@{limit|100}"},post:{"me/like":function(e,t){var i=e.data.id;e.data={},t("media/"+i+"/likes")}},del:{"me/like":"media/@{id}/likes"},wrap:{me:function(e){return se(e),"data"in e&&(e.id=e.data.id,e.thumbnail=e.data.profile_picture,e.name=e.data.full_name||e.data.username),e},"me/friends":le,"me/following":le,"me/followers":le,"me/photos":function(e){return se(e),ue(e),"data"in e&&(e.data=e.data.filter(function(e){return"image"===e.type}),e.data.forEach(function(t){t.name=t.caption?t.caption.text:null,t.thumbnail=t.images.thumbnail.url,t.picture=t.images.standard_resolution.url,t.pictures=Object.keys(t.images).map(function(e){e=t.images[e];return{source:e.url,width:e.width,height:e.height}}).sort(function(e,t){return e.width-t.width})})),e},default:function(e){return ue(e=se(e)),e}},xhr:function(e,t){var i=e.method,n="get"!==i;return n&&("post"!==i&&"put"!==i||!e.query.access_token||(e.data.access_token=e.query.access_token,delete e.query.access_token),e.proxy=n),n},form:!1}}),b.init({joinme:{name:"join.me",oauth:{version:2,auth:"https://secure.join.me/api/public/v1/auth/oauth2",grant:"https://secure.join.me/api/public/v1/auth/oauth2"},refresh:!1,scope:{basic:"user_info",user:"user_info",scheduler:"scheduler",start:"start_meeting",email:"",friends:"",share:"",publish:"",photos:"",publish_files:"",files:"",videos:"",offline_access:""},scope_delim:" ",login:function(e){e.options.popup.width=400,e.options.popup.height=700},base:"https://api.join.me/v1/",get:{me:"user",meetings:"meetings","meetings/info":"meetings/@{id}"},post:{"meetings/start/adhoc":function(e,t){t("meetings/start")},"meetings/start/scheduled":function(e,t){var i=e.data.meetingId;e.data={},t("meetings/"+i+"/start")},"meetings/schedule":function(e,t){t("meetings")}},patch:{"meetings/update":function(e,t){t("meetings/"+e.data.meetingId)}},del:{"meetings/delete":"meetings/@{id}"},wrap:{me:function(e,t){return ce(e,t),e.email&&(e.name=e.fullName,e.first_name=e.name.split(" ")[0],e.last_name=e.name.split(" ")[1],e.id=e.email),e},default:function(e,t){return ce(e,t),e}},xhr:function(e,t){var i=t.access_token;delete t.access_token,e.headers.Authorization="Bearer "+i,"get"!==e.method&&e.data&&(e.headers["Content-Type"]="application/json","object"==typeof e.data&&(e.data=JSON.stringify(e.data)));"put"===e.method&&(e.method="patch");return!0}}}),b.init({linkedin:{oauth:{version:2,response_type:"code",auth:"https://www.linkedin.com/uas/oauth2/authorization",grant:"https://www.linkedin.com/uas/oauth2/accessToken"},refresh:!0,scope:{basic:"r_basicprofile",email:"r_emailaddress",files:"",friends:"",photos:"",publish:"w_share",publish_files:"w_share",share:"",videos:"",offline_access:""},scope_delim:" ",base:"https://api.linkedin.com/v1/",get:{me:"people/~:(picture-url,first-name,last-name,id,formatted-name,email-address)","me/share":"people/~/network/updates?count=@{limit|250}"},post:{"me/share":function(e,t){var i={visibility:{code:"anyone"}};e.data.id?i.attribution={share:{id:e.data.id}}:(i.comment=e.data.message,e.data.picture&&e.data.link&&(i.content={"submitted-url":e.data.link,"submitted-image-url":e.data.picture})),e.data=JSON.stringify(i),t("people/~/shares?format=json")},"me/like":he},del:{"me/like":he},wrap:{me:function(e){return O(e),ge(e),e},"me/friends":pe,"me/following":pe,"me/followers":pe,"me/share":function(e){return O(e),fe(e),e.values&&(e.data=e.values.map(ge),e.data.forEach(function(e){e.message=e.headline}),delete e.values),e},default:function(e,t){var i;O(e),i=e,t=t,"{}"===JSON.stringify(i)&&200===t.statusCode&&(i.success=!0),fe(e)}},jsonp:function(e,t){me(t),"get"===e.method&&(t.format="jsonp",t["error-callback"]=e.callbackID)},xhr:function(e,t){return"get"!==e.method&&(me(t),e.headers["Content-Type"]="application/json",e.headers["x-li-format"]="json",e.proxy=!0)}}}),b.init({soundcloud:{name:"SoundCloud",oauth:{version:2,auth:"https://soundcloud.com/connect",grant:"https://soundcloud.com/oauth2/token"},base:"https://api.soundcloud.com/",get:{me:"me.json","me/friends":"me/followings.json","me/followers":"me/followers.json","me/following":"me/followings.json",default:function(e,t){t(e.path+".json")}},wrap:{me:function(e){return be(e),e},default:function(e){var t;return Array.isArray(e)&&(e={data:e.map(be)}),"next_href"in(t=e)&&(t.paging={next:t.next_href}),e}},xhr:ve,jsonp:ve}}),b.init({spotify:{name:"Spotify",oauth:{version:2,auth:"https://accounts.spotify.com/authorize",grant:"https://accounts.spotify.com/api/token"},scope_delim:" ",scope:{basic:"",photos:"",friends:"user-follow-read",publish:"user-library-read",email:"user-read-email",share:"",publish_files:"",files:"",videos:"",offline_access:""},base:"https://api.spotify.com",get:{me:"/v1/me","me/following":"/v1/me/following?type=artist","me/like":"/v1/me/tracks"},wrap:{me:ye,"me/following":function(e){we(e),e&&"artists"in e&&(e.data=e.artists.items.forEach(ye));return e},"me/like":function(e){return we(e),e.data=e.items,e}},xhr:function(e,t){var i=t.access_token;return delete t.access_token,e.headers.Authorization="Bearer "+i,!0},jsonp:!1}}),(B=b).init({twitter:{oauth:{version:"1.0a",auth:(h="https://api.twitter.com/")+"oauth/authenticate",request:h+"oauth/request_token",token:h+"oauth/access_token"},login:function(e){var t="?force_login=true";this.oauth.auth=this.oauth.auth.replace(t,"")+(e.options.force?t:"")},base:h+"1.1/",get:{me:"account/verify_credentials.json","me/friends":"friends/list.json?count=@{limit|200}","me/following":"friends/list.json?count=@{limit|200}","me/followers":"followers/list.json?count=@{limit|200}","me/share":"statuses/user_timeline.json?count=@{limit|200}","me/like":"favorites/list.json?count=@{limit|200}"},post:{"me/share":function(e,t){var i=e.data,n=(e.data=null,[]);i.message&&(n.push(i.message),delete i.message),i.link&&(n.push(i.link),delete i.link),i.picture&&(n.push(i.picture),delete i.picture),n.length&&(i.status=n.join(" ")),i.file?(i["media[]"]=i.file,delete i.file,e.data=i,t("statuses/update_with_media.json")):"id"in i?t("statuses/retweet/"+i.id+".json"):(B.utils.extend(e.query,i),t("statuses/update.json?include_entities=1"))},"me/like":function(e,t){var i=e.data.id;e.data=null,t("favorites/create.json?id="+i)}},del:{"me/like":function(){p.method="post";var e=p.data.id;p.data=null,callback("favorites/destroy.json?id="+e)}},wrap:{me:function(e){return ke(e),Ce(e),e},"me/friends":Me,"me/followers":Me,"me/following":Me,"me/share":function(e){return ke(e),Se(e),!e.error&&"length"in e?{data:e}:e},default:function(e){var t;return t=e,Se(e=Array.isArray(t)?{data:t}:t),e}},xhr:function(e){return"get"!==e.method}}}),b.init({vk:{name:"Vk",oauth:{version:2,auth:"https://oauth.vk.com/authorize",grant:"https://oauth.vk.com/access_token"},scope:{email:"email",friends:"friends",photos:"photos",videos:"video",share:"share",offline_access:"offline"},refresh:!0,login:function(e){e.qs.display=window.navigator&&window.navigator.userAgent&&/ipad|phone|phone|android/.test(window.navigator.userAgent.toLowerCase())?"mobile":"popup"},base:"https://api.vk.com/method/",get:{me:function(e,t){e.query.fields="id,first_name,last_name,photo_max",t("users.get")}},wrap:{me:function(e,t,i){var n=e,n=(n.error&&(o=n.error,n.error={code:o.error_code,message:o.error_msg}),e),o=i;return null!==n&&"response"in n&&null!==n.response&&n.response.length&&((n=n.response[0]).id=n.uid,n.thumbnail=n.picture=n.photo_max,n.name=n.first_name+" "+n.last_name,o.authResponse&&null!==o.authResponse.email&&(n.email=o.authResponse.email)),n}},xhr:!1,jsonp:!0,form:!1}}),(v=b).init({windows:{name:"Windows live",oauth:{version:2,auth:"https://login.live.com/oauth20_authorize.srf",grant:"https://login.live.com/oauth20_token.srf"},refresh:!0,logout:function(){return"http://login.live.com/oauth20_logout.srf?ts="+(new Date).getTime()},scope:{basic:"wl.signin,wl.basic",email:"wl.emails",birthday:"wl.birthday",events:"wl.calendars",photos:"wl.photos",videos:"wl.photos",friends:"wl.contacts_emails",files:"wl.skydrive",publish:"wl.share",publish_files:"wl.skydrive_update",share:"wl.share",create_event:"wl.calendars_update,wl.events_create",offline_access:"wl.offline_access"},base:"https://apis.live.net/v5.0/",get:{me:"me","me/friends":"me/friends","me/following":"me/contacts","me/followers":"me/friends","me/contacts":"me/contacts","me/albums":"me/albums","me/album":"@{id}/files","me/photo":"@{id}","me/files":"@{parent|me/skydrive}/files","me/folders":"@{id|me/skydrive}/files","me/folder":"@{id|me/skydrive}/files"},post:{"me/albums":"me/albums","me/album":"@{id}/files/","me/folders":"@{id|me/skydrive/}","me/files":"@{parent|me/skydrive}/files"},del:{"me/album":"@{id}","me/photo":"@{id}","me/folder":"@{id}","me/files":"@{id}"},wrap:{me:Ie,"me/friends":F,"me/contacts":F,"me/followers":F,"me/following":F,"me/albums":function(e){"data"in e&&e.data.forEach(function(e){e.photos=e.files="https://apis.live.net/v5.0/"+e.id+"/photos"});return e},"me/photos":Ee,default:Ee},xhr:function(e){return"get"===e.method||"delete"===e.method||v.utils.hasBinary(e.data)||("string"==typeof e.data.file?e.data.file=v.utils.toBlob(e.data.file):(e.data=JSON.stringify(e.data),e.headers={"Content-Type":"application/json"})),!0},jsonp:function(e){"get"===e.method||v.utils.hasBinary(e.data)||(e.data.method=e.method,e.method="get")}}}),b.init({yahoo:{oauth:{version:"1.0a",auth:"https://api.login.yahoo.com/oauth/v2/request_auth",request:"https://api.login.yahoo.com/oauth/v2/get_request_token",token:"https://api.login.yahoo.com/oauth/v2/get_token"},login:function(e){e.options.popup.width=560;try{delete e.qs.state.scope}catch(e){}},base:"https://social.yahooapis.com/v1/",get:{me:Ue("select * from social.profile(0) where guid=me"),"me/friends":Ue("select * from social.contacts(0) where guid=me"),"me/following":Ue("select * from social.contacts(0) where guid=me")},wrap:{me:function(e){{var t;_e(e),e.query&&e.query.results&&e.query.results.profile&&((e=e.query.results.profile).id=e.guid,e.last_name=e.familyName,e.first_name=e.givenName||e.nickname,t=[],e.first_name&&t.push(e.first_name),e.last_name&&t.push(e.last_name),e.name=t.join(" "),e.email=e.emails&&e.emails[0]?e.emails[0].handle:null,e.thumbnail=e.image?e.image.imageUrl:null)}return e},"me/friends":xe,"me/following":xe,default:Le}}}),e.Vendor.hello=b}(window[window.GatedContentObject]),function(o){o.Vendor=o.Vendor||{};var r=r||{removeNode:function(e){e=document.getElementById(e);e&&e.parentNode.removeChild(e)},insertAfter:function(e,t){var i=t.parentNode;t.nextElementSibling?i.insertBefore(e,t.nextElementSibling):i.appendChild(e)},hide:function(e){e.style.display="none"},hideAll:function(e){for(var t=0;t<e.length;t++)this.hide(e[t])},show:function(e){e.style.display="block"},showAll:function(e){for(var t=0;t<e.length;t++)this.show(e[t])},parent:function(e,t){for(var i=e.parentElement;i&&"BODY"!=i.tagName;){if(i.id==t)return i;i=i.parentElement}return null},create:function(e){var t=document.createElement(e.tag);if(e.id&&(t.id=e.id),e.class&&(t.className=e.class),e.attributes)for(var i in e.attributes)t.setAttribute(i,e.attributes[i]);if(e.data)for(var i in e.data)t.dataset[i]=e.data[i];return t},div:function(e){return(e=e||new Object).tag="div",this.create(e)},label:function(e){return(e=e||new Object).tag="label",this.create(e)},textField:function(e){return(e=e||new Object).tag="input",e.attributes||(e.attributes=new Object),e.attributes.type="text",this.create(e)},checkbox:function(e){return(e=e||new Object).tag="input",e.attributes||(e.attributes=new Object),e.attributes.type="checkbox",this.create(e)},each:function(e,t){for(var i=0;i<e.length;i++)t(e[i])},setActive:function(e){e.classList.add("active")},setUnactive:function(e){e.classList.remove("active")},select:function(e){e.selected=!0,e.setAttribute("selected","selected")},deselect:function(e){e.selected=!1,e.removeAttribute("selected")},check:function(e){e.checked=!0},uncheck:function(e){e.checked=!1},click:function(e){var t;e.fireEvent?el.fireEvent("onclick"):((t=document.createEvent("Events")).initEvent("click",!0,!1),e.dispatchEvent(t))},setDisabled:function(e,t){e.disabled=t}};function a(e,t,i){if("SELECT"!=e.tagName)throw"Multiselect: passed object must be a select";if(!e.hasAttribute("multiple"))throw"Multiselect: passed object should contain 'multiple' attribute";this.lang=i,this._item=e,this._createUI(),this._appendEvents(),this._initSelectedFields(),this._initIsEnabled()}a.prototype={_createUI:function(){r.removeNode(this._getIdentifier());var e=this._createWrapper();r.insertAfter(e,this._item),e.appendChild(this._createInputField()),e.appendChild(this._createItemList()),r.hide(this._item)},_createWrapper:function(){var e=document.createElement("div");return e.className="multiselect-wrapper",e.id=this._getIdentifier(),e},_createInputField:function(){var e=r.textField({id:this._getInputFieldIdentifier(),class:"gcdc-form-field multiselect-input",attributes:{autocomplete:"off"}}),t=r.label({id:this._getInputBadgeIdentifier(),class:"multiselect-count",attributes:{for:this._getInputFieldIdentifier()}}),i=r.label({class:"multiselect-dropdown-arrow",attributes:{for:this._getInputFieldIdentifier()}}),n=r.div({class:"multiselect-input-div"});return t.style.visibility="hidden",t.innerHTML=0,n.appendChild(e),n.appendChild(t),n.appendChild(i),n},_createItemList:function(){var i=r.create({tag:"ul"}),n=this,e=(r.each(this._getItems(this._item),function(e){var t=n._createItem("li",e.id,e.text,e.selected),t=(i.appendChild(t),t.querySelector("input[type=checkbox]"));(e.multiselectElement=t).dataset.multiselectElement=JSON.stringify(e)}),this._createItem("span",-1,o.Modules.Localise.translateString("multiselectSelectAll",this.lang,"Select all"))),t=r.div({id:this._getItemListIdentifier(),class:"multiselect-list"});return t.appendChild(e),t.appendChild(r.create({tag:"hr"})),t.appendChild(i),t},_createItem:function(e,t,i,n){var t=r.checkbox({class:"multiselect-checkbox",data:{val:t}}),o=r.create({tag:"span",class:"multiselect-text"}),e=r.create({tag:e}),a=r.label();return o.className="multiselect-text",o.innerHTML=i,a.appendChild(t),a.appendChild(o),e.appendChild(a),e},_initSelectedFields:function(){var t,e=this._getItems().filter(function(e){return e.selected});0!=e.length&&(t=this,r.each(e,function(e){t.select(e.id)})),this._hideList(this)},_initIsEnabled:function(){this.setIsEnabled(!this._item.disabled)},destroy:function(){r.removeNode(this._getIdentifier()),r.show(this._item);var e=window.gcdc_multiselects._items.indexOf(this._item);-1<e&&(window.gcdc_multiselects._items.splice(e,1),window.gcdc_multiselects.splice(e,1))},select:function(e){this._toggle(e,!0)},deselect:function(e){this._toggle(e,!1)},setIsEnabled:function(e){var t;this._isEnabled!==e&&(t=document.getElementById(this._getIdentifier()),e?t.classList.remove("disabled"):t.classList.add("disabled"),r.setDisabled(this._item,!e),r.setDisabled(document.getElementById(this._getInputFieldIdentifier()),!e),this._isEnabled=e)},_toggle:function(t,i){var n=this;t&&(r.each(document.getElementById(this._getIdentifier()).querySelectorAll(".multiselect-checkbox"),function(e){e.dataset.val==t&&(i&&!e.checked?(r.check(e),n._onCheckBoxChange(e,n)):!i&&e.checked&&(r.uncheck(e),n._onCheckBoxChange(e,n)))}),n._updateText(n))},selectAll:function(e){var t=document.querySelector("#"+this._getIdentifier()+" .multiselect-checkbox");r.check(t),this._onCheckBoxChange(t,this),this._updateText(this)},deselectAll:function(){var e=document.querySelector("#"+this._getIdentifier()+" .multiselect-checkbox");r.uncheck(e),this._onCheckBoxChange(e,this),this._updateText(this)},_checkboxClickEvents:{},setCheckBoxClick:function(e,t){return"function"==typeof t?this._checkboxClickEvents[e]=t:console.error("Checkbox click handler for checkbox value="+e+" is not a function"),this},_appendEvents:function(){function e(){var e,t=this.value.toLowerCase();t&&""!=t?(r.hide(document.querySelector("#"+n._getItemListIdentifier()+" > span")),r.hide(document.querySelector("#"+n._getItemListIdentifier()+" > hr")),e=Array.prototype.filter.call(document.querySelectorAll("#"+n._getItemListIdentifier()+" li span"),function(e){return-1<e.innerHTML.toLowerCase().indexOf(t)}),r.hideAll(document.querySelectorAll("#"+n._getItemListIdentifier()+" li")),r.each(e,function(e){r.show(e.parentElement.parentElement)})):(r.show(document.querySelector("#"+n._getItemListIdentifier()+" > span")),r.show(document.querySelector("#"+n._getItemListIdentifier()+" > hr")),r.showAll(document.querySelectorAll("#"+n._getItemListIdentifier()+" li")))}var n=this;document.getElementById(n._getInputFieldIdentifier()).addEventListener("focus",function(i){n._showList(n),document.getElementById(n._getInputFieldIdentifier()).value="",r.each(window.gcdc_multiselects,function(e){var t=document.getElementById(e._getItemListIdentifier());t&&t.offsetParent&&r.parent(i.target,e._getIdentifier())&&e._hideList(n)})}),document.getElementById(n._getInputFieldIdentifier()).addEventListener("click",function(){"readonly"!==document.getElementById(n._getInputFieldIdentifier()).getAttribute("readonly")&&(n._showList(n),document.getElementById(n._getInputFieldIdentifier()).value="")}),document.getElementById(n._getIdentifier()).addEventListener("click",function(e){var t=(e=e||window.event).target||e.srcElement;r.parent(t,n._getIdentifier())&&e.stopPropagation()}),document.getElementById(n._getItemListIdentifier()).addEventListener("mouseover",function(){n._showList(n)}),r.each(document.getElementById(n._getIdentifier()).querySelectorAll(".multiselect-checkbox"),function(t){t.addEventListener("change",function(e){n._onCheckBoxChange(t,n,e)})});document.getElementById(n._getInputFieldIdentifier()).addEventListener("propertychange",e),document.getElementById(n._getInputFieldIdentifier()).addEventListener("input",e)},_onCheckBoxChange:function(e,t,i){var n;e.dataset.multiselectElement?(n=t._performSelectItem(e,t),"function"==typeof t._checkboxClickEvents[n.id]&&t._checkboxClickEvents[n.id](e,n),t._updateSelectAll(t)):(n=t._performSelectAll(e,t),"function"==typeof t._checkboxClickEvents.checkboxAll&&t._checkboxClickEvents.checkboxAll(e,{checked:n})),t._forceUpdate()},_performSelectItem:function(e,t){var i=JSON.parse(e.dataset.multiselectElement);return e.checked?(t._itemCounter++,r.select(this._item.options[i.index]),r.setActive(e.parentElement.parentElement),this._item.setAttribute("data-last-value-changed--by-interaction",!0),o.Modules.UI.simulateEvent(this._item,"change"),{id:i.id,checked:!0}):(t._itemCounter--,r.deselect(this._item.options[i.index]),r.setUnactive(e.parentElement.parentElement),this._item.setAttribute("data-last-value-changed--by-interaction",!0),o.Modules.UI.simulateEvent(this._item,"change"),{id:i.id,checked:!1})},_performSelectAll:function(e,t){var i=t._getItems();return e.checked?(t._itemCounter=i.length,r.each(i,function(e){r.setActive(e.multiselectElement.parentElement.parentElement),r.select(t._item.options[e.index]),r.check(e.multiselectElement)}),this._item.setAttribute("data-last-value-changed--by-interaction",!0),o.Modules.UI.simulateEvent(this._item,"change"),!0):(t._itemCounter=0,r.each(i,function(e){e.multiselectElement.parentElement.parentElement.classList.remove("active"),r.deselect(t._item.options[e.index]),r.uncheck(e.multiselectElement)}),this._item.setAttribute("data-last-value-changed--by-interaction",!0),o.Modules.UI.simulateEvent(this._item,"change"),!1)},_updateSelectAll:function(e){var t=document.getElementById(e._getItemListIdentifier()).querySelector("input[type=checkbox]");e._itemCounter==e._getItems().length?t.checked=!0:t.checked&&(t.checked=!1)},_hideList:function(e,t){r.setUnactive(document.getElementById(e._getItemListIdentifier())),r.show(document.getElementById(e._getItemListIdentifier()).querySelector("span")),r.show(document.getElementById(e._getItemListIdentifier()).querySelector("hr")),r.showAll(document.getElementById(e._getItemListIdentifier()).querySelectorAll("li")),e._updateText(e),t&&t.stopPropagation()},_updateText:function(e){var t=document.getElementById(e._getItemListIdentifier()).querySelectorAll("ul .active");if(0<t.length){for(var i="",n=0;n<(t.length<5?t.length:5);n++)i+=t[n].innerText+", ";20<(i=i.substr(0,i.length-2)).length&&(i=i.substr(0,17)+"...")}t.length==document.getElementById(e._getItemListIdentifier()).querySelectorAll("ul li").length&&(i=o.Modules.Localise.translateString("multiselectAllSelected",this.lang,"All selected")),document.getElementById(e._getInputFieldIdentifier()).value=i||""},_showList:function(e){r.setActive(document.getElementById(e._getItemListIdentifier()))},_forceUpdate:function(){var e,t=document.getElementById(this._getInputBadgeIdentifier());t.style.visibility="hidden",0!=this._itemCounter&&(t.innerHTML=this._itemCounter,t.style.visibility="visible",e=t.nextElementSibling,this._itemCounter<10?(t.style.left="-45px",e.style.marginLeft="-42px"):this._itemCounter<100?(t.style.left="-50px",e.style.marginLeft="-47px"):this._itemCounter<1e3?(t.style.left="-55px",e.style.marginLeft="-52px"):this._itemCounter<1e4&&(t.style.left="-60px",e.style.marginLeft="-57px"))},_items:void 0,_itemCounter:0,_isEnabled:!0,_getItems:function(){if(null==this._items){for(var e=[],t=this._item.options,i=0;i<t.length;i++){var n={id:t[i].value,index:i,text:t[i].innerHTML,selected:!!t[i].selected,selectElement:t[i]};e.push(n)}this._items=e}return this._items},_getItemUniqueIdentifier:function(){var e=this._item.getAttribute("id"),t=this._item.getAttribute("name");if((e=e.replace("$",""))||t)return e||t;throw"Multiselect: object does not contain any identifier (id or name)"},_getIdentifier:function(){return this._getItemUniqueIdentifier()+"_multiSelect"},_getInputFieldIdentifier:function(){return this._getItemUniqueIdentifier()+"_input"},_getItemListIdentifier:function(){return this._getItemUniqueIdentifier()+"_itemList"},_getInputBadgeIdentifier:function(){return this._getItemUniqueIdentifier()+"_inputCount"}},window.gcdc_multiselects=[],o.Vendor.multiselects=function(e,t){var i=[],n=(window.gcdc_multiselects._items||(window.gcdc_multiselects._items=[]),window.gcdc_multiselects._items.indexOf(e));return-1==n?(t=new a(e,0,t),window.gcdc_multiselects.push(t),window.gcdc_multiselects._items.push(e),i.push(t)):i.push(window.gcdc_multiselects[n]),1==i.length?i[0]:i},document.addEventListener("click",function(i){r.each(window.gcdc_multiselects,function(e){var t=document.getElementById(e._getItemListIdentifier());t&&t.offsetParent&&!r.parent(i.target,e._getIdentifier())&&e._hideList(e,i)})})}(window[window.GatedContentObject]),function(e){e.Vendor=e.Vendor||{},e.Vendor.shaven=function e(t,i,n){"use strict";var o,a,r,s,l,d,u,c,g=document,p=1;function f(e,t){if(null!==t&&!1!==t&&void 0!==t)return"string"!=typeof t&&"object"!=typeof t?String(t):t}if(n=n||{},i=i||"http://www.w3.org/1999/xhtml","string"==typeof t[0])t[0]=(s=t[0],l=(l=s.match(/^\w+/))?l[0]:"div",d=s.match(/#([\w-]+)/),u=s.match(/\$([\w-]+)/),c=s.match(/\.[\w-]+/g),l="createElementNS"in document?g.createElementNS(i,l):g.createElement(l),d&&(l.id=d[1],n[d[1]]=l),u&&(n[u[1]]=l),c&&l.setAttribute("class",c.join(" ").replace(/\./g,"")),s.match(/&$/g)&&(o=!0),l);else if(Array.isArray(t[0]))p=0;else if(!(t[0]instanceof Element))throw new Error("First element of array must be either a string, an array or a DOM element and not "+JSON.stringify(t[0]));for(;p<t.length;p++){if(!1===t[p]||null===t[p]){t[0]=!1;break}if(void 0!==t[p]&&!0!==t[p])if("string"==typeof t[p]||"number"==typeof t[p])t[0].innerHTML=o?t[p]:t[0].innerHTML+t[p];else if(Array.isArray(t[p])){if(Array.isArray(t[p][0])){if(t[p].reverse().forEach(function(e){t.splice(p+1,0,e)}),0!==p)continue;p++}e(t[p],i,n),t[p][0]&&t[0].appendChild(t[p][0])}else if("function"==typeof t[p])a=t[p];else if(t[p]instanceof Element)t[0].appendChild(t[p]);else{if("object"!=typeof t[p])throw new TypeError('"'+t[p]+'" is not allowed as a value.');for(r in t[p])t[p].hasOwnProperty(r)&&null!==t[p][r]&&!1!==t[p][r]&&(void 0===t[p][r]?t[0].setAttribute(r,""):"style"===r&&"object"==typeof t[p][r]?t[0].setAttribute(r,JSON.stringify(t[p][r],f).slice(2,-2).replace(/","/g,";").replace(/":"/g,":").replace(/\\"/g,"'")):t[0].setAttribute(r,t[p][r]))}}return n[0]=t[0],a&&a(t[0]),n}}(window[window.GatedContentObject]),function(s){s.Vendor=s.Vendor||{},function n(o,a,r){function s(i,e){if(!a[i]){if(!o[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(l)return l(i,!0);e=new Error("Cannot find module '"+i+"'");throw e.code="MODULE_NOT_FOUND",e}t=a[i]={exports:{}};o[i][0].call(t.exports,function(e){var t=o[i][1][e];return s(t||e)},t,t.exports,n,o,a,r)}return a[i].exports}for(var l="function"==typeof require&&require,e=0;e<r.length;e++)s(r[e]);return s}({1:[function(e,t,i){var n=e("cssfilter").FilterCSS,o=e("cssfilter").getDefaultWhiteList,u=e("./util");function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var r=new n;function s(e){return e.replace(l,"&lt;").replace(d,"&gt;")}var l=/</g,d=/>/g,c=/"/g,g=/&quot;/g,p=/&#([a-zA-Z0-9]*);?/gim,f=/&colon;?/gim,m=/&newline;?/gim,h=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,v=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,b=/u\s*r\s*l\s*\(.*/gi;function y(e){return e.replace(c,"&quot;")}function w(e){return e.replace(g,'"')}function C(e){return e.replace(p,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})}function M(e){return e.replace(f,":").replace(m," ")}function k(e){for(var t="",i=0,n=e.length;i<n;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return u.trim(t)}function S(e){return e=k(e=M(e=C(e=w(e))))}function E(e){return e=s(e=y(e))}var T=/<!--[\s\S]*?-->/g;i.whiteList=a(),i.getDefaultWhiteList=a,i.onTag=function(e,t,i){},i.onIgnoreTag=function(e,t,i){},i.onTagAttr=function(e,t,i){},i.onIgnoreTagAttr=function(e,t,i){},i.safeAttrValue=function(e,t,i,n){if(i=S(i),"href"===t||"src"===t){if("#"===(i=u.trim(i)))return"#";if("http://"!==i.substr(0,7)&&"https://"!==i.substr(0,8)&&"mailto:"!==i.substr(0,7)&&"tel:"!==i.substr(0,4)&&"#"!==i[0]&&"/"!==i[0])return""}else if("background"===t){if(h.lastIndex=0,h.test(i))return""}else if("style"===t){if(v.lastIndex=0,v.test(i))return"";if(b.lastIndex=0,b.test(i)&&(h.lastIndex=0,h.test(i)))return"";!1!==n&&(i=(n=n||r).process(i))}return i=E(i)},i.escapeHtml=s,i.escapeQuote=y,i.unescapeQuote=w,i.escapeHtmlEntities=C,i.escapeDangerHtml5Entities=M,i.clearNonPrintableCharacter=k,i.friendlyAttrValue=S,i.escapeAttrValue=E,i.onIgnoreTagStripAll=function(){return""},i.StripTagBody=function(a,r){"function"!=typeof r&&(r=function(){});var s=!Array.isArray(a),l=[],d=!1;return{onIgnoreTag:function(e,t,i){var n,o;return o=e,s||-1!==u.indexOf(a,o)?i.isClosing?(n=i.position+(o="[/removed]").length,l.push([!1!==d?d:i.position,n]),d=!1,o):(d=d||i.position,"[removed]"):r(e,t,i)},remove:function(t){var i="",n=0;return u.forEach(l,function(e){i+=t.slice(n,e[0]),n=e[1]}),i+=t.slice(n)}}},i.stripCommentTag=function(e){return e.replace(T,"")},i.stripBlankChar=function(e){return e.split("").filter(function(e){e=e.charCodeAt(0);return 127!==e&&(!(e<=31)||(10===e||13===e))}).join("")},i.cssFilter=r,i.getDefaultCSSWhiteList=o},{"./util":4,cssfilter:8}],2:[function(e,t,i){var n,o=e("./default"),a=e("./parser"),r=e("./xss");for(n in(i=t.exports=function(e,t){return new r(t).process(e)}).FilterXSS=r,o)i[n]=o[n];for(n in a)i[n]=a[n];s.Vendor.xss=t.exports,"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=t.exports)},{"./default":1,"./parser":3,"./xss":5}],3:[function(e,t,i){var f=e("./util");var u=/[^a-zA-Z0-9_:\.\-]/gim;function c(e){return'"'===(t=e)[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]?e.substr(1,e.length-2):e;var t}i.parseTag=function(e,t,i){for(var n,o,a,r="",s=0,l=!1,d=!1,u=0,c=e.length,g="",u=0;u<c;u++){var p=e.charAt(u);!1===l?"<"===p&&(l=u):!1===d?"<"===p?(r+=i(e.slice(s,u)),s=l=u):">"===p?(r+=i(e.slice(s,l)),n=e.slice(l,u+1),o=n,a=void 0,a=f.spaceIndex(o),o=-1===a?o.slice(1,-1):o.slice(1,a+1),g=o="/"===(o="/"===(o=f.trim(o).toLowerCase()).slice(0,1)?o.slice(1):o).slice(-1)?o.slice(0,-1):o,r+=t(l,r.length,g,n,"</"===n.slice(0,2)),s=u+1,l=!1):'"'!==p&&"'"!==p||"="!==e.charAt(u-1)||(d=p):p===d&&(d=!1)}return s<e.length&&(r+=i(e.substr(s))),r},i.parseAttr=function(e,i){var t=0,n=[],o=!1,a=e.length;function r(e,t){(e=(e=f.trim(e)).replace(u,"").toLowerCase()).length<1||(e=i(e,t||""))&&n.push(e)}for(var s=0;s<a;s++){var l,d=e.charAt(s);if(!1===o&&"="===d)o=e.slice(t,s),t=s+1;else if(!1===o||s!==t||'"'!==d&&"'"!==d||"="!==e.charAt(s-1))/\s|\n|\t/.test(d)&&(e=e.replace(/\s|\n|\t/g," "),!1===o?-1!==(l=function(e,t){for(;t<e.length;t++){var i=e[t];if(" "!==i)return"="===i?t:-1}}(e,s))?s=l-1:(r(f.trim(e.slice(t,s))),o=!1,t=s+1):-1===(l=function(e,t){for(;0<t;t--){var i=e[t];if(" "!==i)return"="===i?t:-1}}(e,s-1))&&(r(o,c(f.trim(e.slice(t,s)))),o=!1,t=s+1));else{if(-1===(l=e.indexOf(d,s+1)))break;r(o,f.trim(e.slice(t+1,l))),o=!1,t=(s=l)+1}}return t<e.length&&(!1===o?r(e.slice(t)):r(o,c(f.trim(e.slice(t))))),f.trim(n.join(" "))}},{"./util":4}],4:[function(e,t,i){t.exports={indexOf:function(e,t){var i,n;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var n,o;if(Array.prototype.forEach)return e.forEach(t,i);for(n=0,o=e.length;n<o;n++)t.call(i,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){e=/\s|\n|\t/.exec(e);return e?e.index:-1}}},{}],5:[function(e,t,i){var n=e("cssfilter").FilterCSS,o=e("./default"),a=e("./parser"),r=a.parseTag,m=a.parseAttr,h=e("./util");function v(e){return null==e}function s(e){(e=function(e){var t,i={};for(t in e)i[t]=e[t];return i}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=o.onIgnoreTagStripAll),e.whiteList=e.whiteList||o.whiteList,e.onTag=e.onTag||o.onTag,e.onTagAttr=e.onTagAttr||o.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||o.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||o.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||o.safeAttrValue,e.escapeHtml=e.escapeHtml||o.escapeHtml,!1===(this.options=e).css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new n(e.css))}s.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,s=t.whiteList,l=t.onTag,d=t.onIgnoreTag,u=t.onTagAttr,c=t.onIgnoreTagAttr,g=t.safeAttrValue,p=t.escapeHtml,f=this.cssFilter,i=(t.stripBlankChar&&(e=o.stripBlankChar(e)),t.allowCommentTag||(e=o.stripCommentTag(e)),!1),t=(t.stripIgnoreTagBody&&(d=(i=o.StripTagBody(t.stripIgnoreTagBody,d)).onIgnoreTag),r(e,function(e,t,o,i,n){e={sourcePosition:e,position:t,isClosing:n,isWhite:s.hasOwnProperty(o)},t=l(o,i,e);if(!v(t))return t;if(e.isWhite){if(e.isClosing)return"</"+o+">";n=i;var n=-1===(r=h.spaceIndex(n))?{html:"",closing:"/"===n[n.length-2]}:{html:n=(r="/"===(n=h.trim(n.slice(r+1,-1)))[n.length-1])?h.trim(n.slice(0,-1)):n,closing:r},a=s[o],r=m(n.html,function(e,t){var i=-1!==h.indexOf(a,e),n=u(o,e,t,i);return v(n)?i?(t=g(o,e,t,f))?e+'="'+t+'"':e:v(n=c(o,e,t,i))?void 0:n:n}),i="<"+o;return r&&(i+=" "+r),n.closing&&(i+=" /"),i+=">"}return v(t=d(o,i,e))?p(i):t},p));return t=i?i.remove(t):t},t.exports=s},{"./default":1,"./parser":3,"./util":4,cssfilter:8}],6:[function(e,t,i){var n=e("./default"),o=e("./parser");e("./util");function g(e){return null==e}function a(e){(e=function(e){var t,i={};for(t in e)i[t]=e[t];return i}(e||{})).whiteList=e.whiteList||n.whiteList,e.onAttr=e.onAttr||n.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||n.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||n.safeAttrValue,this.options=e}a.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,l=t.whiteList,d=t.onAttr,u=t.onIgnoreAttr,c=t.safeAttrValue;return o(e,function(e,t,i,n,o){var a,r=l[i],s=!1;if(!0===r?s=r:"function"==typeof r?s=r(n):r instanceof RegExp&&(s=r.test(n)),!0!==s&&(s=!1),n=c(i,n))return r={position:t,sourcePosition:e,source:o,isWhite:s},s?g(a=d(i,n,r))?i+":"+n:a:g(a=u(i,n,r))?void 0:a})},t.exports=a},{"./default":7,"./parser":9,"./util":10}],7:[function(e,t,i){function n(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var o=/javascript\s*\:/gim;i.whiteList=n(),i.getDefaultWhiteList=n,i.onAttr=function(e,t,i){},i.onIgnoreAttr=function(e,t,i){},i.safeAttrValue=function(e,t){return o.test(t)?"":t}},{}],8:[function(e,t,i){var n,o=e("./default"),a=e("./css");for(n in(i=t.exports=function(e,t){return new a(t).process(e)}).FilterCSS=a,o)i[n]=o[n];s.Vendor.xss=t.exports},{"./css":6,"./default":7}],9:[function(e,t,i){var u=e("./util");t.exports=function(n,o){";"!==(n=u.trimRight(n))[n.length-1]&&(n+=";");var e=n.length,a=!1,r=0,s=0,l="";function t(){var e,t,i;a||-1!==(t=(e=u.trim(n.slice(r,s))).indexOf(":"))&&(i=u.trim(e.slice(0,t)),t=u.trim(e.slice(t+1)),i&&(i=o(r,l.length,i,t,e))&&(l+=i+"; ")),r=s+1}for(;s<e;s++){var i=n[s];if("/"===i&&"*"===n[s+1]){var d=n.indexOf("*/",s+2);if(-1===d)break;r=(s=d+1)+1,a=!1}else"("===i?a=!0:")"===i?a=!1:";"===i?a||t():"\n"===i&&t()}return u.trim(l)}},{"./util":10}],10:[function(e,t,i){t.exports={indexOf:function(e,t){var i,n;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var n,o;if(Array.prototype.forEach)return e.forEach(t,i);for(n=0,o=e.length;n<o;n++)t.call(i,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},{}]},{},[2])}(window[window.GatedContentObject]),function(e){e.Resources=e.Resources||{},e.Resources.Countries=[]}(window[window.GatedContentObject]),function(d){d.Resources=d.Resources||{},d.Resources.Templates={formIntroTemplate:function(e,t){return["div.gcdc-form-intro.gcdc-form-group.gcdc-form-group-padded",[["div.gcdc-form-message",d.Modules.Template.deWidofy(e.message)]]]},formWarningMessageTemplate:function(e,t){return["div.gcdc-form-warning-message.gcdc-form-group.gcdc-form-group-padded"]},formPrepopTemplate:function(e,t){return["p.gcdc-prepop-message",["span"],d.Modules.Template.deWidofy(e.prepopNoticeMessage)+"<br /> ",["a",{href:"#"},e.prepopButtonMessage]]},socialPrepopTemplate:function(e,t){return["div.gcdc-social-prepop-wrapper",[["div.gcdc-social-prepop-options",["p",d.Modules.Template.deWidofy(d.Modules.Localise.translateString("socialPrepopMessage",t,"Sign in with one of these services to retrieve your data:"))]],["div.gcdc-social-prepop-confirm",["p",d.Modules.Template.deWidofy(d.Modules.Localise.translateString("socialPrepopConfirm",t,"Thank you for signing in, we found the following details:"))],["p",["strong",d.Modules.Template.deWidofy(d.Modules.Localise.translateString("socialPrepopFirstName",t,"First name"))+": "],["span.gcdc-autofill-firstname"],["br"],["strong",d.Modules.Template.deWidofy(d.Modules.Localise.translateString("socialPrepopLastName",t,"Last name"))+": "],["span.gcdc-autofill-lastname"],["br"],["strong",d.Modules.Template.deWidofy(d.Modules.Localise.translateString("socialPrepopEmail",t,"Email"))+": "],["span.gcdc-autofill-email"]],["a.gcdc-autofill-confirm",{href:"#"},d.Modules.Localise.translateString("autofillConfirm",t,"Insert these details below")],["a.gcdc-autofill-cancel",{href:"#"},d.Modules.Localise.translateString("autofillCancel",t,"Don't use these details")]]]]},socialPrepopFacebookTemplate:function(e,t){return["a.gcdc-autofill-facebook",{href:"#","data-network":"facebook"},d.Modules.Localise.translateString("autofillFacebook",t,"Autofill with Facebook")]},socialPrepopLinkedInTemplate:function(e,t){return["a.gcdc-autofill-linkedin",{href:"#","data-network":"linkedin"},d.Modules.Localise.translateString("autofillLinkedIn",t,"Autofill with LinkedIn")]},addressConfirmTemplate:function(e,t){return["div.gcdc-address-confirm-wrapper",[["p.gcdc-confirm-address",""],["a.gcdc-confirm-address-button",{href:"#"},d.Modules.Localise.translateString("addressConfirm",t,"Yes, this is my Company/Location")],["a.gcdc-confirm-address-cancel",{href:"#"},d.Modules.Localise.translateString("addressCancel",t,"No, this is not my Company")]]]},multiStepProgressBarTemplate:function(e,t){return["div.gcdc-form-group.gcdc-form-group-padded.gcdc-form-group-multistep-progress-bar",[["div.gcdc-multistep-progress-bar-wrapper",["div.gcdc-multistep-progress-bar"]]]]},multiStepProgressTextTemplate:function(e,t){return["div.gcdc-form-group.gcdc-form-group-padded.gcdc-form-group-multistep-progress-text",[["p",d.Modules.Localise.translateString("multistepProgressMessage",t,"Step {currentStep} of {totalSteps}")]]]},multiStepProgressExplodedTextTemplate:function(e,t){return["div.gcdc-form-group.gcdc-form-group-padded.gcdc-form-group-multistep-progress-text-exploded"]},submitTemplate:function(e,t){return["div.gcdc-form-group.gcdc-form-group-padded.gcdc-form-group-button-wrapper",["input.gcdc-form-button",{type:"submit",value:d.Modules.Localise.translateString("submitButtonMessage",t,"Submit")}]]},prevNextTemplate:function(e,t){return["div.gcdc-form-group.gcdc-form-group-padded.gcdc-form-group-button-wrapper",[d.Config.gates.multiStepFormsAllowBack?["button.gcdc-form-button.gcdc-form-previous-button",{type:"button"},d.Modules.Localise.translateString("previousButtonMessage",t,"Previous")]:[""],["button.gcdc-form-button.gcdc-form-next-button",{type:"button"},d.Modules.Localise.translateString("nextButtonMessage",t,"Next")],["input.gcdc-form-button.gcdc-form-multistep-submit-button",{type:"submit",value:d.Modules.Localise.translateString("submitButtonMessage",t,"Submit")}]]]},formFooterTemplate:function(e,t){return["div.gcdc-form-footer.gcdc-form-group.gcdc-form-group-padded",[["p",d.Modules.Template.deWidofy(d.Modules.Localise.translateString("cookieNotice",t,"This website uses cookies to enhance your user experience. If you continue to use this website well assume that you are happy to receive all cookies from the site."))],["p.gcdc-strap","Form powered by ",["a",{href:"http://www.gatedcontent.com/",target:"_blank"},"GatedContent.com"]]]]},customContentElementTemplate:function(e,t){var i="",i=e.translateMessaging?d.Modules.Localise.translateString("customContent"+e.id,t,e.description):e.description;return["div",{class:"gcdc-form-group gcdc-form-group-padded gcdc-form-group-customcontent gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.id)},i]},textFieldTemplate:function(e,t){var i=e.gateId+"_lbl_"+e.id,n={type:"text",name:e.name,id:"gcdc-field-"+e.gateId+e.id,value:e.value,placeholder:d.Modules.Template.placeholderText(e,t),maxlength:e.maxlength||100,"aria-labelledby":i},o=(e.required&&(n.required="required",n["aria-required"]="true"),e.disabled&&(n.readonly="readonly",n["aria-readonly"]="true"),e.autocomplete&&(n.autocomplete=e.autocomplete),""),o=e.validationMessage?d.Modules.Localise.translateString(d.Modules.Template.generateStringName("Error custom message",e.id),t,e.validationMessage):d.Modules.Localise.translateString("errorRequiredMessage",t,"This field is required");return["div",{class:"gcdc-form-group gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.id)+" gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.name)},[["label.gcdc-form-label",{for:n.id,id:i},d.Modules.Template.appendedLabel(e,t)],["div.gcdc-form-field-wrapper",["input.gcdc-form-field",n]],["span.gcdc-form-error",{role:"alert","aria-live":"assertive"},o]]]},countryFieldTemplate:function(e,t){var i=e.gateId+"_lbl_"+e.id,n={type:"text",name:e.name,id:"gcdc-field-"+e.gateId+e.id,value:e.value,placeholder:d.Modules.Template.placeholderText(e,t),maxlength:e.maxlength||100,"aria-labelledby":i},o=(e.required&&(n.required="required",n["aria-required"]="true"),e.disabled&&(n.readonly="readonly",n["aria-readonly"]="true"),""),o=e.validationMessage?d.Modules.Localise.translateString(d.Modules.Template.generateStringName("Error custom message",e.id),t,e.validationMessage):d.Modules.Localise.translateString("errorRequiredMessage",t,"This field is required");return["div",{class:"gcdc-form-group gcdc-form-group-country gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.id)+" gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.name)},[["label.gcdc-form-label",{for:n.id,id:i},d.Modules.Template.appendedLabel(e,t)],["div.gcdc-form-field-wrapper",["input.gcdc-form-field.gcdc-form-country",n]],["span.gcdc-form-error",{role:"alert","aria-live":"assertive"},o]]]},emailFieldTemplate:function(e,t){var i=e.gateId+"_lbl_"+e.id,n={type:"email",name:e.name,id:"gcdc-field-"+e.gateId+e.id,placeholder:d.Modules.Template.placeholderText(e,t,d.Modules.Localise.translateString("emailFieldHint",t,"Please enter your full email address"),!0),pattern:d.Config.formats.email,value:e.value,maxlength:e.maxlength||100,"aria-labelledby":i},o=(e.required&&(n.required="required",n["aria-required"]="true"),e.disabled&&(n.readonly="readonly",n["aria-readonly"]="true"),""),o=e.validationMessage?d.Modules.Localise.translateString(d.Modules.Template.generateStringName("Error custom message",e.id),t,e.validationMessage):d.Modules.Localise.translateString("errorEmailMessage",t,"This is not a valid email address");return["div",{class:"gcdc-form-group gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.id)+" gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.name)},[["label.gcdc-form-label",{for:n.id,id:i},d.Modules.Template.appendedLabel(e,t)],["div.gcdc-form-field-wrapper",["input.gcdc-form-field",n]],["span.gcdc-form-error",{role:"alert","aria-live":"assertive"},o]]]},urlFieldTemplate:function(e,t){var i=e.gateId+"_lbl_"+e.id,n={type:"url",name:e.name,id:"gcdc-field-"+e.gateId+e.id,placeholder:d.Modules.Template.placeholderText(e,t,d.Modules.Localise.translateString("urlFieldHint",t,"Please enter a valid url, e.g. https://www.example.com"),!0),pattern:d.Config.formats.url,value:e.value,maxlength:e.maxlength||100,"aria-labelledby":i},o=(e.required&&(n.required="required",n["aria-required"]="true"),e.disabled&&(n.readonly="readonly",n["aria-readonly"]="true"),""),o=e.validationMessage?d.Modules.Localise.translateString(d.Modules.Template.generateStringName("Error custom message",e.id),t,e.validationMessage):d.Modules.Localise.translateString("errorUrlMessage",t,"This is not a valid url address");return["div",{class:"gcdc-form-group gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.id)+" gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.name)},[["label.gcdc-form-label",{for:n.id,id:i},d.Modules.Template.appendedLabel(e,t)],["div.gcdc-form-field-wrapper",["input.gcdc-form-field",n]],["span.gcdc-form-error",{role:"alert","aria-live":"assertive"},o]]]},phoneFieldTemplate:function(e,t){var i=e.gateId+"_lbl_"+e.id,n={type:"tel",name:e.name,id:"gcdc-field-"+e.gateId+e.id,placeholder:d.Modules.Template.placeholderText(e,t,d.Modules.Localise.translateString("phoneFieldHint",t,"Please enter your full phone number, e.g. +1(123)456 7890"),!0),pattern:d.Config.formats.phone,"data-gcdc-input-mask":d.Config.formats.phoneMask,value:e.value,maxlength:e.maxlength||100,"aria-labelledby":i},o=(e.required&&(n.required="required",n["aria-required"]="true"),e.disabled&&(n.readonly="readonly",n["aria-readonly"]="true"),""),o=e.validationMessage?d.Modules.Localise.translateString(d.Modules.Template.generateStringName("Error custom message",e.id),t,e.validationMessage):d.Modules.Localise.translateString("errorPhoneMessage",t,"This is not a valid phone number");return["div",{class:"gcdc-form-group gcdc-form-group-phone gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.id)+" gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.name)},[["label.gcdc-form-label",{for:n.id,id:i},d.Modules.Template.appendedLabel(e,t)],["div.gcdc-form-field-wrapper",["input.gcdc-form-field",n]],["span.gcdc-form-error",{role:"alert","aria-live":"assertive"},o]]]},phonemultiFieldTemplate:function(e,t){var i=e.gateId+"_lbl_"+e.id,n={type:"tel",name:e.name,id:"gcdc-field-"+e.gateId+e.id,value:e.value,maxlength:e.maxlength||100,style:"display: none;",pattern:d.Config.formats.phoneSimple,"aria-labelledby":i};return"true"==e.required&&(n.required="required",n["aria-required"]="true"),"true"==e.disabled&&(n.readonly="readonly",n["aria-readonly"]="true"),["div",{class:"gcdc-form-group gcdc-form-group-multiphone gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.id)},[["label.gcdc-form-label",{for:n.id,id:i},d.Modules.Template.appendedLabel(e,t)],["div.gcdc-form-field-wrapper",["input.gcdc-form-field",n],["div.gcdc-form-field-wrapper.gcdc-select-wrapper",["select.gcdc-form-field.gcdc-phonemulti-code",{"aria-label":"Select your country dialling code"}]],["input.gcdc-form-field.gcdc-phonemulti-main",{type:"tel",maxlength:e.maxlength||100,placeholder:d.Modules.Template.placeholderText(e,t)}]],["span.gcdc-form-error",{role:"alert","aria-live":"assertive"},d.Modules.Localise.translateString("errorPhoneMessage",t,"This is not a valid phone number")]]]},textboxFieldTemplate:function(e,t){var i=e.gateId+"_lbl_"+e.id,n={type:"text",name:e.name,id:"gcdc-field-"+e.gateId+e.id,placeholder:d.Modules.Template.placeholderText(e,t),rows:5,"aria-labelledby":i},o=(e.maxlength&&(n.maxlength=e.maxlength),e.required&&(n.required="required",n["aria-required"]="true"),e.disabled&&(n.readonly="readonly",n["aria-readonly"]="true"),""),o=e.validationMessage?d.Modules.Localise.translateString(d.Modules.Template.generateStringName("Error custom message",e.id),t,e.validationMessage):d.Modules.Localise.translateString("errorRequiredMessage",t,"This field is required");return["div",{class:"gcdc-form-group gcdc-form-group-textarea gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.id)+" gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.name)},[["label.gcdc-form-label",{for:n.id,id:i},d.Modules.Template.appendedLabel(e,t)],["div.gcdc-form-field-wrapper",["textarea.gcdc-form-field",n,e.value]],["span.gcdc-form-error",{role:"alert","aria-live":"assertive"},o]]]},selectFieldTemplate:function(e,t){var i=e.gateId+"_lbl_"+e.id,n={name:e.name,id:"gcdc-field-"+e.gateId+e.id,"aria-labelledby":i},o=(e.required&&(n.required="required",n["aria-required"]="true"),e.disabled&&(n.readonly="readonly",n["aria-readonly"]="true"),e.allowMultipleSelections&&(n.multiple=!0),""),o=e.validationMessage?d.Modules.Localise.translateString(d.Modules.Template.generateStringName("Error custom message",e.id),t,e.validationMessage):d.Modules.Localise.translateString("errorRequiredMessage",t,"This field is required"),a="",a=e.hint?d.Modules.Template.placeholderText(e,t):d.Modules.Localise.translateString("selectFieldHint",t,d.Config.gates.selectFieldHint),r=(n.placeholder=a,[]);e.allowMultipleSelections||r.push([d.Modules.Template.render("selectOption",{value:"",description:d.Modules.Template.placeholderText(e,t,a,!0),translateLabel:!1,translateValue:!1},t)]);for(var s=0;s<e.options.length;s++){var l=e.options[s];l.fieldId=e.id,l.translateLabel=e.translateOptionLabels,l.translateValue=e.translateOptionValues,l.supressRootTanslationsForOptions=e.supressRootTanslationsForOptions,e.hideUntranslatedOptions&&!d.Modules.Localise.hasTranslatedString(d.Modules.Template.generateStringName("Form Field Option ",l.fieldId+l.value),t,l.description,e.supressRootTanslationsForOptions)||(e.value==l.value&&(l.selected=!0),r.push([d.Modules.Template.render("selectOption",l,t)]))}a="gcdc-form-group gcdc-form-group-select gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.id)+" gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.name);return e.allowMultipleSelections&&(a+=" gcdc-form-group-multiselect"),["div",{class:a},[["label.gcdc-form-label",{for:n.id,id:i},d.Modules.Template.appendedLabel(e,t)],["div.gcdc-form-field-wrapper.gcdc-select-wrapper",["select.gcdc-form-field",n,r]],["span.gcdc-form-error",{role:"alert","aria-live":"assertive"},o]]]},selectOptionTemplate:function(e,t){var i={};return!0===e.selected&&(i.selected="selected"),e.translateValue?i.value=d.Modules.Localise.translateString(d.Modules.Template.generateStringName("Form Field Option Value ",e.fieldId+e.value),t,e.value):i.value=e.value,["option",i,e.translateLabel?d.Modules.Localise.translateString(d.Modules.Template.generateStringName("Form Field Option ",e.fieldId+e.value),t,e.description,e.supressRootTanslationsForOptions):e.description]},radioFieldTemplate:function(e,t){for(var i=e.gateId+"_lbl_"+e.id,n="",n=e.validationMessage?d.Modules.Localise.translateString(d.Modules.Template.generateStringName("Error custom message",e.id),t,e.validationMessage):d.Modules.Localise.translateString("errorRequiredMessage",t,"This field is required"),o=[],a=0;a<e.options.length;a++){var r=e.options[a];r.name=e.name,r.baseId=e.id,r.fieldId="gcdc-field-"+e.gateId+e.id+a,r.translateLabel=e.translateOptionLabels,r.translateValue=e.translateOptionValues,r.supressRootTanslationsForOptions=e.supressRootTanslationsForOptions,e.required&&(r.required="required"),e.disabled&&(r.readonly="readonly"),e.hideUntranslatedOptions&&!d.Modules.Localise.hasTranslatedString(d.Modules.Template.generateStringName("Form Field Option ",r.baseId+r.value),t,r.description,e.supressRootTanslationsForOptions)||(e.value==r.value&&(r.selected=!0),o.push([d.Modules.Template.render("radioOption",r,t)]))}return["div",{class:"gcdc-form-group gcdc-form-group-radio gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.id)+" gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.name)},[["label.gcdc-form-label",{id:i},d.Modules.Template.appendedLabel(e,t)],["input",{name:e.name,type:"hidden"}],["div.gcdc-form-field-wrapper.gcdc-radio-wrapper",o],["span.gcdc-form-error",{role:"alert","aria-live":"assertive"},n]]]},radioOptionTemplate:function(e,t){var i={name:e.name+"_radios",id:e.fieldId};return!0===e.selected&&(i.selected="selected"),e.translateValue?i.value=d.Modules.Localise.translateString(d.Modules.Template.generateStringName("Form Field Option Value ",e.baseId+e.value),t,e.value):i.value=e.value,t=e.translateLabel?d.Modules.Localise.translateString(d.Modules.Template.generateStringName("Form Field Option ",e.baseId+e.value),t,e.description,e.supressRootTanslationsForOptions):e.description,i.type="radio",["label",["input.gcdc-radio",i],["span",t]]},checkboxFieldTemplate:function(e,t){var i=e.gateId+"_lbl_"+e.id,n={type:"checkbox",name:e.name,id:"gcdc-field-"+e.gateId+e.id,value:e.checkedValue||"true","aria-labelledby":i},o=(e.disabled&&(n.readonly="readonly",n["aria-readonly"]="true"),""),o=e.validationMessage?d.Modules.Localise.translateString(d.Modules.Template.generateStringName("Error custom message",e.id),t,e.validationMessage):d.Modules.Localise.translateString("errorSelectMessage",t,"Please accept to continue");return["div",{class:"gcdc-form-group gcdc-form-group-padded gcdc-form-group-checkbox gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.id)+" gcdc-form-group-"+d.Modules.Template.safeCssClassName(e.name)},[["input.gcdc-form-field",n],["label.gcdc-form-label",{for:n.id,id:i},d.Modules.Template.deWidofy(d.Modules.Template.appendedLabel(e,t))],["span.gcdc-form-error",{role:"alert","aria-live":"assertive"},o]]]},hiddenFieldTemplate:function(e,t){return["input",{type:"hidden",name:e.name,id:"gcdc-field-"+e.gateId+e.id,value:e.value}]},contentIntroTemplate:function(e){return["div.gcdc-content-intro",d.Modules.Template.deWidofy(e.message)]}}}(window[window.GatedContentObject]),function(p){p.Classes=p.Classes||{},p.Classes.Autocomplete=function(e,i){this.namespace="Classes.Autocomplete";var t,n=this,o=!1,a=document.createElement("div"),s=document.createElement("ul"),r=!1,l=0,d=null,u=[];function c(e){var t;0<=e&&e<u.length&&(null!==(t=s.querySelector("a.active"))&&t.classList.remove("active"),l=e,(d=s.getElementsByTagName("li")[e].getElementsByTagName("a")[0]).classList.add("active"),d.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"}))}function g(e){("off"!==e||r)&&"on"===e&&0<s.innerHTML.length?n.open():n.close()}this.open=function(){e.classList.add("gcdc-has-open-autocomplete"),a.style.display="block",o=!0},this.close=function(){e.classList.remove("gcdc-has-open-autocomplete"),a.style.display="none",o=!1},this.setOptions=function(e,t,i){if(s.innerHTML="",u=[],l=0,d=null,"object"==typeof e){for(var n in u=e){var o=e[n][t],n=e[n][i],a=document.createElement("li"),r=document.createElement("a");r.setAttribute("data-value",o),r.setAttribute("href","#"),r.innerHTML=n,a.appendChild(r),s.appendChild(a)}c(0)}},t=p.Modules.Browser.getDeviceInfo(),e.setAttribute("autocomplete","Chrome"===t.browser?"new-"+e.getAttribute("name"):"off"),a.className=p.Config.html.autocompleteElementClass,a.appendChild(s),e.parentNode.appendChild(a),p.Modules.UI.addCaughtEventListener(e,"focus",function(e){g("on")}),p.Modules.UI.addCaughtEventListener(e,"keydown",function(e){o&&("38"==e.keyCode?(e.preventDefault(),e.cancelBubble=!0,c(l-1)):"40"==e.keyCode?(e.preventDefault(),e.cancelBubble=!0,c(l+1)):"13"==e.keyCode&&(e.preventDefault(),(e={}).value=d.getAttribute("data-value"),e.label=d.innerHTML,null!==e.value&&void 0!==e.label&&i(e)))}),p.Modules.UI.addCaughtEventListener(e,"keyup",function(e){g("on")}),p.Modules.UI.addCaughtEventListener(e,"change",function(e){g("on")}),p.Modules.UI.addCaughtEventListener(e,"blur",function(e){g("off")}),p.Modules.UI.addCaughtEventListener(a,"mouseover",function(e){r=!0}),p.Modules.UI.addCaughtEventListener(a,"mouseout",function(e){r=!1}),p.Modules.UI.addCaughtEventListener(a,"mousedown",function(e){e.preventDefault();var t={};t.value=e.target.getAttribute("data-value"),t.label=e.target.innerHTML,null!==t.value&&void 0!==t.label&&i(t)})}}(window[window.GatedContentObject]),function(m){m.Classes=m.Classes||{},m.Classes.Condition=function(n,l,o,a){this.namespace="Classes.Condition";var r=this,s={},d={},u=!1,e="";function c(t,e){if((t=t||l.if).any||t.all){var i,n=t.any||t.all;for(i in n)c(n[i],e)}else{var o;"field"===t.type?(t.triggerField=a.getFieldById(t.target),t.triggerElem=t.triggerField.inputElem,e&&t.triggerElem&&("value"===t.attribute||""===t.attribute?(s[t.target]||(s[t.target]=[],m.Modules.UI.addCaughtEventListener(t.triggerElem,"change",function(){for(var e in s[t.target])s[t.target].hasOwnProperty(e)&&p(s[t.target][e]);f()})),s[t.target].push(t)):"value"!==t.attribute&&""!==t.attribute&&(o=t.target+"-"+t.attribute,d[o]||(d[o]=[],m.Modules.UI.listenForAttributeChange(t.triggerElem,t.attribute,function(){for(var e in d[o])d[o].hasOwnProperty(e)&&p(d[o][e]);f()})),d[o].push(t)))):"gate"===t.type&&p(t)}}function g(e){if((e=e||l.if).any||e.all){var t,i=e.any||e.all,n=[];for(t in i)n.push(g(i[t]));return!(!e.any||-1===n.indexOf(!0))||!(!e.all||-1!==n.indexOf(!1))}return void 0!==(e=e).truth&&!u||p(e),e.truth}function p(e){var t,i;"alwaysRun"===e.type?(m.Modules.Utilities.log(r.namespace,"updateSubclauseTruth","info","Subclause was set to always run, passes. Field: ",n.config.id),e.truth=!0):e.triggerElem||"gate"===e.type?(i=t="",i=e.triggerElem?("value"===e.attribute?t=e.triggerField.getValue():e.attribute&&""!==e.attribute&&(t=e.triggerElem.getAttribute(e.attribute)),e.triggerElem.checked):""!==(t="gateId"===e.target?o.id:o.getConfigAttribute(e.target)),("checked"!==e.condition||!i)&&("notChecked"!==e.condition||i)&&("equals"!==e.condition||t.toLowerCase()!==e.value.toLowerCase())&&("notEquals"!==e.condition||t.toLowerCase()===e.value.toLowerCase())&&("contains"!==e.condition||-1===t.indexOf(e.value))&&("notContains"!==e.condition||-1!==t.indexOf(e.value))&&("in"!==e.condition||-1===e.valueList.indexOf(t))&&("notIn"!==e.condition||-1!==e.valueList.indexOf(t))&&("empty"!==e.condition||""!==t)&&("notEmpty"!==e.condition||""===t)&&!("greaterThan"===e.condition&&parseInt(t)>parseInt(e.value))&&!("lessThan"===e.condition&&parseInt(t)<parseInt(e.value))&&("regexp"!==e.condition||!t.match(e.value))&&("regexpno"!==e.condition||t.match(e.value))?e.truth=!1:e.truth=!0):e.truth=!1,e.triggerElem?m.Modules.Utilities.log(r.namespace,"updateSubclauseTruth","info","Subclause evaluated. Using field",e.triggerElem.name,"condition was",e.condition,e.value,"which returned",e.truth):m.Modules.Utilities.log(r.namespace,"updateSubclauseTruth","info","Subclause evaluated. Using gate attribute",e.target,"condition was",e.condition,e.value,"which returned",e.truth)}function f(){g()?(m.Modules.Utilities.log(r.namespace,"refresh","info","Condition refreshed, passed. Condition:",e,"on",n.config.id),t(l.then)):(m.Modules.Utilities.log(r.namespace,"refresh","info","Condition refreshed, did not pass. Condition:",e,"on",n.config.id),t(l.else))}function t(e){for(var t in e){t=e[t];try{"show"===t.action?n.show("condition"):"hide"===t.action?n.hide("condition"):"setOptions"===t.action?n.setOptions(t.options):"setValue"===t.action?n.setValue(t.setValue,!0):"clearValue"===t.action?n.setValue("",!0):"check"===t.action?n.check(!0):"uncheck"===t.action?n.uncheck(!0):"disable"===t.action?n.disable():"enable"===t.action?n.enable():"makeRequired"===t.action?n.makeRequired():"makeNotRequired"===t.action?n.makeNotRequired():"changelabel"===t.action?!t.matchsetlabel&&""!==t.matchsetlabel||!t.matchsetlabelname&&""!==t.matchsetlabelname||n.changeLabel(t.matchsetlabel,t.matchsetlabelname):"resetlabel"===t.action?n.resetLabel():"changeplaceholder"===t.action?!t.matchsetplaceholder&&""!==t.matchsetplaceholder||!t.matchsetplaceholdername&&""!==t.matchsetplaceholdername||n.changePlaceholder(t.matchsetplaceholder,t.matchsetplaceholdername):"resetplaceholder"===t.action?n.resetPlaceholder():"changecontent"===t.action?!t.matchsetcontent&&""!==t.matchsetcontent||!t.matchsetcontentname&&""!==t.matchsetcontentname||n.changeContent(t.matchsetcontent,t.matchsetcontentname):"resetcontent"===t.action?n.resetContent():"opengate"===t.action&&o.openGate()}catch(e){m.Modules.Utilities.log(r.namespace,"executeActions","error","Could not execute action",t.action,"in response to matched condition because:",e.message)}}}function i(){var e,t={fields:{},actions:{}},i=(!function e(t,i){if(t.any||t.all){var n,o=t.any||t.all;for(n in o)e(o[n],i)}else t.target&&""!==t.target&&(i.fields[t.target]=!0)}(l.if,t),["then","else"]);for(e in i){var n,o=i[e];for(n in l[o])l[o][n].action&&""!==l[o][n].action&&(t.actions[l[o][n].action]=!0)}if(m.Modules.Utilities.isEmpty(t.fields)||m.Modules.Utilities.isEmpty(t.actions))return"";var a,r,s="(Uses fields: ";for(a in t.fields)s+=a+", ";for(r in s=s.replace(/,\s*$/,""),s+="; applies actions: ",t.actions)s+=r+", ";return(s=s.replace(/,\s*$/,""))+")"}e=i(),"load"===l.trigger?(o.eventManager.on("gateBuilt",function(){c(!(u=!0)),f()}),o.eventManager.on("formDisplayed",function(){c(!(u=!0)),f()}),o.eventManager.on("fieldsReset",function(){c(!(u=!0)),f()})):"submission"===l.trigger?o.eventManager.on("submission",function(){c(!1),f()}):"continuous"===l.trigger&&(o.eventManager.on("gateBuilt",function(){c(!1,!0),f()}),o.eventManager.on("fieldsReset",function(){c(!(u=!0)),f()})),m.Modules.Utilities.log(r.namespace,"Condition","info","New condition created on field: ",n.config.id)}}(window[window.GatedContentObject]),function(S){S.Classes=S.Classes||{},S.Classes.CountryMask=function(i,n,e){var o,t=this,a=n.getConfigAttribute("lang"),r=i.injectClearSelection(),s=i.injectFlag("country"),l="",d=[];function u(){i.inputElem.value="",i.inputElem.setAttribute("data-gcdc-country",""),i.inputElem.setAttribute("data-gcdc-country-value",""),r.hide(),s.down()}function c(e){var t;0<i.inputElem.value.length?"off"===e?((e=p(i.inputElem.value))?(m(e.code),i.inputElem.value=e.name):(e=function(e){e=g(e);return!!e&&e.name}(i.inputElem.value))?(m(i.inputElem.value),i.inputElem.value=e):1!==(e=function(e){var t,i=new RegExp("^"+S.Modules.Utilities.stringEscapeRegex(e)+"$"),n=[];for(t in d){var o;!d.hasOwnProperty(t)||(o=d[t]).hide||!o.name.match(i)&&!o.alternativeNames.match(i)||n.push(o)}return n}(i.inputElem.value)).length?u():1===e.length&&m(e[0].code),o.setOptions({})):1===(t=function(e){var t,i=new RegExp("^"+S.Modules.Utilities.stringEscapeRegex(e),"gi"),n=new RegExp(S.Modules.Utilities.stringEscapeRegex(e),"i"),o=[];for(t in d){var a;!d.hasOwnProperty(t)||(a=d[t]).hide||!a.name.match(i)&&!a.alternativeNames.match(n)||o.push(a)}return o.sort(function(e,t){if(e.weight>t.weight)return-5;if(e.weight<t.weight)return 5;e=e.name.match(i),t=t.name.match(i);return e!==t?e?-5:t?5:void 0:void 0}),o}(i.inputElem.value)).length&&t[0].name==i.inputElem.value?o.setOptions({}):(r.hide(),s.down(),o.setOptions(t,"code","name")):(t=function(){var e,t=[];for(e in d){var i;!d.hasOwnProperty(e)||(i=d[e]).hide||t.push(i)}return t.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}),t}(),o.setOptions(t,"code","name"),u())}function g(e){if(2===e.length&&e.match(/[a-zA-Z]{2}/))for(var t=0;t<d.length;t++)if(d[t].code===e.toUpperCase())return d[t];return!1}function p(e){if(0<e.length)for(var t=0;t<d.length;t++)if(d[t].value===e)return d[t];return!1}function f(e){i.inputElem.value=e.label,o.setOptions({}),o.close(),m(e.value)}function m(t){l=t,i.inputElem.classList.add("gcdc-country-selected");var e=g(t);i.inputElem.setAttribute("data-gcdc-country",t),i.inputElem.setAttribute("data-gcdc-country-value",e.value),r.show(),s.up(t),n.form.eachField(function(e){e.mask.updateForCountry(t)},"phone"),n.form.eachField(function(e){e.mask.updateForCountry(t)},"phonemulti"),n.eventManager.emit("countryChanged",t)}function h(){var e;i.config.clearValueOnSubmissionIfBlank&&i.hidden&&!i.onlyHiddenByTag("multiStep")?i.inputElem.value="":(e=g(l),i.inputElem.value=e.value)}t.namespace="Classes.CountryMask("+i.config.id+")",-1<a.indexOf("-")&&"zh-hant"!==a&&"zh-hans"!==a&&(a=a.substring(0,2));for(var v=0;v<e.length;v++){var b=e[v],y=b.name,w=b.alternativeNames,C="name"+a.replace("-","").toUpperCase();"en"!==a.toLowerCase()&&b[C]&&""!==b[C]&&(y=b[C],w=w+" "+b.name),d.push({value:b.value,code:b.code.toUpperCase(),name:y,alternativeNames:w,weight:b.weight,phoneFormats:b.phoneFormats,languages:b.languages,hide:b.hide})}if(S.Modules.UI.bindToTextInputField(i.inputElem,c),r.elem.addEventListener("click",u),n.eventManager.on("submission",h,t.namespace),o=new S.Classes.Autocomplete(i.inputElem,f),i.getValue()&&""!==i.getValue()){var M=p(i.getValue().toUpperCase());M&&(i.inputElem.value=M.name,m(M.code))}else if(S.Modules.Storage.readStorage(S.Config.storage.userDataPrefix+"browsercountry")&&!i.getValue())for(var k=0;k<d.length;k++)if(d[k].code===S.Modules.Storage.readStorage(S.Config.storage.userDataPrefix+"browsercountry")){i.inputElem.value=d[k].name,S.Modules.UI.simulateEvent(i.inputElem,"blur");break}S.Modules.UI.simulateEvent(i.inputElem,"change"),S.Modules.UI.simulateEvent(i.inputElem,"blur"),S.Modules.Utilities.log(t.namespace,"setup","info","New country mask created")}}(window[window.GatedContentObject]),function(d){d.Classes=d.Classes||{},d.Classes.DataSourceManager=function(o,a,r){var i=this,s={},l={};this.namespace="Classes.DataSourceManager",this.dataSourceNamespace=o,this.registerDependent=function(e,t){var i,n;"string"==typeof e&&"function"==typeof t?l[e]?(t(l[e]),d.Modules.Utilities.log("gc.Classes.DataSourceManager","registerDependent","info","New dependent on data source",o,"for",e,"was served data immediately")):(i=!1,"function"==typeof a&&!1!==(n=a(e))&&(i=!0,t(n),d.Modules.Utilities.log("gc.Classes.DataSourceManager","registerDependent","info","New dependent on data source",o,"for",e,"was served data immediately using it's handler")),i||(s[e]=s[e]||[],s[e].push(t),d.Modules.Utilities.log("gc.Classes.DataSourceManager","registerDependent","info","Registered a new dependent on data source",o,"for",e))):d.Modules.Utilities.log("gc.Classes.DataSourceManager","registerDependent","error","Could not register a dependent on data source",o,"as either the id or handler for the dependent were invalid")},this.getDataImmediate=function(e){if("string"==typeof e){if(l[e])return l[e];var t=!1;if("function"==typeof a){e=a(e);if(e)return t=!0,e}return t?void 0:""}},this.emitData=function(e,t){if(l[e]=t,d.Modules.Utilities.log("gc.Classes.DataSourceManager","emitData","info","Emitted data called",e,"on data source",o),s[e]&&"object"==typeof s[e]){for(var i=0;i<s[e].length;i++){var n=s[e][i];n&&"function"==typeof n&&n(t)}r||delete s[e]}},this.storeData=function(e,t){d.Modules.Storage.writeStorage(d.Config.storage.userDataPrefix+o+e,t,d.Config.storage.defaultUserDataRetention)},this.storeEmitData=function(e,t){i.storeData(e,t),i.emitData(e,t)},this.readData=function(e){return d.Modules.Storage.readStorage(d.Config.storage.userDataPrefix+o+e)},this.readEmitData=function(e){var t=i.readData(e);if(t)return i.emitData(e,t),t},this.clearData=function(){d.Modules.Storage.clearStorageByPrefix(d.Config.storage.userDataPrefix+o),l={},d.Modules.Utilities.log("gc.Classes.DataSourceManager","emitData","info","Cleared all previously emitted data")}}}(window[window.GatedContentObject]),function(r){r.Classes=r.Classes||{},r.Classes.Elem=function(e,t,n){var i,o=this,a=[];this.namespace="Classes.Elem",this.config=e,this.elem="",this.hidden=!1;this.hide=function(e){o.elem.classList.add("hidden"),o.hidden=!0,e&&-1===a.indexOf(e)&&a.push(e)},this.hiddenByTag=function(e){return-1!==a.indexOf(e)},this.onlyHiddenByTag=function(e){return 1===a.length&&-1!==a.indexOf(e)},this.show=function(e,t){e&&-1!==a.indexOf(e)&&a.splice(a.indexOf(e),1),!t&&0!==a.length||(o.elem.classList.remove("hidden"),o.hidden=!1)},this.changeContent=function(e,t){var i=o.config.type+"Element",i=r.Modules.Template.render(i,{id:t,description:e,translateMessaging:o.config.translateMessaging},n.getConfigAttribute("lang"));o.elem.innerHTML=i.innerHTML},this.resetContent=function(){var e=o.config.type+"Element",e=r.Modules.Template.render(e,{id:o.config.id,description:o.config.description,translateMessaging:o.config.translateMessaging},n.getConfigAttribute("lang"));o.elem.innerHTML=e.innerHTML},o.namespace+="("+n.id+")",e=o.config.type+"Element",(i=r.Modules.Utilities.copy(o.config)).gateId=n.id,o.elem=r.Modules.Template.render(e,i,n.getConfigAttribute("lang")),t.elem.appendChild(o.elem),r.Modules.Utilities.log(o.namespace,"buildElem","info",o.config.type,"element built")}}(window[window.GatedContentObject]),function(u){u.Classes=u.Classes||{},u.Classes.EventManager=function(a){var r=[],s=[],l=[];function d(e){for(var t={blocked:!1,blocker:{}},i=0;i<s.length;i++)if(s[i].eventName===e){t.blocker=s[i],t.blocked=!0;break}return t}this.namespace="Classes.EventManager",this.on=function(e,t,i,n){u.Modules.Utilities.log(a.namespace,"on","info","An event handler was registered on:",e,"by:",i);e={eventName:e,callback:t,namespace:i};n?r.unshift(e):r.push(e)},this.emit=function(e,t){void 0===t&&(t=a);for(var i=Date.now(),n=(u.Modules.Utilities.log(a.namespace,"emitEvent","event","An event was emitted by",a.namespace+":",e,"("+i+")"),r.slice()),o=0;o<n.length;o++)n[o].eventName==e&&(u.Modules.Utilities.log(a.namespace,"emitEvent","info"," A matching handler from",n[o].namespace,"was fired on event:",e,"("+i+")"),n[o].callback(t))},this.reviewListeners=function(e){var t=r.slice();r=[];for(var i=0;i<t.length;i++){var n=t[i];e(n)?r.push(n):u.Modules.Utilities.log(a.namespace,"reviewListeners","info"," A listener from",n.namespace,"was was removed from event:",n.eventName)}},this.defer=function(e,t,i,n){var o;(blockStatus=d(e)).blocked?(u.Modules.Utilities.log(a.namespace,"defer","info","A deferred event",e,"is currently blocked from running:",e,"by a blocker with key:",blockStatus.blocker.blockKey),o={eventName:e,callback:t,namespace:n,timeout:!1},i&&(o.timeout=u.Modules.Utilities.setCaughtTimeout(function(){var e,t;e=o,-1<(t=l.indexOf(e))&&(u.Modules.Utilities.log(a.namespace,"handleDeferredTimeout","event","Event:",e.eventName,"has timed out and will now be forcibly run"),l[t].callback(),l.splice(t,1))},i)),l.push(o)):(u.Modules.Utilities.log(a.namespace,"defer","event","A deferred event",e,"has no blockers and will run now"),t())},this.block=function(e,t,i){u.Modules.Utilities.log(a.namespace,"block","info","An event blocker was registered on:",e,"with key:",t,"by:",i),s.push({eventName:e,blockKey:t,namespace:i})},this.release=function(e,t,i){for(var n=0;n<s.length;n++)s[n].eventName===e&&s[n].blockKey===t&&(s.splice(n,1),u.Modules.Utilities.log(a.namespace,"release","info","An event blocker was released from:",e,"with key:",t,"by:",i),n--);if(!(blockStatus=d(e)).blocked)for(var o=0;o<l.length;o++)l[o].eventName===e&&(u.Modules.Utilities.log(a.namespace,"release","event","Event:",e,"has no more blockers and will now be run"),l[o].callback(),l[o].timeout&&window.clearTimeout(l[o].timeout),l.splice(o,1),o--)}}}(window[window.GatedContentObject]),function(S){S.Classes=S.Classes||{},S.Classes.Field=function(a,c,g){var p=this,t=!1,r={},n="",o=[];this.namespace="Classes.Field",this.config=a,this.elem="",this.inputElem="",this.labelElem="",this.hidden=!1,this.prePopped=!1;function s(e){"url"===p.config.type&&("focus"===e&&""===p.getValue()?p.setValue(S.Config.gates.fieldPrefixes.url,!1,!0):"blur"===e&&p.getValue()===S.Config.gates.fieldPrefixes.url&&p.setValue("",!1,!0))}function l(){S.Vendor.multiselects(p.inputElem,g.getConfigAttribute("lang")).destroy(),S.Vendor.multiselects(p.inputElem,g.getConfigAttribute("lang"));var e=p.elem.querySelector(".multiselect-input");e&&(e.placeholder=p.inputElem.getAttribute("placeholder")||""),S.Modules.UI.addCaughtEventListener(p.inputElem,"change",function(e){if(p.inputElem.getAttribute("data-last-value-changed--by-interaction"))p.inputElem.removeAttribute("data-last-value-changed--by-interaction");else{var t,i=p.getValue().split(",");for(t in S.Vendor.multiselects(p.inputElem).deselectAll(),i)S.Vendor.multiselects(p.inputElem).select(i[t])}},!0)}function d(){p.getValue()&&""!==p.getValue()?(p.elem.classList.add("gcdc-form-group-hasvalue"),!0):(p.elem.classList.remove("gcdc-form-group-hasvalue"),!1)}function u(e){p.elem.classList.add("gcdc-form-group-error"),p.elem.classList.remove("gcdc-form-group-valid"),e&&p.inputElem&&p.inputElem.focus()}function f(){p.elem.classList.add("gcdc-form-group-valid"),p.elem.classList.remove("gcdc-form-group-error")}function e(e){v()?p.setValue(v(),!0,!0):(p.config.defaultValue&&"string"==typeof p.config.defaultValue&&""!==p.config.defaultValue?p.setValue(p.config.defaultValue,!0):e&&p.setValue("",!0),p.config.setValue&&"object"==typeof p.config.setValue&&p.config.setValue.type&&(p.config.setValue.value||"gateEditor"===p.config.setValue.type)&&p.setValue(p.config.setValue,!0)),a.hideIfPopulated&&p.hasValue()&&p.validate(!1,!0)?(S.Modules.Utilities.log(p.namespace,"refreshValue","info",p.config.id,' "Hide if populated" field is being hidden as it already has a value'),p.hide("hideIfPopulated")):a.hideIfPopulated&&(!p.config.switchable||"true"===g.getConfigAttribute(p.config.id+"-display")||p.config.switchableDefaultDisplay&&!g.hasConfigAttribute(p.config.id+"-display"))&&(S.Modules.Utilities.log(p.namespace,"refreshValue","info",p.config.id,' "Hide if populated" field is being displayed because it does not have a value'),p.show("hideIfPopulated")),p.hasValue()&&(p.prePopped=!0)}function m(){return"never"===a.reuseValueDurationType?-1:"session"===a.reuseValueDurationType?0:"customMinutes"===a.reuseValueDurationType?a.reuseValueDuration:"customHours"===a.reuseValueDurationType?60*a.reuseValueDuration:"customDays"===a.reuseValueDurationType?60*a.reuseValueDuration*24:0}function h(){0<=m()&&"hidden"!==a.type&&"true"!==g.getConfigAttribute("kioskMode")&&S.Modules.Storage.writeStorage(S.Config.storage.userFieldDataPrefix+p.config.id,p.getValue(),m())}function v(){return"true"!==g.getConfigAttribute("kioskMode")?S.Modules.Storage.readStorage(S.Config.storage.userFieldDataPrefix+p.config.id):""}function b(e,t){if("string"===e.type)t(e.value);else if("gateAttribute"===e.type)"gateId"===e.value?t(g.id):t(g.getConfigAttribute(e.value));else if("gateEditor"===e.type)t(g.getConfigAttribute(p.config.id));else if("formAttribute"===e.type)S.Modules.DataSources.useDataSource("form"+g.id,e.value,function(e){t(e)});else if("fieldValue"===e.type){var i=c.getFieldById(e.value);t(i?i.getValue():"")}else if("custom"===e.type){var r=e.value,s=t,n=r.match(/\[\[([a-zA-Z0-9_\.\$\-]+)\]\]/gi);if(n&&0<n.length){var o,l,d={};for(o in n){var a=n[o];a=a.replace(/[\[\]]+/gi,""),d[a]=!1}for(l in d){var u=l.split(".");2===u.length&&b({type:u[0],value:u[1]},function(e){d[l]=e;var t,i=!0;for(t in d)if(!1===d[t]){i=!1;break}if(i){var n,o=r;for(n in d){tokenNameReplacePieces=n.split(".");new RegExp("(\\[\\["+tokenNameReplacePieces[0]+"\\."+tokenNameReplacePieces[1]+"\\]\\])+","g");var a=tokenNameReplacePieces[1].replace(/([\$\-])/gi,"\\$1"),a=new RegExp("(\\[\\["+tokenNameReplacePieces[0]+"\\."+a+"\\]\\])+","g"),o=o.replace(a,d[n])}s(o)}})}}else s(r)}else"webinar"===e.type&&"webinarId"===e.value?"function"==typeof g.getWebinarID&&g.getWebinarID(t):S.Modules.DataSources.useDataSource(e.type,e.value,function(e){t(e)},"true"===g.getConfigAttribute("kioskMode"))}this.sort=function(){if("select"===p.config.type){var e=p.inputElem,t=[];for(i=1;i<e.length;i++)t[i-1]=e.options[i].text.toUpperCase()+"||"+e.options[i].text+"||"+e.options[i].value+"||"+e.options[i].selected;try{var n=Intl.Collator();t.sort(function(e,t){return n.compare(e,t)})}catch(e){t.sort()}for(i=1;i<e.length;i++){var o=t[i-1].split("||");e.options[i].text=o[1],e.options[i].value=o[2],"true"===o[3]?e.options[i].selected=!0:e.options[i].selected=!1}}},this.setOptions=function(e){if("select"===p.config.type){var t=p.getValue(),i=p.inputElem.innerHTML="",i=p.config.hint?S.Modules.Template.placeholderText(p.config,g.getConfigAttribute("lang")):S.Modules.Localise.translateString("selectFieldHint",g.getConfigAttribute("lang"),S.Config.gates.selectFieldHint);p.config.allowMultipleSelections||p.inputElem.appendChild(S.Modules.Template.render("selectOption",{value:"",description:i,translateLabel:!1,translateValue:!1},g.getConfigAttribute("lang")));for(var n=0;n<e.length;n++){var o=e[n];o.translateLabel=p.config.translateOptionLabels,o.translateValue=p.config.translateOptionValues,o.fieldId=p.config.id,t==o.value&&(o.selected=!0),p.inputElem.appendChild(S.Modules.Template.render("selectOption",o,g.getConfigAttribute("lang")))}p.config.sort&&p.sort(),p.config.allowMultipleSelections&&l(),S.Modules.UI.simulateEvent(p.inputElem,"change")}else S.Modules.Utilities.log(p.namespace,"setOptions","critical","Cannot set options on a",p.config.type,"field, this method only works on select fields")},this.addRegexpValidator=function(e,t,i,n){e&&t&&i&&""!==i&&(r[e]={regexp:t,errorMessage:i,noTranslate:n||!1})},this.removeRegexpValidator=function(e){delete r[e]},this.validate=function(e,t){var i,n=!0,o=p.inputElem;return p.resetDefaultValidationText(),null===o||"disabled"===o.getAttribute("disabled")||"readonly"===o.getAttribute("readonly")||p.hidden||(""!==o.value&&"checkbox"!==o.type&&"radio"!==o.type?(i=function(){var e,t=p.inputElem;for(e in r)if(r.hasOwnProperty(e))try{var i=r[e].regexp,n=new RegExp(i,"gi");if(null===t.value.match(n))return r[e].noTranslate?r[e].errorMessage:S.Modules.Localise.translateString(S.Modules.Template.generateStringName("errorCustomRegexp",e),g.getConfigAttribute("lang"),r[e].errorMessage)}catch(e){S.Modules.Utilities.log(p.namespace,"failsRegexpValidation","critical","Validating against custom regular expression fails:",e)}var o=t.getAttribute("pattern"),a=new RegExp(o,"gi");return!(!o||""===o||null!==t.value.match(a))}())&&(n=!1,"string"==typeof i&&""!==i&&p.setValidationText(i),t||u(e)):p.config.required&&("checkbox"===o.type&&!o.checked||""===o.value)&&(n=!1,t||u(e)),n&&f()),n},this.resetValidation=function(){p.elem.classList.remove("gcdc-form-group-valid"),p.elem.classList.remove("gcdc-form-group-error")},this.hide=function(e){p.elem.classList.add("hidden"),p.hidden=!0,e&&-1===o.indexOf(e)&&o.push(e)},this.hiddenByTag=function(e){return-1!==o.indexOf(e)},this.onlyHiddenByTag=function(e){return 1===o.length&&-1!==o.indexOf(e)},this.show=function(e,t){e&&-1!==o.indexOf(e)&&o.splice(o.indexOf(e),1),!t&&0!==o.length||(p.elem.classList.remove("hidden"),p.hidden=!1)},this.disable=function(){var e;p.inputElem&&("phonemulti"===p.config.type?(e=p.elem.querySelector(".gcdc-phonemulti-main"))&&(e.setAttribute("readonly","readonly"),e.setAttribute("aria-readonly","true")):"select"===p.config.type&&p.config.allowMultipleSelections?(e=p.elem.querySelector(".multiselect-input"))&&(e.setAttribute("readonly","readonly"),e.setAttribute("aria-readonly","true")):"radio"===p.config.type&&(e=p.elem.querySelectorAll("input.gcdc-radio"))&&e.forEach(function(e){e.setAttribute("disabled","disabled"),e.setAttribute("aria-disabled","true")}),"checkbox"===a.type?(p.inputElem.setAttribute("disabled","disabled"),p.inputElem.setAttribute("aria-disabled","true")):(p.inputElem.setAttribute("readonly","readonly"),p.inputElem.setAttribute("aria-readonly","true")))},this.enable=function(){var e;p.inputElem&&("phonemulti"===p.config.type?(e=p.elem.querySelector(".gcdc-phonemulti-main"))&&(e.removeAttribute("readonly"),e.removeAttribute("aria-readonly")):"select"===p.config.type&&p.config.allowMultipleSelections?(e=p.elem.querySelector(".multiselect-input"))&&(e.removeAttribute("readonly"),e.removeAttribute("aria-readonly")):"radio"===p.config.type&&(e=p.elem.querySelectorAll("input.gcdc-radio"))&&e.forEach(function(e){e.removeAttribute("disabled"),e.removeAttribute("aria-disabled")}),"checkbox"===a.type?(p.inputElem.removeAttribute("disabled"),p.inputElem.removeAttribute("aria-disabled")):(p.inputElem.removeAttribute("readonly"),p.inputElem.removeAttribute("aria-readonly")))},this.check=function(e){"checkbox"===p.config.type&&p.inputElem&&(p.inputElem.checked=!0,e&&S.Modules.UI.simulateEvent(p.inputElem,"change"))},this.uncheck=function(e){"checkbox"===p.config.type&&p.inputElem&&(p.inputElem.checked=!1,e&&S.Modules.UI.simulateEvent(p.inputElem,"change"))},this.makeRequired=function(){var e;p.config.required=!0,p.inputElem&&(p.inputElem.setAttribute("required","required"),p.inputElem.setAttribute("aria-required","true")),p.labelElem&&-1==p.labelElem.innerHTML.indexOf("*")&&((e=p.labelElem.querySelector("span.gcdc-form-field-label-inner"))?(e.innerHTML=e.innerHTML.replace(S.Modules.Template.getStatusMarker("optional",g.getConfigAttribute("lang")),""),e.innerHTML=e.innerHTML.replace(S.Modules.Template.getStatusMarker("required",g.getConfigAttribute("lang")),""),e.innerHTML=e.innerHTML+S.Modules.Template.getStatusMarker("required",g.getConfigAttribute("lang"))):(p.labelElem.innerHTML=p.labelElem.innerHTML.replace(S.Modules.Template.getStatusMarker("optional",g.getConfigAttribute("lang")),""),p.labelElem.innerHTML=p.labelElem.innerHTML.replace(S.Modules.Template.getStatusMarker("required",g.getConfigAttribute("lang")),""),p.labelElem.innerHTML=p.labelElem.innerHTML+S.Modules.Template.getStatusMarker("required",g.getConfigAttribute("lang"))))},this.makeNotRequired=function(){var e;p.config.required=!1,p.inputElem&&(p.inputElem.removeAttribute("required"),p.inputElem.removeAttribute("aria-required")),p.labelElem&&((e=p.labelElem.querySelector("span.gcdc-form-field-label-inner"))?(e.innerHTML=e.innerHTML.replace(S.Modules.Template.getStatusMarker("required",g.getConfigAttribute("lang")),""),e.innerHTML=e.innerHTML.replace(S.Modules.Template.getStatusMarker("optional",g.getConfigAttribute("lang")),""),e.innerHTML=e.innerHTML+S.Modules.Template.getStatusMarker("optional",g.getConfigAttribute("lang"))):(p.labelElem.innerHTML=p.labelElem.innerHTML.replace(S.Modules.Template.getStatusMarker("required",g.getConfigAttribute("lang")),""),p.labelElem.innerHTML=p.labelElem.innerHTML.replace(S.Modules.Template.getStatusMarker("optional",g.getConfigAttribute("lang")),""),p.labelElem.innerHTML=p.labelElem.innerHTML+S.Modules.Template.getStatusMarker("optional",g.getConfigAttribute("lang"))))},this.injectFlag=function(e){var t=document.createElement("span"),i=document.createElement("span");function n(){i.className="gcdc-flag gcdc-flag-"+e}return t.className="gcdc-form-region-flag",i.className="gcdc-flag gcdc-flag-"+e,t.setAttribute("for",g.id+p.config.id),p.elem.querySelector(".gcdc-form-field-wrapper").appendChild(t),t.appendChild(i),{up:function(e){n(),e="gcdc-flag-"+e.toLowerCase(),i.classList.add(e)},down:n}},this.injectClearSelection=function(){var e=document.createElement("span");return e.className="gcdc-clear-selection",e.setAttribute("for",g.id+p.config.id),e.setAttribute("title","Clear current selection"),p.elem.querySelector(".gcdc-form-field-wrapper").appendChild(e),{show:function(){e.style.display="block"},hide:function(){e.style.display="none"},elem:e}},this.getValue=function(){return"checkbox"===p.config.type?p.inputElem.checked?""!==p.inputElem.value?p.inputElem.value:"true":"":"country"===p.config.type&&p.inputElem.getAttribute("data-gcdc-country-value")?p.inputElem.getAttribute("data-gcdc-country-value"):"select"===p.config.type&&p.config.allowMultipleSelections?void 0!==p.inputElem.selectedOptions?Array.prototype.map.call(p.inputElem.selectedOptions,function(e){return e.value}).join(S.Config.gates.multiselectDelimiter):"":p.inputElem.value},this.hasValue=function(){return"checkbox"===p.config.type?!!p.inputElem.checked:!(!p.inputElem.value||""===p.inputElem.value)},this.setValue=function(e,t,i){if("string"!=typeof e&&"number"!=typeof e)e.type&&(e.value||"gateEditor"===e.type)&&b(e,function(e){p.setValue(e,t)});else{if("checkbox"===p.config.type)p.inputElem.checked=("true"===e||"false"!==e&&!1!==e&&null!==e&&""!==e)&&"checked";else if("select"===p.config.type&&p.config.allowMultipleSelections)for(var n=e.split(S.Config.gates.multiselectDelimiter),o=0;o<p.inputElem.options.length;o++)p.inputElem.options[o].selected=-1<n.indexOf(p.inputElem.options[o].value);else p.inputElem.value=e;t&&("hidden"===p.config.type?S.Modules.UI.simulateEvent(p.inputElem,"change"):(S.Modules.UI.simulateEvent(p.inputElem,"change"),S.Modules.UI.simulateEvent(p.inputElem,"blur"))),i||h(),a.id!==S.Config.defaultFields.emailField&&a.id!==S.Config.defaultFields.firstNameField&&a.id!==S.Config.defaultFields.lastNameField||c.updatePrepopMessage()}},this.refreshValue=function(){e()},this.resetValue=function(){e(!0)},this.changeLabel=function(e,t){var i;p.labelElem&&(e={id:p.config.id,translateMessaging:p.config.translateMessaging,description:e,required:p.config.required},(i=p.labelElem.querySelector("span.gcdc-form-field-label-inner"))?i.innerHTML=S.Modules.Template.deWidofy(S.Modules.Template.appendedLabel(e,g.getConfigAttribute("lang"),t)):p.labelElem.innerHTML=S.Modules.Template.deWidofy(S.Modules.Template.appendedLabel(e,g.getConfigAttribute("lang"),t)))},this.resetLabel=function(){var e,t;p.labelElem&&(e={id:p.config.id,translateMessaging:p.config.translateMessaging,description:p.config.description,required:p.config.required},(t=p.labelElem.querySelector("span.gcdc-form-field-label-inner"))?t.innerHTML=S.Modules.Template.deWidofy(S.Modules.Template.appendedLabel(e,g.getConfigAttribute("lang"))):p.labelElem.innerHTML=S.Modules.Template.deWidofy(S.Modules.Template.appendedLabel(e,g.getConfigAttribute("lang"))))},this.changePlaceholder=function(e,t){var i;p.inputElem&&(t=S.Modules.Localise.translateString(S.Modules.Template.generateStringName("Field Placeholder ",p.config.id+t),g.getConfigAttribute("lang"),e),"phonemulti"===p.config.type?(i=p.elem.querySelector(".gcdc-phonemulti-main"))&&i.setAttribute("placeholder",t):"select"===p.config.type&&p.config.allowMultipleSelections?(i=p.elem.querySelector(".multiselect-input"))&&i.setAttribute("placeholder",t):p.inputElem.setAttribute("placeholder",t))},this.resetPlaceholder=function(){var e,t;p.inputElem&&(e=S.Modules.Template.placeholderText(p.config,g.getConfigAttribute("lang")),"phonemulti"===p.config.type?(t=p.elem.querySelector(".gcdc-phonemulti-main"))&&t.setAttribute("placeholder",e):"select"===p.config.type&&p.config.allowMultipleSelections?(t=p.elem.querySelector(".multiselect-input"))&&t.setAttribute("placeholder",e):p.inputElem.setAttribute("placeholder",e))},this.getLabel=function(){var e="";return e=p.labelElem?(p.labelElem.querySelector("span.gcdc-form-field-label-inner")||p.labelElem).innerHTML:e},this.getValidationText=function(){var e="",t=p.elem.querySelector("span.gcdc-form-error");return e=t?t.innerHTML:e},this.setValidationText=function(e){var t=p.elem.querySelector("span.gcdc-form-error");""!==e&&t&&(t.innerHTML=e)},this.resetDefaultValidationText=function(){var e=p.elem.querySelector("span.gcdc-form-error");""!==n&&e&&(e.innerHTML=n)},this.forceValidState=function(){f()},p.namespace+="("+g.id+")";var y=p.config.type+"Field",w=S.Modules.Utilities.copy(p.config);if(w.gateId=g.id,w.value="",p.elem=S.Modules.Template.render(y,w,g.getConfigAttribute("lang")),c.elem.appendChild(p.elem),p.config.halfWidth&&p.elem.classList.add("gcdc-form-group-halfwidth"),p.inputElem=p.elem.querySelector("input,select,textarea"),p.labelElem=p.elem.querySelector("label.gcdc-form-label"),p.inputElem||(p.inputElem=p.elem),p.config.sort&&p.sort(),S.Modules.UI.addCaughtEventListener(p.inputElem,"focus",function(e){c.recordLastInteractedField(p),g.handleFormInteraction("fieldFocus"),p.elem.classList.add("gcdc-form-group-active"),t=!0,s("focus")},!0),S.Modules.UI.addCaughtEventListener(p.inputElem,"blur",function(e){p.elem.classList.remove("gcdc-form-group-active"),s("blur"),d(),S.Config.advancedSettings.liveValidateForms&&p.validate(!1)},!0),S.Modules.UI.addCaughtEventListener(p.inputElem,"change",function(e){t&&(c.recordLastInteractedField(p),g.handleFormInteraction("fieldChange")),d(),S.Config.advancedSettings.liveValidateForms&&p.validate(!1)},!0),!p.config.switchable||"true"===g.getConfigAttribute(p.config.id+"-display")||p.config.switchableDefaultDisplay&&!g.hasConfigAttribute(p.config.id+"-display")||(p.hide("switchable"),S.Modules.Utilities.log(p.namespace,"buildField","info",p.config.id,"field is switchable but not set to display, hiding")),p.config.requiredSwitchable&&g.hasConfigAttribute(p.config.id+"-required")&&("true"===g.getConfigAttribute(p.config.id+"-required")?(p.makeRequired(),S.Modules.Utilities.log(p.namespace,"buildField","info",p.config.id,"field is required switchable but not set to be required")):(p.makeNotRequired(),S.Modules.Utilities.log(p.namespace,"buildField","info",p.config.id,"field is required switchable and set to be required"))),n=p.getValidationText(),"object"==typeof p.config.regexpValidators&&0<p.config.regexpValidators.length)for(var C=0;C<p.config.regexpValidators.length;C++){var M=p.config.regexpValidators[C];p.addRegexpValidator(M.id,M.regexp,M.errorMessage,M.noTranslate)}if(e(),g.eventManager.on("submission",function(e){var t;p.inputElem.removeAttribute("disabled"),p.inputElem.removeAttribute("aria-disabled"),h(),p.config.clearValueOnSubmissionIfBlank&&p.hidden&&!p.onlyHiddenByTag("multiStep")&&p.setValue("",!1,!0),p.config.allowMultipleSelections&&p.config.convertMultiselectToCSV&&((t=document.createElement("INPUT")).setAttribute("type","text"),p.inputElem.parentNode.appendChild(t),t.name=p.inputElem.name,t.value=p.getValue(),p.inputElem.parentNode.removeChild(p.inputElem))},p.namespace,!0),d(),"select"===p.config.type&&p.config.allowMultipleSelections)l();else if("radio"===p.config.type){const k=p.elem.querySelectorAll("input.gcdc-radio");k.forEach(function(t){p.getValue()===t.value&&(t.checked=!0),S.Modules.UI.addCaughtEventListener(t,"change",function(e){t.checked&&p.setValue(t.value,!0)})}),S.Modules.UI.addCaughtEventListener(p.inputElem,"change",function(e){k.forEach(function(e){e.checked=!1,p.getValue()===e.value&&(e.checked=!0)})},!0)}S.Modules.Utilities.log(p.namespace,"buildField","info",p.config.type,"field built")}}(window[window.GatedContentObject]),function(U){U.Classes=U.Classes||{},U.Classes.Form=function(g){var i,t,p=this,n=!1,o=!1,a={},r=[],s=[],l=null,d=null,u=null,c={header:null,footer:null},e=null;function f(e){submissionBlocked?U.Modules.Utilities.log(p.namespace,"handleSubmission","warning","Form is blocked from submitting"):(p.blind=void 0!==e,p.blind||h(!0)?(p.blind||p.hide(),c.header.style.display="none",c.footer.style.display="none",i.emitData("submissionType",p.blind?"Blind":"User"),i.emitData("submissionDatetimeISO",U.Modules.Utilities.getLocalDatetime()),i.emitData("submissionDatetimeUS",U.Modules.Utilities.getLocalDatetime("US")),g.eventManager.emit("submission"),p.blind&&(p.eachField(function(e){return-1!==U.Config.gates.blindSubmitExcludedFields.indexOf(e.config.id)&&(e.inputElem.value=""),!0}),g.eventManager.emit("blindSubmission")),U.Modules.Gate.eventManager.defer("submitForm",function(){var e,t;"s"===g.getConfigAttribute("formSubmissionBehaviour")?(m(),g.eventManager.emit("synchronousSubmission"),U.Modules.Utilities.setCaughtTimeout(function(){p.elem.submit()},U.Config.gates.synchronousSubmissionDelay)):"function"!=typeof p.customSubmissionBehaviour||a.overrideSubmissionUrl&&!U.Config.gates.forceCustomSubmissionBehaviour?(e=document.createElement("iframe"),t=U.Modules.Utilities.getRandomInt(1e5,999999),e.style.display="none",document.body.appendChild(e),e.contentWindow.name=t,p.elem.target=t,p.elem.submit(),m(!0)):p.customSubmissionBehaviour(function(e,t){e?m(!0):(p.show(),v(t))})},5e3,p.namespace)):(e=l,g.handleFormInteraction("submissionFailed",{field:e}),U.Modules.Utilities.log(p.namespace,"handleSubmission","info","Form not valid, submission stopped")))}function m(e){p.submitted=!0,overrideOpen=!0,p.blind?(p.blindSubmitted=!0,g.handleFormInteraction("blindSubmissionSucceed"),g.eventManager.emit("blindSubmitted"),U.Modules.Utilities.log(p.namespace,"handleSubmission","info","Form was blind submitted")):(g.eventManager.emit("postSubmission"),U.Config.gates.scrollToGateTopOnSubmission&&!g.isModal&&U.Modules.UI.scrollTo(g.wrapperElem,U.Config.gates.scrollToGateTopOnSubmissionOffset),g.getConfigAttribute("gateOpenByIdSession")&&U.Modules.Storage.writeStorage("gateIdSession"+g.id,"true",U.Config.gates.gateOpenByIdSessionDuration),g.getConfigAttribute("gateOpenById")&&U.Modules.Storage.writeStorage("gateId"+g.id,"true",U.Config.gates.gateOpenByIdDuration),g.getConfigAttribute("gateGroup")&&null!==g.getConfigAttribute("gateGroup")&&""!==g.getConfigAttribute("gateGroup")&&U.Modules.Storage.writeStorage("gateGroup"+g.getConfigAttribute("gateGroup"),"true",U.Config.gates.gateOpenByGroupDuration),g.handleFormInteraction("submissionSucceed"),U.Modules.Utilities.log(p.namespace,"handleSubmission","info","Form was submitted")),e&&g.eventManager.emit("submitted")}function h(t,e){return g.eventManager.emit("validate"),n=!0,o||(e||(p.elem.addEventListener("blur",function(e){h(!1)},!0),p.elem.addEventListener("keyup",function(e){h(!1)},!0)),p.elem.addEventListener("change",function(e){h(!1)},!0),o=!0),p.eachField(function(e){return!!e.validate(t)||(n=!1,l=e,i.emitData("lastInvalidField",l.config.name),!1)}),n?g.eventManager.emit("validationPassed"):g.eventManager.emit("validationFailed"),n}function v(e){e="<p>"+e+"</p>";c.header.innerHTML=e,c.header.style.display="block",c.footer.innerHTML=e,c.footer.style.display="block"}function b(e){p.updatePrepopMessage(),C(!0),t&&t.resetProgression()}function y(e){e!==g&&C(!0)}function w(){p.prePopped=!1,C()}function C(t){p.hide(),U.Modules.Utilities.log(g.namespace,"resetAllFieldValues","info","Resetting all form fields"),p.eachField(function(e){e.resetValue(),t&&e.resetValidation()}),g.eventManager.emit("fieldsReset"),g.updateGateVisibility()}function M(){U.Config.advancedSettings.disableFormsOnPrivacyBlocking&&p.blockSubmission();var e=U.Config.advancedSettings.privacyBlockingMessage||"We have detected one or more ad blockers running in your browser that may cause this form fail to submit, even if it appears to submit successfully. We strongly recommend disabling these blockers or using another browser.";v(U.Modules.Template.deWidofy(U.Modules.Localise.translateString("submissionBlockedMessage",g.getConfigAttribute("lang"),e)))}if(submissionBlocked=!1,this.namespace="Classes.Form",this.submitted=!1,this.blindSubmitted=!1,this.elem=document.createElement("form"),this.rendered=!1,this.customSubmissionBehaviour=null,this.prePopped=!1,this.enriched=!1,this.lastInteractedField=null,this.blockSubmission=function(){submissionBlocked=!0;var e=p.elem.querySelector('input[type="submit"]');e.classList.add("disabled"),e.setAttribute("disabled","disabled")},this.unblockSubmission=function(){submissionBlocked=!1;var e=p.elem.querySelector('input[type="submit"]');e.classList.remove("disabled"),e.removeAttribute("disabled")},this.updatePrepopMessage=function(){var e,t,i;d&&(null!==u&&(u.parentNode.removeChild(u),u=null),i=U.Modules.Storage.readStorage(U.Config.storage.userFieldDataPrefix+U.Config.defaultFields.emailField),e=U.Modules.Storage.readStorage(U.Config.storage.userFieldDataPrefix+U.Config.defaultFields.firstNameField),t=U.Modules.Storage.readStorage(U.Config.storage.userFieldDataPrefix+U.Config.defaultFields.lastNameField),i&&U.Config.gates.prepopulation.showPrepopulationMessage&&!g.getConfigAttribute("kioskMode")&&(p.prePopped=!0,e=e&&t?e+" "+t:i,t=U.Modules.Localise.translateString("prepopNoticeMessage",g.getConfigAttribute("lang"),"Hi {username}, we've saved you some time by filling out the form with details you previously entered.").replace("{username}",e),i=U.Modules.Localise.translateString("prepopButtonMessage",g.getConfigAttribute("lang"),"Not {username}?").replace("{username}",e),u=U.Modules.Template.render("formPrepop",{prepopNoticeMessage:t,prepopButtonMessage:i},g.getConfigAttribute("lang")),d.appendChild(u),U.Modules.UI.addCaughtEventListener(u.getElementsByTagName("a")[0],"click",function(e){e.preventDefault(),U.Modules.Gate.notMeTrigger(g)})))},this.wouldSubmit=function(){if(submissionBlocked)return!1;var t=!0;return p.eachField(function(e){return!(e.config.required&&!e.validate(!1,!0))||(t=!1)}),t},this.show=function(){g.wrapperElem.querySelector(".gcdc-loader")&&(g.wrapperElem.querySelector(".gcdc-loader").style.display="none"),p.elem.style.setProperty("display","block"),g.eventManager.emit("formDisplayed"),U.Modules.ViewScroll.whenVisible(p.elem,function(){g.handleFormInteraction("formViewed")},!0)},this.hide=function(){g.wrapperElem.querySelector(".gcdc-loader")&&(g.wrapperElem.querySelector(".gcdc-loader").style.display="block"),p.elem.style.setProperty("display","none","important"),g.eventManager.emit("formHidden")},this.eachField=function(e,t){for(var i=0;i<r.length;i++){var n=r[i];if(("string"!=typeof t||n.config.type==t)&&!1===e(n))break}},this.eachElem=function(e){for(var t=0;t<s.length;t++)if(!1===e(s[t]))break},this.getFieldById=function(e){for(var t=0;t<r.length;t++){var i=r[t];if(i.config.id===e)return i}return!1},this.getFieldValueById=function(e){e=p.getFieldById(e);return e&&e.getValue()||""},this.getFieldByName=function(e){for(var t=0;t<r.length;t++){var i=r[t];if(i.config.name===e)return i}return!1},this.getElemById=function(e){for(var t=0;t<s.length;t++){var i=s[t];if(i.config.id===e)return i}return!1},this.blindSubmit=function(){!p.submitted&&function(){if(g.forceBlindSubmitOnContentInteraction)return 1;var n=!0;return p.eachField(function(e){U.Config.gates.blindSubmitRequireEmailAddress&&U.Config.gates.blindSubmitAdditionalRequiredFields.push(U.Config.defaultFields.emailField);for(var t=0;t<U.Config.gates.blindSubmitAdditionalRequiredFields.length;t++){var i=U.Config.gates.blindSubmitAdditionalRequiredFields[t];if(i==e.config.id&&!e.validate())return n=!1}}),n}()&&f(!0)},this.updateFieldValues=function(t,i,n){p.eachField(function(e){!t[e.config.id]||i&&""!==e.getValue()||e.setValue(t[e.config.id],n)})},this.recordLastInteractedField=function(e){p.lastInteractedField=e,i.emitData("lastInteractedField",p.lastInteractedField.config.name)},this.updateDoubleColumnStatus=function(){if(!g.wrapperElem.parentElement.offsetWidth||g.wrapperElem.parentElement.offsetWidth>=U.Config.gates.doubleColumnBreakpoint){for(var e=!1,t=0;t<a.fields.length;t++)a.fields[t].halfWidth&&(e=!0);return e?p.elem.classList.add("gcdc-form-double-column"):p.elem.classList.remove("gcdc-form-double-column"),e}return p.elem.classList.remove("gcdc-form-double-column"),!1},this.addField=function(e){var t=r.push(new U.Classes.Field(e,p,g));if(e.conditions)for(var i=0;i<t.config.conditions.length;i++)new U.Classes.Condition(t,t.config.conditions[i],g,p);return t},p.namespace+="("+g.id+")",i=U.Modules.DataSources.registerDataSource("form"+g.id),U.Config.gates.formTypes[g.getConfigAttribute("formType")]){a=JSON.parse(JSON.stringify(U.Config.gates.formTypes[g.getConfigAttribute("formType")])),g.wrapperElem.appendChild(p.elem),p.elem.innerHtml="",p.elem.className=U.Config.html.formElementClass,p.elem.classList.add(U.Config.html.formElementClass+"-"+U.Modules.Template.safeCssClassName(g.getConfigAttribute("formType"))),p.elem.setAttribute("novalidate","novalidate"),p.elem.setAttribute("method","post"),p.elem.setAttribute("action",(a.overrideSubmissionUrl?a:U.Config.account).submissionUrl);var k=Date.now().toString(),S=U.Config.html.gateTriggerClassPrefix+g.id+"_form_"+k,S=(p.elem.setAttribute("id",S),g.getConfigAttribute("gateName").trim().replace(/\s/g,"-")+"_"+k);p.elem.setAttribute("name",S),p.elem.style.setProperty("display","none","important"),g.getConfigAttribute("formType")&&g.getConfigAttribute("formType").toLowerCase()&&p.elem.classList.add("gcdc-form-render-"+g.getConfigAttribute("formType").toLowerCase()),k={message:g.getConfigAttribute("introMessage"),gate:g},d=U.Modules.Template.render("formIntro",k,g.getConfigAttribute("lang")),p.elem.appendChild(d),c.header=U.Modules.Template.render("formWarningMessage",{},g.getConfigAttribute("lang")),p.elem.appendChild(c.header);for(var E,T=0;T<a.fields.length;T++)a.fields[T]&&"customFields"===a.fields[T].type&&(E=function(e){for(var t,i=[],n=0,o=1;o<=parseInt(e.customFieldsNum);o++){var a=g.getConfigAttribute("customField"+o+"Type");if("inactive"!==a&&null!==a&&""!==a){n++;var r={id:e.customFieldsValueTemplate.replace("{n}",o),name:e.customFieldsValueTemplate.replace("{n}",o),type:g.getConfigAttribute("customField"+o+"Type"),description:g.getConfigAttribute("customField"+o+"Label"),options:[],allowMultipleSelections:g.getConfigAttribute("customField"+o+"AllowMultiselect"),convertMultiselectToCSV:!!g.getConfigAttribute("customField"+o+"AllowMultiselect"),value:g.getConfigAttribute("customField"+o+"Value"),required:g.getConfigAttribute("customField"+o+"Required"),regexpValidators:g.getConfigAttribute("customField"+o+"UseRegexp")?[{id:"customField"+o+"RegexpValidator",regexp:g.getConfigAttribute("customField"+o+"Regexp"),errorMessage:g.getConfigAttribute("customField"+o+"RegexpMessage"),noTranslate:!0}]:[],translateMessaging:!1,translateOptionLabels:!1,maxlength:g.getConfigAttribute("customField"+o+"Maxlength")||32e3,reuseValueDurationType:"never",inlineStep:e.inlineStep},a=("hidden"===g.getConfigAttribute("customField"+o+"Type")&&(r.defaultValue=g.getConfigAttribute("customField"+o+"Value")),{id:e.customFieldsLabelTemplate.replace("{n}",o),name:e.customFieldsLabelTemplate.replace("{n}",o),defaultValue:g.getConfigAttribute("customField"+o+"Label"),type:"hidden",reuseValueDurationType:"never"}),s=g.getConfigAttribute("customField"+o+"Options");if(s)for(var l=s.split("\n"),d=0;d<l.length;d++){var u=l[d];u&&(u=-1===u.indexOf("|")?t=u:(u=u.split("|"),t=u[0],u[1]),r.options.push({value:t,description:u}))}i.push(r),i.push(a)}}var c=g.getConfigAttribute("customFieldHeading");0<i.length&&c&&i.unshift({id:"customFieldHeading",name:"customFieldHeading",type:"customContent",description:'<label class="gcdc-form-label gcdc-custom-fields-subheader">'+c+"</label>",translateMessaging:!1});return U.Modules.Utilities.log(p.namespace,"expandFieldCollections","info",n,"active custom fields added to gate",g.id),i}(a.fields[T]),a.fields.splice.apply(a.fields,[T,1].concat(E)));for(var I=0;I<a.fields.length;I++){var _=a.fields[I];"customContent"===_.type?s.push(new U.Classes.Elem(_,p,g)):r.push(new U.Classes.Field(_,p,g))}p.eachField(function(e){if(e.config.conditions)for(var t=0;t<e.config.conditions.length;t++)new U.Classes.Condition(e,e.config.conditions[t],g,p)});for(var x=0;x<s.length;x++){var A=s[x];if(A.config.conditions)for(var L=0;L<A.config.conditions.length;L++)new U.Classes.Condition(A,A.config.conditions[L],g,p)}c.footer=U.Modules.Template.render("formWarningMessage",{},g.getConfigAttribute("lang")),p.elem.appendChild(c.footer),e=U.Modules.Template.render("submit",g,g.getConfigAttribute("lang")),p.elem.appendChild(e),p.elem.appendChild(U.Modules.Template.render("formFooter",g,g.getConfigAttribute("lang"))),p.elem.addEventListener("submit",function(e){e.preventDefault(),f()}),"progressive"===a.behaviour&&g.eventManager.on("gateBuilt",function(){t=new U.Classes.Progressive(g,p,i,a.steps)},p.namespace),"multiStep"===a.behaviour&&(multiStepHandler=new U.Classes.MultiStep(g,p,i,e,c,h)),U.Modules.Gate.eventManager.on("notMeTriggerComplete",b,p.namespace),U.Modules.Gate.eventManager.on("formSubmittedTrigger",y,p.namespace),U.Modules.Gate.eventManager.on("formRefreshTrigger",w,p.namespace),U.Modules.Gate.eventManager.on("privacyBlockingDetected",M,p.namespace),U.Modules.Gate.isPrivacyBlockingDetected()&&M(),p.updateDoubleColumnStatus(),U.Modules.UI.addCaughtEventListener(window,"resize",function(e){p.updateDoubleColumnStatus()}),p.rendered=!0,U.Modules.Utilities.log(p.namespace,"buildForm","info","Form rendered"),U.Modules.Utilities.setCaughtTimeout(function(){g.handleFormInteraction("formLoaded")},350)}else U.Modules.Utilities.log(p.namespace,"loadForm","critical","No form type called",g.getConfigAttribute("formType"),"was found")}}(window[window.GatedContentObject]),function(b){b.Classes=b.Classes||{},b.Classes.Gate=function(e,n){function t(e){p(e)?(r.namespace+="("+r.id+")",s=e,b.Modules.Gate.loadFormType(r),b.Modules.Localise.loadLanguage(r),g(),r.init=!0,r.eventManager.emit("gateInit"),b.Modules.Utilities.log(r.namespace,"loadGate","info","Gate config loaded")):c("No configuration was found for gate id: "+r.id)}function i(){r.form.blindSubmitted||(f(!0),b.Modules.Utilities.setCaughtTimeout(m,b.Config.gates.showContentDelay))}function o(){r.wrapperElem.querySelector(".gcdc-loader")&&(r.wrapperElem.querySelector(".gcdc-loader").style.display="block"),r.contentElem.style.display="none",r.eventManager.emit("contentHidden")}var a,r=this,s={},l=!1,d=!1,u=[],c=(this.namespace="Classes.Gate",this.id="",this.form,this.init=!1,this.buildPending=!1,this.built=!1,this.wrapperElem=e,this.contentElem,this.isModal=!1,this.forceModal=!1,this.preventModalOpeningOnce=!1,this.forceBlindSubmitOnContentInteraction=!1,function(e){b.Modules.Utilities.log(r.namespace,"loadGate","critical",e),d=!0}),g=function(){r.wrapperElem.innerHTML="",r.contentElem=document.createElement("div"),r.contentElem.innerHTML="",r.wrapperElem.classList.add(b.Config.html.gateElementClass),b.Modules.UI.injectLoader(r.wrapperElem),"true"===e.getAttribute("data-gcdc-force-modal")&&h()},p=function(e){if("object"!=typeof e)return b.Modules.Utilities.log(r.namespace,"verifyConfig","critical","Returned config was not valid"),!1;for(var t=0;t<b.Config.gates.requiredConfigAttributes.length;t++){var i=b.Config.gates.requiredConfigAttributes[t];if(void 0===e[i])return b.Modules.Utilities.log(r.namespace,"verifyConfig","critical","Required attribute",i,"was not found on the trigger element"),!1}return!0},f=function(e){var t;l||(e=void 0!==e&&e,r.wrapperElem.appendChild(r.contentElem),r.contentElem.innerHtml="",r.contentElem.className=b.Config.html.contentElementClass,r.contentElem.style.display="none",(t={}).messageType=e?"thankyouMessage":"returnMessage",t.message=r.getConfigAttribute(t.messageType),(t.gate=r).contentElem.appendChild(b.Modules.Template.render("contentIntro",t,r.getConfigAttribute("lang"))),b.Modules.Utilities.log(r.namespace,"renderContent","info","Content rendered"),r.eventManager.emit("contentRendered"),l=!0)},m=function(){r.form.hide(),r.wrapperElem.querySelector(".gcdc-loader")&&(r.wrapperElem.querySelector(".gcdc-loader").style.display="none"),r.contentElem.style.display="block",r.eventManager.emit("contentDisplayed")},h=function(){r.isModal=!0,b.Modules.UI.convertGateToModal(r);for(var e=b.Config.html.gateTriggerClassPrefix+r.id,t=document.querySelectorAll("*[href*="+e+"]"),i=0;i<t.length;i++)r.bindModalLink(t[i]);b.Modules.Utilities.log(r.namespace,"setupModal","info","Gate modal functionality added"),v(),b.Config.gates.allowOpenModalGatesOnHashChange&&(window.onhashchange=function(){v(!0)})};function v(e){window.location.hash&&window.location.hash.replace("#"+b.Config.html.gateTriggerClassPrefix,"")==r.id&&"pagelock"!==r.getConfigAttribute("gateType")&&(b.Modules.UI.openModal(r.wrapperElem),b.Modules.Utilities.log(r.namespace,"setupModal","info","Gate ID detected in hash, opening gate modal now"),e&&history.pushState("",document.title,window.location.pathname+window.location.search))}this.hasConfigAttribute=function(e){return void 0!==s[e]},this.getConfigAttribute=function(e){return"object"==typeof s[e]?function e(t){for(var i in t=b.Modules.Utilities.copy(t))t.hasOwnProperty(i)&&"object"!=typeof t[i]?t[i]=decodeURIComponent(t[i]):t.hasOwnProperty(i)&&"object"==typeof t[i]&&(t[i]=e(t[i]));return t}(s[e]):s[e]?decodeURIComponent(s[e]):""},this.setConfigAttribute=function(e,t){s[e]=t},this.build=function(){this.init&&(r.built?r.eventManager.reviewListeners(function(e){return-1!==u.indexOf(e)}):(r.built=!0,r.eventManager.reviewListeners(function(e){return u.push(e),!0})),g(),r.buildPending=!0,b.Modules.Gate.loadFormType(r,function(){b.Modules.Localise.loadLanguage(r,function(){r.buildPending&&(r.buildPending=!1,b.Config.plugins[r.getConfigAttribute("gateType")]&&b.Config.plugins[r.getConfigAttribute("gateType")].plugin&&"function"==typeof b.Plugins[b.Config.plugins[r.getConfigAttribute("gateType")].plugin].extendGate&&b.Plugins[b.Config.plugins[r.getConfigAttribute("gateType")].plugin].extendGate.call(r),b.Plugins.Redirect&&b.Config.plugins.redirect.allowGateTypeOverrides&&"true"===r.getConfigAttribute("redirectOverride")&&"redirect"!==r.getConfigAttribute("gateType")&&b.Plugins.Redirect.extendGate.call(r),r.forceModal&&h(),r.wrapperElem.classList.add(b.Config.html.gateElementClass+"-culture-"+r.getConfigAttribute("lang")),r.form=new b.Classes.Form(r),r.form.rendered?(r.eventManager.on("submitted",i,r.namespace),b.Modules.Utilities.log(r.namespace,"buildGate","info","New",r.getConfigAttribute("formType"),"gate built"),r.eventManager.emit("gateBuilt"),b.Modules.Utilities.log(r.namespace,"buildGate","info","Gate displaying now"),r.updateGateVisibility()):(b.Modules.Utilities.log(r.namespace,"buildGate","critical","There was a problem rendering the form, the gate has been adandoned"),d=!0))})}))},this.handleContentInteraction=function(e,t,i){(b.Config.gates.blindSubmitOnContentInteraction||r.forceBlindSubmitOnContentInteraction)&&r.form.blindSubmit(),dataObj={handler:e,action:t,data:i||{}},r.eventManager.emit("contentInteraction",dataObj)},this.handleFormInteraction=function(e,t){dataObj={action:e,data:t||{}},"submissionSucceed"===e||"submissionFailed"===e?setTimeout(function(){r.handleFormInteraction("fieldFocus")},150):"fieldFocus"===e?setTimeout(function(){r.handleFormInteraction("formViewed")},150):"formViewed"===e&&setTimeout(function(){r.handleFormInteraction("formLoaded")},150),r.eventManager.emit("formInteraction",dataObj)},this.gateOpen=function(){if(!r.form)return!1;if("true"===r.getConfigAttribute("gateAlwaysOpen"))return b.Modules.Utilities.log(r.namespace,"gateOpen","info","Gate is always open"),!0;if(r.form.progressive&&!r.form.isProgressionCleared()){if("true"===r.getConfigAttribute("gateOpenByIdSession")&&null!==b.Modules.Storage.readStorage("gateIdSession"+r.id))return b.Modules.Utilities.log(r.namespace,"gateOpen","info","Gate is open because it is progressive but the user has previously submitted the form which is set to remain open for the session"),!0}else{if("true"===r.getConfigAttribute("gateOpenByIdSession")&&null!==b.Modules.Storage.readStorage("gateIdSession"+r.id))return b.Modules.Utilities.log(r.namespace,"gateOpen","info","Gate is open because it was previously submitted"),!0;if("true"===r.getConfigAttribute("gateOpenById")&&null!==b.Modules.Storage.readStorage("gateId"+r.id))return b.Modules.Utilities.log(r.namespace,"gateOpen","info","Gate is open because it was previously submitted"),!0;if("true"===r.getConfigAttribute("gateOpenByGroup")&&""!==r.getConfigAttribute("gateGroup")&&null!==b.Modules.Storage.readStorage("gateGroup"+r.getConfigAttribute("gateGroup")))return b.Modules.Utilities.log(r.namespace,"gateOpen","info","Gate is open because another gate in the same group has previously been submitted"),!0;if("true"===r.getConfigAttribute("gateOpenByData")&&r.form.wouldSubmit())return b.Modules.Utilities.log(r.namespace,"gateOpen","info","Gate is open because all required fields are valid"),!0}return b.Modules.Utilities.log(r.namespace,"gateOpen","info","Gate is closed"),!1},this.updateGateVisibility=function(e,t){var i;n&&!t?"thankyou"===(i=r.wrapperElem.getAttribute("gcdc-state"))?(f(!0),m()):"open"===i?(f(!1),m()):(o(),r.form.show()):(e&&(t=e),d||(r.gateOpen()||t?(f(!1),m()):(o(),r.form.show()))),r.eventManager.emit("visibilityUpdated")},this.bindModalLink=function(e){e.setAttribute("gcdc-modal-linked","true");var t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),(e=t).addEventListener("click",function(e){e.preventDefault(),r.eventManager.emit("openGateModal"),r.preventModalOpeningOnce||b.Modules.UI.openModal(r.wrapperElem,!1,!0),r.preventModalOpeningOnce=!1})},this.displayContent=function(){m()},this.hideContent=function(){o()},this.openGate=function(){f(!0),r.updateGateVisibility(!0,!0)},r.eventManager=new b.Classes.EventManager(r),r.id=n?"PREVIEW"+b.Modules.Utilities.getRandomInt(1e7,99999999):r.wrapperElem.className.split(" ")[0].replace(b.Config.html.gateTriggerClassPrefix,""),n||r.id.match(/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/i)?n?setTimeout(function(){t(JSON.parse(e.getAttribute("gcdc-config")))},10):(a="",window.isGcdcPortal&&(a="?c="+b.Modules.Utilities.getRandomInt(111111,999999)),b.Modules.XHR.getJson("https://app.gatedcontent.com/gates/"+b.Config.account.id+"/"+r.id+a,function(e){e.Error?c("No configuration was found for gate id: "+r.id):t(e.Body)})):c("The gate id was not valid: "+r.id)}}(window[window.GatedContentObject]),function(M){M.Classes=M.Classes||{},M.Classes.MultiStep=function(l,d,u,e,t,c){function g(){w=[],d.eachField(function(e){e.hidden&&!e.onlyHiddenByTag("multiStep")||!e.config.inlineStep||-1!==w.indexOf(e.config.inlineStep)||w.push(e.config.inlineStep)}),w.sort(),w.length<y&&(C-=y-w.length),y=w.length}function i(e,t){var i=C+e;if(0<i&&i<=y&&(t||c(!0,!0)||e<0)){var n=w[(C=i)-1],t=(d.eachField(function(e){e.config.inlineStep&&e.config.inlineStep===n?e.show("multiStep"):e.config.inlineStep&&e.config.inlineStep!==n&&e.hide("multiStep")}),d.eachElem(function(e){e.config.inlineStep&&e.config.inlineStep===n?e.show("multiStep"):e.config.inlineStep&&e.config.inlineStep!==n&&e.hide("multiStep")}),u.emitData("currentStep",C+M.Config.gates.multiStepFormsDisplayExplodedTextOffset),l.handleFormInteraction("stepChanged"),C-1);if(t>d.highestCompletedStep&&(d.highestCompletedStep=t,u.emitData("highestCompletedStep",t+M.Config.gates.multiStepFormsDisplayExplodedTextOffset),l.handleFormInteraction("fieldFocus"),l.handleFormInteraction("stepCompleted")),g(),m.style.width=Math.ceil(C/y*100)+"%",f.innerHTML=M.Modules.Localise.translateString("multistepProgressMessage",l.getConfigAttribute("lang"),"Step {currentStep} of {totalSteps}").replace("{currentStep}",C).replace("{totalSteps}",y),p){for(var o=M.Modules.Localise.translateString("multistepExplodedProgressMessage",l.getConfigAttribute("lang"),'<span class="gcdc-hide-mobile">Step</span> {stepNum}'),a="",r=M.Config.gates.multiStepFormsDisplayExplodedTextOffset,s=1;s<=y+r;s++)a=(a+=s<C+r?"<span class='gcdc-step-completed'>":s===C+r?"<span class='gcdc-step-current'>":"<span class='gcdc-step-notcompleted'>")+o.replace("{stepNum}",s)+"</span>";p.innerHTML=a}1===y?(h&&h.classList.add("hidden"),v&&v.classList.add("hidden"),b&&b.classList.remove("hidden")):1===C?(h&&h.classList.add("hidden"),v&&v.classList.remove("hidden"),b&&b.classList.add("hidden")):C===y?(h&&h.classList.remove("hidden"),v&&v.classList.add("hidden"),b&&b.classList.remove("hidden")):(h&&h.classList.remove("hidden"),v&&v.classList.remove("hidden"),b&&b.classList.add("hidden"))}}var n,p,f,m,o,h,v,b,y,w,C,a;this.namespace="Classes.MultiStep",d.multiStep=!1,d.highestCompletedStep=0,C=0,a=!1,g(),e.classList.add("hidden"),o=M.Modules.Template.render("multiStepProgressText",l,l.getConfigAttribute("lang")),d.elem.insertBefore(o,t.header.nextSibling),n=M.Modules.Template.render("multiStepProgressBar",l,l.getConfigAttribute("lang")),d.elem.insertBefore(n,t.header.nextSibling),f=o.querySelector("p"),m=n.querySelector("div.gcdc-multistep-progress-bar"),M.Config.gates.multiStepFormsDisplayExplodedText&&(p=M.Modules.Template.render("multiStepProgressExplodedText",l,l.getConfigAttribute("lang")),d.elem.insertBefore(p,t.header.nextSibling)),o=M.Modules.Template.render("prevNext",l,l.getConfigAttribute("lang")),d.elem.insertBefore(o,e),h=o.querySelector("button.gcdc-form-button.gcdc-form-previous-button"),v=o.querySelector("button.gcdc-form-button.gcdc-form-next-button"),b=o.querySelector("input.gcdc-form-button"),h&&h.addEventListener("click",function(){return i(-1),!1}),v&&v.addEventListener("click",function(){return i(1),!1}),d.elem.addEventListener("keydown",function(e){13==e.keyCode&&C!==y&&(e.preventDefault(),v.click())}),i(1,!0),l.eventManager.on("formInteraction",function(e){"formViewed"!==e.action||a?"submissionSucceed"===e.action&&(u.emitData("highestCompletedStep",C+M.Config.gates.multiStepFormsDisplayExplodedTextOffset),l.handleFormInteraction("stepCompleted")):(a=!0,u.emitData("currentStep",C+M.Config.gates.multiStepFormsDisplayExplodedTextOffset),l.handleFormInteraction("stepChanged"))},d.namespace),M.Modules.Gate.eventManager.on("notMeTriggerComplete",function(){C=0,i(1,!(d.highestCompletedStep=0))},d.namespace)}}(window[window.GatedContentObject]),function(d){d.Classes=d.Classes||{},d.Classes.Progressive=function(n,o,e,a){var r="gateProgressionLastStep"+n.getConfigAttribute("formType"),s=0,l=!1;function t(){s=(parseInt(d.Modules.Storage.readStorage(r))||0)+1;for(var t=1;t<=a;){var i=!0;if(o.eachField(function(e){if(e.config.progressiveSteps&&("required"===e.config.progressiveSteps[t]||"visible"===e.config.progressiveSteps[t])&&(!e.hasValue()||!e.validate(!1,!0)))return"required"!==e.config.progressiveSteps[t]||e.hidden&&!e.hiddenByTag("progressive")?"visible"===e.config.progressiveSteps[t]&&s<t&&(!e.hidden||e.hiddenByTag("progressive"))?(o.thisProgressiveStep=t,d.Modules.Utilities.log(n.namespace,"progressify","info","Progressive profiling stopped once at step",o.thisProgressiveStep,"because an optional field was blank:",e.config.id),i=!1):void 0:(o.thisProgressiveStep=t,d.Modules.Utilities.log(n.namespace,"progressify","info","Progressive profiling stopped indefinitely at step",o.thisProgressiveStep,"because a required field was blank:",e.config.id),i=!1)}),!i)break;if(t==a){l=!0;break}t++}o.thisProgressiveStep=t,e.emitData("progressiveStep",o.thisProgressiveStep),l?(d.Modules.Utilities.log(n.namespace,"progressify","info","All progressive steps have been completed"),d.Config.gates.showProgressiveFieldsAfterProgressionComplete||o.eachField(function(e){e.config.progressiveSteps&&!d.Modules.Utilities.isEmpty(e.config.progressiveSteps)&&e.hide("progressive")})):(d.Modules.Utilities.log(n.namespace,"progressify","info","Updating form for progressive step",o.thisProgressiveStep,"of",a),o.eachField(function(e){e.config.progressiveSteps&&!d.Modules.Utilities.isEmpty(e.config.progressiveSteps)&&(e.config.progressiveSteps[o.thisProgressiveStep]?"visible"===e.config.progressiveSteps[o.thisProgressiveStep]?(e.show("progressive"),e.makeNotRequired()):"required"===e.config.progressiveSteps[o.thisProgressiveStep]?(e.show("progressive"),e.makeRequired()):e.hide("progressive"):e.hide("progressive"))}))}this.namespace="Classes.Progressive",o.progressive=!1,o.thisProgressiveStep=0,o.totalProgressiveSteps=a,this.resetProgression=function(){o.progressive&&(d.Modules.Storage.writeStorage(r,0,d.Config.gates.progressiveStatusRetention),l=!1,t())},n.form.isProgressionCleared=function(){return l||d.Modules.Storage.readStorage(r)==a?(d.Modules.Utilities.log(n.namespace,"gateOpen","info","Gate progression has been cleared"),!0):(d.Modules.Utilities.log(n.namespace,"gateOpen","info","Gate progression has not been cleared"),!1)},o.progressive=!0,t(),n.eventManager.on("postSubmission",function(){d.Modules.Storage.writeStorage(r,o.thisProgressiveStep,d.Config.gates.progressiveStatusRetention)}),n.eventManager.on("formDisplayed",t)}}(window[window.GatedContentObject]),function(x){x.Classes=x.Classes||{},x.Classes.TelephoneMask=function(p,e,f){var m=this,h="",v="",b="",y=p.injectFlag("tel"),w=!1,t="",C="",i=!1,n=(this.namespace="Classes.TelephoneMask("+p.config.id+")",function(){""===a()&&""!==p.inputElem.value&&(t=p.inputElem.value,p.inputElem.value="")}),o=function(){p.inputElem.value=p.inputElem.value.replace(/_/gi,"")},a=function(){var e=p.inputElem.value;return e=(e=e.replace(w,"")).replace(/[\s\(\)_+]*/gi,"")},r=function(){""===p.inputElem.value&&""!==t&&(p.inputElem.value=t)},M=function(e){p.inputElem.value=p.inputElem.value+e,b=e},s=function(e,t){var i=E();if(i>h.length&&(i=null),C!==p.inputElem.value){for(var n=p.inputElem.value,o=n.length-1,a=b.length-1;0<=o&&0<=a&&n.substr(o,1)===b.substr(a,1);o--,a--)n=n.substr(0,o);for(var r,s=(n=0!==(n=(n=p.inputElem.value.replace(b,"")).replace(/[^)\s0-9+]/gi,"").replace(/^00/i,"+")).indexOf("+")&&0<n.length&&w?w+n:n).split(""),l="";0<s.length;){var d=s.shift(),u=l+(d=" "===d?")":d),c=T(u);if(0<c.length){")"!==d&&(l=u);for(var d=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i].cc;-1===t.indexOf(n)&&t.push(n)}return 1===t.length&&t[0]}(c),g=(d?(y.up(d),x.Modules.Utilities.log(m.namespace,"TelephoneMaskInstance","info","A",d,"phone number was detected")):y.down(),I(l,c));g;g=I(l,c))l+=g,0}}!e&&i&&(i+=S()),h=l,p.inputElem.value=l,(c=c||f)[0]?(r=c[0].mask,v=r):v&&(r=v),r&&(r=_(r=r.substr(l.length,r.length)),M(r)),t||k(i),C=p.inputElem.value}else k(i)},k=function(e){var t=null;"end"===e&&0==l()&&(t=h.length),e&&e<h.length?t=e:(E()>h.length||"end"===e)&&(t=h.length),null!==(t=0===E()&&0==l()||0===t?1:t)&&i&&p.inputElem.setSelectionRange(t,t)},S=function(){for(var e=0,t=E(),i=p.inputElem.value.substr(t,1);i.match(/[^0-9+]/i)&&t<p.inputElem.value.length;)e++,i=p.inputElem.value.substr(++t,1);return e},E=function(){var e,t=0;return document.selection?(p.inputElem.focus(),(e=document.selection.createRange()).moveStart("character",-p.inputElem.value.length),t=e.text.length):!p.inputElem.selectionStart&&"0"!=p.inputElem.selectionStart||(t=p.inputElem.selectionStart),t},l=function(){var e,t,i,n,o=0,a=0;return"number"==typeof p.inputElem.selectionStart&&"number"==typeof p.inputElem.selectionEnd?(o=p.inputElem.selectionStart,a=p.inputElem.selectionEnd):(n=document.selection.createRange())&&n.parentElement()==p.inputElem&&(i=p.inputElem.value.length,e=p.inputElem.value.replace(/\r\n/g,"\n"),(t=p.inputElem.createTextRange()).moveToBookmark(n.getBookmark()),(n=p.inputElem.createTextRange()).collapse(!1),-1<t.compareEndPoints("StartToEnd",n)?o=a=i:(o=-t.moveStart("character",-i),o+=e.slice(0,o).split("\n").length-1,-1<t.compareEndPoints("EndToEnd",n)?a=i:(a=-t.moveEnd("character",-i),a+=e.slice(0,a).split("\n").length-1))),a-o},T=function(e){for(var t=[],i=!1,n=0,o=0;o<f.length;o++){var a=f[o],r=a.mask,s=r.substr(0,e.length),l=r.substr(e.length,r.length),d=(d=(d=(d=(d=s).replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")).replace(/-/g,"s")).replace(/#/g,"[0-9]"),new RegExp(d)),u=new RegExp("^[0-9]"),c=new RegExp("[0-9]$"),g=new RegExp("[0-9]");if(e.match(d)){for(var p=r.length;-1<p&&!r.charAt(p).match(g);p--);(s.match(c)&&!l.match(u)&&!i||p<=e.length&&n<p)&&(n=p,i=!0,t=[]),t.push(a)}}return t.length<f.length&&t[0]==f[0]&&t.shift(),t};function I(e,t){for(var i=[],n=0;n<t.length;n++){var o=t[n].mask.substr(e.length,1);-1===i.indexOf(o)&&i.push(o)}if(1===i.length){var a=i[0];if("-"===a)return" ";if(a.match(/[\+\(\)]/))return a}return!1}function _(e){return e=(e=(e=e.replace(/#/g,"_")).replace(/[0-9]/g,"_")).replace(/-/g," ")}this.updateForCountry=function(e){if(""===p.inputElem.value||""===a()){for(var t="",i=0;i<f.length;i++){var n=f[i];if(n.cc===e){t=(t=(t=n.mask).replace(/-.*$/gi,"")).replace(/\(.*$/gi,"");break}}p.inputElem.value=t,w=t,s(!1,!0)}},p.inputElem.classList.add("tel-mask"),x.Modules.UI.addCaughtEventListener(p.inputElem,"focus",function(e){i=!0,s(),k("end")}),x.Modules.UI.addCaughtEventListener(p.inputElem,"keypress",function(e){}),x.Modules.UI.addCaughtEventListener(p.inputElem,"keyup",function(e){8==(e.keyCode||e.charCode)?s(!0):s()}),x.Modules.UI.addCaughtEventListener(p.inputElem,"change",function(e){s()}),x.Modules.UI.addCaughtEventListener(p.inputElem,"blur",function(e){i=!1,p.inputElem.value===_(f[0].mask)&&(p.inputElem.value="",y.down())}),x.Modules.UI.addCaughtEventListener(p.inputElem,"click",function(e){k()}),e.eventManager.on("validate",n,m.namespace),e.eventManager.on("submission",function(){n(),o()},m.namespace),e.eventManager.on("validationFailed",r,m.namespace),x.Modules.UI.simulateEvent(p.inputElem,"change"),x.Modules.UI.simulateEvent(p.inputElem,"blur"),x.Modules.Utilities.log(m.namespace,"setup","info","New phone mask created")}}(window[window.GatedContentObject]),function(h){h.Classes=h.Classes||{},h.Classes.TelephoneMultiMask=function(n,t,r,e){var o,a,i,s=this,l=n.injectFlag("tel"),d=t.form,u=(this.namespace="Classes.TelephoneMultiMask("+n.config.id+")",function(){n.getValue()&&""!==n.getValue()?n.elem.classList.add("gcdc-form-group-hasvalue"):n.elem.classList.remove("gcdc-form-group-hasvalue")}),c=function(e){"from"===e?(a.value=n.inputElem.value.replace(o.value,""),e=g(n.inputElem.value),l.down(),e&&(l.up(e.cc),o.value=e.prefix,a.value=a.value.replace(e.prefix,""),h.Modules.Utilities.log(s.namespace,"update","info","A",e.cc,"phone number was detected"))):(a.value=p(a.value),n.inputElem.value=n.config.required||0!==a.value.length?o.value+a.value:"",c("from"))},g=function(e){for(var t,i=e.replace(/[\-#\(\)\s]*/gi,""),n=0;n<r.length;n++){var o=r[n],a=o.mask.replace(/[\-#\(\)]*/gi,"");a&&"+"!==a&&-1!==i.indexOf(a)&&a.length>g.length&&(t=o)}if(t){e=t.mask.match(/(\+[0-9]+)/gi);if(e&&0<e.length)return{prefix:e,cc:t.cc}}},p=function(e){return e=(e=e.replace(new RegExp("[^"+h.Config.formats.phoneAllowedCharacters+"]","gi"),"")).replace(new RegExp("^0","i"),"")};for(m in this.updateForCountry=function(e){if(""===a.value||""===o.value){for(var t=0;t<r.length;t++){var i=r[t];if(i.cc===e){i=i.mask.match(/(\+[0-9]+)/gi);i&&0<i.length&&(o.value=i[0]);break}}h.Modules.UI.simulateEvent(o,"change"),""===a.value&&n.forceValidState()}},o=n.elem.querySelector(".gcdc-phonemulti-code"),a=n.elem.querySelector(".gcdc-phonemulti-main"),(f=document.createElement("option")).text="",f.value="",o.add(f),e){var f,m=e[m];(f=document.createElement("option")).text=m,f.value=m,o.add(f)}h.Modules.UI.addCaughtEventListener(n.inputElem,"change",function(e){c("from")}),h.Modules.UI.addCaughtEventListener(o,"change",function(e){c("to")}),h.Modules.UI.addCaughtEventListener(a,"keyup",function(e){c("to")}),h.Modules.UI.addCaughtEventListener(a,"change",function(e){c("to"),i&&(d.recordLastInteractedField(n),t.handleFormInteraction("fieldChange")),u(),h.Config.advancedSettings.liveValidateForms&&n.validate(!1)}),h.Modules.UI.addCaughtEventListener(a,"focus",function(e){d.recordLastInteractedField(n),t.handleFormInteraction("fieldFocus"),n.elem.classList.add("gcdc-form-group-active"),i=!0},!0),h.Modules.UI.addCaughtEventListener(a,"blur",function(e){n.elem.classList.remove("gcdc-form-group-active"),u(),h.Config.advancedSettings.liveValidateForms&&n.validate(!1)},!0),h.Modules.UI.simulateEvent(n.inputElem,"change"),h.Modules.Utilities.log(s.namespace,"setup","info","New phone multi-part mask created")}}(window[window.GatedContentObject]),function(m){m.Classes=m.Classes||{},m.Classes.Tracker=function(r){function e(){s.namespace+="("+r.id+")",a={app:m,trimAndHyphenate:m.Modules.Utilities.trimAndHyphenate,getLastEventExtraData:function(){return g},getValue:function(e){var e=e.split("."),t={};return t.type=e[0],t.value=e[1],"string"===t.type?t.value:"gateAttribute"===t.type?"gateId"===t.value?r.id:r.getConfigAttribute(t.value):"formAttribute"===t.type?m.Modules.DataSources.useDataSourceImmediate("form"+r.id,t.value):"fieldValue"===t.type?(e=r.form.getFieldById(t.value))?e.getValue():"":m.Modules.DataSources.useDataSourceImmediate(t.type,t.value,"true"===r.getConfigAttribute("kioskMode"))}},r.eventManager.on("formInteraction",function(e){t("form",e)},s.namespace),r.eventManager.on("contentInteraction",function(e){t(e.handler,e)},s.namespace),m.Modules.Utilities.log(s.namespace,"setup","info","New form tracker created")}function t(e,t){var i,n,o=t.action,a=m.Config.tracking.triggers[e][o];a?(i=[],n=[],"form"===e?(i=l,n=u):(i=d,n=c,a.gcdcReportingName="consumption",a.gcdcReportingActive=!0,a.gcdcReportingAllowMultiple=!1),window.isGcdcPortal?m.Modules.Utilities.log(s.namespace,"formInteraction","warning","Tracking does not operate in GCDC portal. Tracked event was:",a.gcdcReportingName):m.Modules.Utilities.checkPrivacySettings(2)?(a.gcdcReportingActive&&(a.gcdcReportingAllowMultiple||-1===n.indexOf(a.gcdcReportingName))&&(n.push(a.gcdcReportingName),f(r,a.gcdcReportingName)),!a.allowMultiple&&-1!==i.indexOf(o)||(i.push(o),p(e,o,t.data))):m.Modules.Utilities.log(s.namespace,"formInteraction","error","Tracking not active because of user's privacy settings. Tracked event was:",a.gcdcReportingName)):m.Modules.Utilities.log(s.namespace,"formInteraction","critical","No trigger config found for",o)}var s=this,l=[],d=[],u=[],c=[],a={},g={},p=(this.namespace="Classes.Tracker",function(t,i,e){if(m.Config.tracking.events[t]&&m.Config.tracking.events[t][i])try{var n=m.Config.tracking.events[t][i],o=new Function("gcdc",n);g=e,o(a),m.Modules.Utilities.log(s.namespace,"track","info","Event fired and tracked:",i)}catch(e){m.Modules.Utilities.log(s.namespace,"track","error","Event fired but could not be tracked because:",e.message),window.console&&window.console.error&&console.error("A custom event defined in GatedContent.com for the event "+t+":"+i+' could not be fired because: "'+e.message+'". If you are an account administrator, please correct this.')}else m.Modules.Utilities.log(s.namespace,"track","info","Event fired but no tracking code was found:",i)}),f=function(e,t){var i,n=m.Config.gates.formTypes[e.getConfigAttribute("formType")],o=(i={all:[],required:[],prepopped:[]},e.form.eachField(function(e){e.hidden&&!e.onlyHiddenByTag("multiStep")||"hidden"===e.config.type||(i.all.push(e.config.name),e.config.required&&i.required.push(e.config.name),e.prePopped&&i.prepopped.push(e.config.name))}),i),n={account_id:m.Config.account.id,event:t,datetime:m.Modules.Utilities.getLocalDatetime(),timestamp:m.Modules.Utilities.getLocalDatetime(),page_url:m.Modules.Utilities.getPageUrl(),pageload_id:m.Modules.DataSources.useDataSourceImmediate("session","pageloadID"),user_id:m.Modules.DataSources.useDataSourceImmediate("session","userID"),user_country:m.Modules.DataSources.useDataSourceImmediate("browser","country"),user_city:m.Modules.DataSources.useDataSourceImmediate("browser","city"),user_job_title:e.form.getFieldValueById(m.Config.defaultFields.jobTitleField),user_job_role:e.form.getFieldValueById(m.Config.defaultFields.jobRoleField),user_industry:e.form.getFieldValueById(m.Config.defaultFields.industryField),user_number_of_visits:m.Modules.DataSources.useDataSourceImmediate("session","visitNumber"),user_time_on_page:m.Modules.DataSources.useDataSourceImmediate("session","timeOnPage"),browser_user_agent:m.Modules.DataSources.useDataSourceImmediate("browser","useragent"),browser_device:m.Modules.DataSources.useDataSourceImmediate("browser","device"),session_id:m.Modules.DataSources.useDataSourceImmediate("session","sessionID"),session_start_timestamp:m.Modules.DataSources.useDataSourceImmediate("session","sessionStartTimestamp"),session_utm_campaign:m.Modules.DataSources.useDataSourceImmediate("session","utmCampaign")||e.getConfigAttribute("defaultUTMCampaign")||"",session_utm_medium:m.Modules.DataSources.useDataSourceImmediate("session","utmMedium"),session_utm_term:m.Modules.DataSources.useDataSourceImmediate("session","utmTerm"),session_utm_content:m.Modules.DataSources.useDataSourceImmediate("session","utmContent"),session_utm_source:m.Modules.DataSources.useDataSourceImmediate("session","utmSource"),session_referer:m.Modules.DataSources.useDataSourceImmediate("browser","referrer"),session_entry_url:m.Modules.DataSources.useDataSourceImmediate("session","entryUrl"),session_pageviews:m.Modules.DataSources.useDataSourceImmediate("session","pageviews"),gate_id:e.id,gate_type:e.getConfigAttribute("gateType"),gate_lang:e.getConfigAttribute("lang"),gate_asset_url:e.getConfigAttribute("downloadUrl"),form_behaviour:n.behaviour,form_field_name:"fieldChanged"===t?e.form.lastInteractedField.config.name:"",form_type:e.getConfigAttribute("formType"),form_display_type:e.isModal?"modal":"inline",form_progressive_current_step:e.form.progressive?e.form.thisProgressiveStep:"",form_total_steps:e.form.progressive?e.form.totalProgressiveSteps:"",form_prepopped:e.form.prePopped,form_num_of_fields_displayed:o.all.length,form_num_of_mandatory_fields_displayed:o.required.length,form_num_fields_prepopped:o.prepopped.length,form_perc_fields_prepopped:o.prepopped.length/o.all.length,form_fields_prepopped:o.prepopped.join("|"),form_fields_shown:o.all.join("|"),form_mandatory_fields_shown:o.required.join("|"),form_opt_in_shown:-1<o.all.indexOf(m.Config.defaultFields.optinField),form_user_opted_in:""!==e.form.getFieldValueById(m.Config.defaultFields.optinField),form_data_enriched:e.form.enriched};m.Modules.XHR.post("https://insights.gatedcontent.com/log_entry",n,function(e){})};r.eventManager.on("gateBuilt",function(){e()},s.namespace)}}(window[window.GatedContentObject]),function(t){var e;t.Modules=t.Modules||{},t.Modules.API={init:function(){t.Core.eventManager.on("setup",function(){t.Core.eventManager.on("postSetup",function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("gcdcSetupComplete",!0,!1,t),window.dispatchEvent(e)}),t.Modules.UI.eventManager.on("modalOpened",function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("gcdcModalOpened",!0,!1,t),window.dispatchEvent(e)}),t.Modules.UI.eventManager.on("modalClosed",function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("gcdcModalClosed",!0,!1,t),window.dispatchEvent(e)}),t.Modules.Gate.eventManager.on("newGateBuilt",function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("gcdcGateReady",!0,!1,t),window.dispatchEvent(e),t.eventManager.on("submission",function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("gcdcGateSubmit",!0,!1,t),window.dispatchEvent(e)}),t.eventManager.on("submitted",function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("gcdcGateSubmitted",!0,!1,t),window.dispatchEvent(e)}),t.eventManager.on("blindSubmission",function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("gcdcGateBlindSubmit",!0,!1,t),window.dispatchEvent(e)}),t.eventManager.on("blindSubmitted",function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("gcdcGateBlindSubmitted",!0,!1,t),window.dispatchEvent(e)})})},e),t.Modules.Utilities.log(e,"init","init","Module initialised")},namespace:e="Modules.API"}}(window[window.GatedContentObject]),function(n){function e(){var e,t;a.storeEmitData("pageurl",[location.protocol,"//",location.host,location.pathname].join("")),a.storeEmitData("pageurlFull",[location.protocol,"//",location.host,location.pathname,location.search].join("")),a.storeEmitData("pageloadDatetimeISO",n.Modules.Utilities.getLocalDatetime()),a.storeEmitData("pageloadDatetimeUS",n.Modules.Utilities.getLocalDatetime("US")),a.storeEmitData("dayofweek",(t=new Array("Sun","Mon","Tue","Wed","Thu","Fri","Sat"),e=(new Date).getDay(),t[e])),a.storeEmitData("userLanguage",navigator.userLanguage||navigator.language),null===a.readData("useragent")?(t=i(),a.storeEmitData("useragent",navigator.userAgent),a.storeEmitData("device",t.mobile?"Mobile":"Desktop"),t.mobile?(a.storeEmitData("operatingSystem",t.os+" "+t.osVersion+" (Mobile)"),a.storeEmitData("browser",t.browser+" "+t.browserVersion+" (Mobile)")):(a.storeEmitData("operatingSystem",t.os+" "+t.osVersion),a.storeEmitData("browser",t.browser+" "+t.browserVersion))):(a.readEmitData("useragent"),a.readEmitData("device"),a.readEmitData("operatingSystem"),a.readEmitData("browser")),a.emitData("referrer",o()),a.emitData("parentReferrer",function(){var t=!1;try{t=window.self!==window.top}catch(e){t=!0}return t?document.referrer:""}()),null===a.readData("ip")?(n.Modules.Gate.eventManager.block("buildGate","geoInfoLookup",r),n.Modules.XHR.post("https://app.gatedcontent.com/tools/geoip",{},function(e){try{"success"===e.status&&(a.storeEmitData("ip",e.query),a.storeEmitData("city",e.city),a.storeEmitData("country",e.countryCode),a.storeEmitData("loc",e.lat+","+e.lon))}catch(e){}n.Modules.Gate.eventManager.release("buildGate","geoInfoLookup",r)},function(){n.Modules.Gate.eventManager.release("buildGate","geoInfoLookup",r)})):(a.readEmitData("ip"),a.readEmitData("city"),a.readEmitData("country"),a.readEmitData("loc"))}function i(){var e,t,i="Unknown",n="",o=(screen.width&&(width=screen.width||"",height=screen.height||"",n+=width+" x "+height),navigator.appVersion),a=navigator.userAgent,r=navigator.appName,s=""+parseFloat(navigator.appVersion),l=(parseInt(navigator.appVersion,10),-1!=(e=a.indexOf("Opera"))?(r="Opera",s=a.substring(e+6),-1!=(e=a.indexOf("Version"))&&(s=a.substring(e+8))):-1!=(e=a.indexOf("MSIE"))?(r="Microsoft Internet Explorer",s=a.substring(e+5)):"Netscape"==r&&-1!=a.indexOf("Trident/")?(r="Microsoft Internet Explorer",s=a.substring(e+5),-1!=(e=a.indexOf("rv:"))&&(s=a.substring(e+3))):-1!=(e=a.indexOf("Edge"))?(r="Microsoft Edge",s=a.substring(e+5)):-1!=(e=a.indexOf("Chrome"))?(r="Chrome",s=a.substring(e+7)):-1!=(e=a.indexOf("Safari"))?(r="Safari",s=a.substring(e+7),-1!=(e=a.indexOf("Version"))&&(s=a.substring(e+8)),-1!=a.indexOf("CriOS")&&(r="Chrome")):-1!=(e=a.indexOf("Firefox"))?(r="Firefox",s=a.substring(e+8)):(l=a.lastIndexOf(" ")+1)<(e=a.lastIndexOf("/"))&&(r=a.substring(l,e),s=a.substring(e+1),r.toLowerCase()==r.toUpperCase()&&(r=navigator.appName)),-1!=(l=(s=-1!=(l=(s=-1!=(l=s.indexOf(";"))?s.substring(0,l):s).indexOf(" "))?s.substring(0,l):s).indexOf(")"))&&(s=s.substring(0,l)),e=parseInt(""+s,10),isNaN(e)&&(s=""+parseFloat(navigator.appVersion),parseInt(navigator.appVersion,10)),/Mobi|mini|Fennec|Android|iP(ad|od|hone)/.test(o)),d=(void 0!==navigator.cookieEnabled||cookieEnabled||(document.cookie="testcookie",cookieEnabled=-1!=document.cookie.indexOf("testcookie")),i),u=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 10",r:/(Windows 10|Windows NT 10.0)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(t in u){var c=u[t];if(c.r.test(a)){d=c.s;break}}var g=i;switch(/Windows/.test(d)&&(g=/Windows (.*)/.exec(d)[1],d="Windows"),d){case"Mac OS X":g=/Mac OS X (\d\d[\.\_\d]+)/.exec(a)[1];break;case"Android":g=/Android ([\.\_\d]+)/.exec(a)[1];break;case"iOS":g=(g=/OS (\d+)_(\d+)_?(\d+)?/.exec(o))[1]+"."+g[2]+"."+(0|g[3])}return{screen:n,browser:r,browserVersion:s,mobile:l,os:d,osVersion:g}}function o(e){var t=/\/\/([a-z0-9-\.]*)\//i,i=window.location.href.match(t),t=document.referrer.match(t);return t&&i&&1<t.length&&1<i.length?(t=t[1],i=i[1],(""===n.Config.advancedSettings.rootDomain||!t.match(n.Config.advancedSettings.rootDomain))&&t!==i?e?t:document.referrer:""):""}function t(e){return"guid"===e&&n.Modules.Utilities.generateUuid()}var a,r;n.Modules=n.Modules||{},n.Modules.Browser={init:function(){a=n.Modules.DataSources.registerDataSource("browser",t),n.Core.eventManager.on("setup",function(){e()},r),n.Modules.Utilities.log(r,"init","init","Module initialised")},namespace:r="Modules.Browser",getDeviceInfo:i,getReferer:o}}(window[window.GatedContentObject]),function(o){var a,r,s;o.Modules=o.Modules||{},o.Modules.DataSources=(r={},s=[],{init:function(){o.Modules.Utilities.log(a,"init","init","Module initialised")},namespace:a="Modules.DataSources",registerDataSource:function(e,t,i,n){if("string"==typeof e)return r[e]||(r[e]=new o.Classes.DataSourceManager(e,t,n),i&&s.push(e)),r[e]},useDataSource:function(e,t,i,n){"object"==typeof r[e]&&"function"==typeof i?n&&-1!==s.indexOf(e)?(o.Modules.Utilities.log(a,"useDataSource","warning","Data was requested from",e,"but the requester cannot use personal data and the source supplies personal data. Request blocked."),i("")):r[e].registerDependent(t,i):o.Modules.Utilities.log(a,"useDataSource","error","Could not use data source on",e,"- either the namespace is not registered, or the consuming handler is not valid")},useDataSourceImmediate:function(e,t,i){return"object"==typeof r[e]?i&&-1!==s.indexOf(e)?(o.Modules.Utilities.log(a,"useDataSourceImmediate","warning","Data was requested from",e,"but the requester cannot use personal data and the source supplies personal data. Request blocked."),""):r[e].getDataImmediate(t):(o.Modules.Utilities.log(a,"useDataSourceImmediate","error","Could not use data source on",e,"- either the namespace is not registered, or the consuming handler is not valid"),"")}})}(window[window.GatedContentObject]),function(m){function e(){var e=document.querySelectorAll('*[href^="#'+m.Config.html.gateTriggerClassPrefix+'"]:not([gcdc-modal-linked="true"])');if(0<e.length){for(var t=new RegExp("#"+m.Config.html.gateTriggerClassPrefix+"([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})","i"),i=0;i<e.length;i++){var n=e[i],o=n.href||n.getAttribute("href");!o||(o=o.match(t))&&o[1]&&(gateId=o[1],0===document.querySelectorAll("div.gcdc-modal-dialog."+m.Config.html.gateTriggerClassPrefix+gateId).length&&0===document.querySelectorAll("div."+m.Config.html.gateTriggerClassPrefix+gateId+"[data-gcdc-force-modal='true']").length?v(gateId):(o=function(t){var i=!1;return h(function(e){e.id===t&&(i=e)}),i}(gateId))&&o.bindModalLink(n))}m.Modules.Utilities.log(y,"handleWidowedModalLinks","info",e.length,"widowed modal links were found and their gates were injected")}var a=document.querySelectorAll('img[src^="'+m.Config.html.gateImageEmbedURL+ +m.Config.account.id+".gif#"+m.Config.html.gateTriggerClassPrefix+'"]');if(0<a.length){for(var r=new RegExp("#"+m.Config.html.gateTriggerClassPrefix+"([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})","i"),s=0;s<a.length;s++){var l=a[s],d=l.src.match(r);!d||!d[1]||l.getAttribute("data-gcdc-portal-norender")&&window.isGcdcPortal||v(gateId=d[1],l)}m.Modules.Utilities.log(y,"handleImageEmbeds","info",a.length,"image embeds were found and their gates were injected")}for(var u=document.querySelectorAll("div[class^="+m.Config.html.gateTriggerClassPrefix+"]"),c=0,g=0;g<u.length;g++){var p,f=u.item(g).getAttribute("gcdc-processed");null!==f&&f===m.Config.initTimestamp||(u.item(g).setAttribute("gcdc-processed",m.Config.initTimestamp),c++,p=new m.Classes.Gate(u.item(g)),m.GateInstances.push(p),null!==f&&f!==m.Config.initTimestamp&&m.Modules.Utilities.log(y,"loadGates","info","Legacy timestamp on gate ["+p.id+"] - rebuilding."),function(e){e.eventManager.on("gateBuilt",function(){m.Modules.Gate.eventManager.emit("newGateBuilt",e)},y),e.eventManager.on("submitted",b,y),e.eventManager.on("gateInit",function(){m.Modules.Gate.eventManager.emit("newGateInit",e),m.Modules.Gate.eventManager.defer("buildGate",function(){e.build()},m.Config.gates.deferredBuildTimeout,y)},y)}(p))}0===c&&m.Modules.Utilities.log(y,"loadGates","info","No new gate triggers were found in the page. Processing stopped")}function n(e){s[e]&&0<s[e].length&&(s[e].forEach(function(e){"function"==typeof e&&e()}),s[e]=[])}function t(){for(var e=document.querySelectorAll("div[class^=gatepreview]"),t=0;t<e.length;t++){var i=new m.Classes.Gate(e.item(t),!0);m.GatePreviewInstances.push(i),!function(e){e.eventManager.on("gateBuilt",function(){m.Modules.Gate.eventManager.emit("newGateBuilt",e)},y),e.eventManager.on("submitted",b,y),e.eventManager.on("gateInit",function(){m.Modules.Gate.eventManager.emit("newGateInit",e),m.Modules.Gate.eventManager.defer("buildGate",function(){e.build()},m.Config.gates.deferredBuildTimeout,y)},y)}(i)}}function h(e){for(var t=0;t<m.GateInstances.length;t++)e(m.GateInstances[t])}function v(e,t){var i=document.createElement("div");i.className=m.Config.html.gateTriggerClassPrefix+e,t?(t.parentNode.insertBefore(i,t.nextSibling),t.remove()):(i.setAttribute("data-gcdc-force-modal","true"),i.setAttribute("data-gcdc-injected-gate","true"),document.body.appendChild(i))}function b(e){m.Modules.Gate.eventManager.emit("formSubmittedTrigger",e)}function i(){var e,t,i;m.Config.advancedSettings.detectPrivacyBlocking&&(e="img",-1!==m.Config.advancedSettings.detectPrivacyBlockingURL.indexOf(".js")&&(e="script"),(e=document.createElement(e)).id=t="gcdc_adBlockCC",e.style.display="none",e.src=m.Config.advancedSettings.detectPrivacyBlockingURL,document.getElementById(t)||(document.body.appendChild(e),e.onload=function(e){window.clearTimeout(i),m.Modules.Utilities.log(y,"detectPrivacyBlocking","info","privacyBlocking content load test passed : "+e.target.src)},i=window.setTimeout(function(){m.Modules.Utilities.log(y,"detectPrivacyBlocking","warning","privacyBlocking content load test failed"),a=!0,m.Modules.Gate.eventManager.emit("privacyBlockingDetected",!1)},5e3)))}function o(t){var e=m.Modules.Utilities.getComponentUrl("form_types","ALL");m.Modules.XHR.getJson(e,function(e){m.Config.gates.formTypes=e.Body,d=!0,t()},function(){console.log("CRITICAL ERROR: FAILED TO LOAD FORM TYPES")})}var y,a,r,s,l,d;m.Modules=m.Modules||{},m.Modules.Gate=(a=!(y="Modules.Gate"),r=[],d=l=!(s=[]),m.GateInstances=m.GateInstances||[],m.GatePreviewInstances=m.GatePreviewInstances||[],{init:function(){m.Modules.Gate.eventManager=new m.Classes.EventManager(m.Modules.Gate),m.Core.registerPlugin("loadGates",e),m.Core.registerPlugin("refreshPreviewGates",t),window.isGcdcPortal&&m.Core.eventManager.on("setup",function(){for(var e in m.Config.gates.formTypes)m.Modules.Gate.eventManager.emit("formTypeLoaded",e)},y),i(),m.Modules.Utilities.log(y,"init","init","Module initialised")},namespace:y,preInit:function(e){l=!0,window.isGcdcPortal?function e(t){m.Modules.Preview.eventManager?m.Modules.Preview.preInitComplete()?o(t):m.Modules.Preview.eventManager.on("previewChecksFinished",function(){o(t)}):setTimeout(function(){e(t)},50)}(e):(d=!0,e())},preInitRunning:function(){return l},preInitComplete:function(){return d},eachGate:h,updateAllGateVisibility:function(t){h(function(e){t!==e&&"object"==typeof e.form&&e.updateGateVisibility()})},buildAllGates:function(){h(function(e){e.build()})},loadFormType:function(e,t){let i=e.getConfigAttribute("formType");i&&(m.Config.gates.formTypes[i]||-1<r.indexOf(i)?"function"==typeof t&&t():s[i]?"function"==typeof t&&s[i].push(t):(s[i]=[],"function"==typeof t&&s[i].push(t),e=m.Modules.Utilities.getComponentUrl("form_types",i),m.Modules.XHR.getJson(e,function(e){m.Config.gates.formTypes[i]=e.Body[i],m.Modules.Gate.eventManager.emit("formTypeLoaded",i),m.Modules.Utilities.log(y,"loadFormType","info","Successfully loaded form type: "+i),n(i)},function(){r.push(i),m.Modules.Utilities.log(y,"loadFormType","error","Successfully loaded form type: "+i),n(i)})))},injectGateDiv:v,notMeTrigger:function(e){m.Modules.Storage.clearStorageByPrefix(m.Config.storage.userFieldDataPrefix),m.Modules.Gate.eventManager.emit("notMeTrigger",e),m.Modules.Gate.eventManager.emit("notMeTriggerComplete",e)},safeMode:function(){var e="You are using an outdated browser. For security reasons, we cannot display this content. Please upgrade or switch your browser.",t=document.querySelectorAll("div[class^="+m.Config.html.gateTriggerClassPrefix+"]");if(t)for(var i=0;i<t.length;i++)t[i].innerHTML='<div style="margin: 15px 0; padding: 20px; border: 1px solid #faeacd; background: #fcf8e4;"><p style="text-align: center; margin: 0; padding: 0;">'+e+"</p></div>";var n=document.querySelectorAll('*[href^="#'+m.Config.html.gateTriggerClassPrefix+'"]');if(n)for(var o=0;o<n.length;o++){var a=n[o];a.addEventListener?a.addEventListener("click",function(){alert(e)},!1):a.attachEvent("click",function(){alert(e)})}},refreshAllGates:function(e){m.Modules.Gate.eventManager.emit("formRefreshTrigger")},isPrivacyBlockingDetected:function(){return a}})}(window[window.GatedContentObject]),function(d){function n(e){f[e]&&0<f[e].length&&(f[e].forEach(function(e){"function"==typeof e&&e()}),f[e]=[])}function u(t,e){-1===f.indexOf(t)&&(d.Modules.Utilities.log(c,"registerMissingTranslation","warning","Notifying server about missing translation: ",t),f.push(t),d.Modules.XHR.post("https://app.gatedcontent.com/localise/"+d.Config.account.id+"/register/"+t,{value:e},function(e){d.Modules.Utilities.log(c,"registerMissingTranslation","info","Server acknowledged localisation request for",t)}))}var c,g,o,p,f;d.Modules=d.Modules||{},d.Modules.Localise=(g={},p=!(o=[]),f=[],{init:function(){d.Modules.Utilities.log(c,"init","init","Module initialised")},namespace:c="Modules.Localise",loadLanguage:function(e,t){let i=e.getConfigAttribute("lang");g[i]||-1<o.indexOf(i)?"function"==typeof t&&t():f[i]?"function"==typeof t&&f[i].push(t):(f[i]=[],"function"==typeof t&&f[i].push(t),e=d.Modules.Utilities.getComponentUrl("translations",i),d.Modules.XHR.getJson(e,function(e){for(var t in e.Body.defaults&&!p&&(p=e.Body.defaults),e.Body)!e.Body.hasOwnProperty(t)||2!==t.length&&5!==t.length&&7!==t.length||(g[t]=e.Body[t]);d.Modules.Utilities.log(c,"loadLanguage","info","Successfully loaded language: "+i),n(i)},function(){o.push(i),d.Modules.Utilities.log(c,"loadLanguage","error","Failed to load language: "+i),n(i)}))},translateString:function(e,t,i,n,o){var a,r,s,l=!1;return-1<t.indexOf("-")&&(l=t.substring(0,2)),window.isGcdcPortal&&void 0===p[e]?o||u(e,i):window.isGcdcPortal&&p[e]&&""!==i&&p[e]!==d.Vendor.xss(i)&&(r=i,s=p[a=e],-1===f.indexOf(a)&&(d.Modules.Utilities.log(c,"updateDefaultTranslation","info","Notifying server about default update request for",a,"from:",s,"to:",r),f.push(a),o={value:r},d.Modules.XHR.post("https://app.gatedcontent.com/updatedefaultstring/"+d.Config.account.id+"/"+a,o,function(e){d.Modules.Utilities.log(c,"updateDefaultTranslation","info","Server acknowledged default update request for",a,"from:",s,"to:",r)}))),g[t]&&g[t][e]?(d.Modules.Utilities.log(c,"translateString","info","Translation found in",t,"for",e),g[t][e]):l&&!n&&g[l]&&g[l][e]?(d.Modules.Utilities.log(c,"translateString","info","Translation found in",l,"for",e),g[l][e]):i?(d.Modules.Utilities.log(c,"translateString","warning","No translation found in",t,"for",e,"using default value"),i):(d.Modules.Utilities.log(c,"translateString","warning","No translation found in",t,"for",e,"using blank value"),"")},hasTranslatedString:function(e,t,i,n){var o=!1,a=(-1<t.indexOf("-")&&(o=t.substring(0,2)),!1);return(g[t]&&g[t][e]||o&&!n&&g[o]&&g[o][e])&&(a=!0),window.isGcdcPortal&&void 0===p[e]&&u(e,i),a}})}(window[window.GatedContentObject]),function(d){function u(t){t.form.eachField(function(e){e.mask=new d.Classes.TelephoneMultiMask(e,t,g,p)},"phonemulti"),t.form.eachField(function(e){e.mask=new d.Classes.TelephoneMask(e,t,g)},"phone"),t.form.eachField(function(e){e.mask=new d.Classes.CountryMask(e,t,f)},"country")}var c,g,p,f;d.Modules=d.Modules||{},d.Modules.Mask=(g=[],p=[],f=[],{init:function(){for(var e=0;e<d.Resources.Countries.length;e++)for(var t=d.Resources.Countries[e],i=t.code,n=0;n<t.phoneFormats.length;n++){var o=t.phoneFormats[n],o=(g.push({cc:i,mask:o}),o.match(/(\+[0-9]+)/gi));o&&0<o.length&&-1===p.indexOf(o[0])&&p.push(o[0])}g.push({cc:"",mask:d.Config.formats.phoneDefaultMask}),p.sort(),g.sort(function(e,t){var i=String.prototype.indexOf.call(e.mask,"#"),n=String.prototype.indexOf.call(t.mask,"#");return i===n&&(e=String.prototype.indexOf.call(e.mask,")"),t=String.prototype.indexOf.call(t.mask,")"),e&&t&&(i=e,n=t)),i-n});{(f=d.Resources.Countries).sort(function(e,t){return t.weight-e.weight});let e=[],t={};if(d.Config.advancedSettings.countrySelectorRemoveCountries&&(e=d.Config.advancedSettings.countrySelectorRemoveCountries.split("\n")),d.Config.advancedSettings.countrySelectorRelabelCountries){let e=d.Config.advancedSettings.countrySelectorRelabelCountries.split("\n");e.forEach(function(e){e=e.split("|");3===e.length&&(t[e[0]]=t[e[0]]||{},t[e[0]][e[1]]=e[2])})}for(var a in f)if(f.hasOwnProperty(a)){var r=f[a];if(-1!==e.indexOf(r.code)&&(r.hide=!0),t[r.code])for(var s in t[r.code]){var l=t[r.code][s];"EN"===s?r.name=l:r["name"+s]=l}d.Config.advancedSettings.countrySelectorSubmitLabels&&(r.value=r.name)}}d.Core.eventManager.on("setup",function(){d.Modules.Gate.eventManager.on("newGateBuilt",u,c)},c),d.Modules.Utilities.log(c,"init","init","Module initialised")},namespace:c="Modules.Mask"})}(window[window.GatedContentObject]),function(e){function t(e){e=document.querySelector('meta[name="'+e+'"]');return e?e.content:""}var i;e.Modules=e.Modules||{},e.Modules.MetaTag={init:function(){e.Modules.DataSources.registerDataSource("metaTag",t),e.Modules.Utilities.log(i,"init","init","Module initialised")},namespace:i="Modules.MetaTag"}}(window[window.GatedContentObject]),function(i){function n(e){0===r&&(t=!(a=!1),e())}var o,a,t,r;i.Modules=i.Modules||{},i.Modules.Preloader=(t=a=!(o="Modules.Preloader"),r=0,{preInit:function(e){var t;a=!0,t=e,i.Config.preloadAssets.forEach(function(e){r++,i.Modules.Utilities.loadScript(e,"utf-8",function(){r--,i.Modules.Utilities.log(o,"loadScript","info","Finished loading asset: "+e),n(t)},function(){r--,i.Modules.Utilities.log(o,"loadScript","error","Could not load asset: "+e),n(t)})}),n(t)},preInitRunning:function(){return a},preInitComplete:function(){return t},init:function(){i.Modules.Utilities.log(o,"init","init","Module initialised")},namespace:o})}(window[window.GatedContentObject]),function(o){function n(e,t){for(var i in o.Modules.Utilities.log(s,"processPreview","info",JSON.stringify(e)),o.Config.previewableEntities){var n=o.Config.account.id+"_"+i;e[n]&&!0===e[n]&&"styles"!==i&&(l[i]=!0)}a("boolean"==typeof e[o.Config.account.id+"_styles"]&&!0===e[o.Config.account.id+"_styles"]),r(t)}function a(e){o.Modules.Utilities.log(s,"loadStyleSheets","info","previewMode="+e),e&&!0===e?o.Modules.Utilities.loadStylesheet("https://app.gatedcontent.com/styles/"+o.Config.account.id+"/draft/app.css"):o.Modules.Utilities.loadStylesheet("https://app.gatedcontent.com/styles/"+o.Config.account.id+"/app.css")}function t(t){window.isGcdcPortal?o.Modules.XHR.getJson("https://admin.gatedcontent.com/iframe/poll",function(e){n(e.previews,t)},t,!0):window.gcdcTools&&window.gcdcTools.initialised?function e(t,i){i=i||0,window.gcdcTools&&window.gcdcTools.gcdcToolsData&&window.gcdcTools.gcdcToolsData.previewFlags&&null!==window.gcdcTools.gcdcToolsData.previewFlags?0<Object.keys(window.gcdcTools.gcdcToolsData.previewFlags).length?n(window.gcdcTools.gcdcToolsData.previewFlags,t):(a(!1),o.Modules.Utilities.log(s,"waitForPollData","info","Poll data set - no previews"),r(t)):i<10?(i++,o.Modules.Utilities.log(s,"waitForPollData","info","Waiting for poll data "+i),setTimeout(function(){e(t,i)},200)):(a(!1),o.Modules.Utilities.log(s,"waitForPollData","warning","Failed to retrieve poll data - failed safe"),r(t))}(t):(a(!1),o.Modules.Utilities.log(s,"handlePreviews","info","Preview mode not available"),d=!0,r(t))}function r(e){d=!0,o.Modules.Preview.eventManager.emit("previewChecksFinished"),e()}var s,l,i,d;o.Modules=o.Modules||{},o.Modules.Preview=(d=i=!(l={}),{init:function(){o.Modules.Utilities.log(s,"init","init","Module initialised")},namespace:s="Modules.Preview",preInit:function(e){o.Modules.Preview.eventManager=new o.Classes.EventManager(o.Modules.Preview),i=!0,t(e)},preInitRunning:function(){return i},preInitComplete:function(){return d},checkPreviewMode:function(e){return l[e]}})}(window[window.GatedContentObject]),function(i){function e(){if(i.Config.requestedDataSources.queryString)for(var e in i.Config.requestedDataSources.queryString){var t;i.Config.requestedDataSources.queryString.hasOwnProperty(e)&&((t=i.Modules.Utilities.getQsParameter(e))?n.storeEmitData(e,t):n.readEmitData(e))}}function t(e){return!1}var n,o;i.Modules=i.Modules||{},i.Modules.QueryString={init:function(){n=i.Modules.DataSources.registerDataSource("queryString",t),i.Core.eventManager.on("setup",e,o),i.Modules.Utilities.log(o,"init","init","Module initialised")},namespace:o="Modules.QueryString"}}(window[window.GatedContentObject]),function(c){function e(){if(m.emitData("pageloadID",c.Modules.Utilities.generateUuid()),g())try{var e=JSON.parse(c.Modules.Storage.readCookie("gcdc_session"));e&&(b=e)}catch(e){}var t,e=b.userId||c.Modules.Storage.readStorage(c.Config.storage.userDataPrefix+"UserID"),i=b.sessionId||c.Modules.Storage.readStorage(c.Config.storage.userDataPrefix+"SessionID"),n=b.sessionStartTimestamp||c.Modules.Storage.readStorage(c.Config.storage.userDataPrefix+"SessionStart"),i=(e=e||c.Modules.Utilities.generateUuid(),i||(i=c.Modules.Utilities.generateUuid(),y=!0),n=n||c.Modules.Utilities.getLocalDatetime(),c.Modules.Storage.writeStorage(c.Config.storage.userDataPrefix+"UserID",e,525600),c.Modules.Storage.writeStorage(c.Config.storage.userDataPrefix+"SessionID",i),c.Modules.Storage.writeStorage(c.Config.storage.userDataPrefix+"SessionStart",n),m.emitData("sessionStartTimestamp",n),m.emitData("userID",e),m.emitData("sessionID",i),b.userId=e,b.sessionId=i,b.sessionStartTimestamp=n,b.visitNumber||c.Modules.Storage.readStorage(c.Config.storage.userDataPrefix+"VisitNumber")||0),n=b.pageviews||c.Modules.Storage.readStorage(c.Config.storage.userDataPrefix+"Pageviews")||0,o=(y&&i++,n++,c.Modules.Storage.writeStorage(c.Config.storage.userDataPrefix+"VisitNumber",i,525600),m.emitData("visitNumber",i),b.visitNumber=i,c.Modules.Storage.writeStorage(c.Config.storage.userDataPrefix+"Pageviews",n,525600),m.emitData("pageviews",n),b.pageviews=n,!1),a=!1,i=b.utmMultiSessionCurrent||m.readData("utmMultiSessionCurrent"),n=b.utmMultiSessionAll||m.readData("utmMultiSessionAll"),r={},s={},l={},d=!1;for(u in h)h.hasOwnProperty(u)&&(t=h[u],r[u]=c.Modules.Utilities.getQsParameter(t),r[u]&&(o=!0),l[u]=c.Modules.Storage.readStorage("gcdcUtmStoredParameter-"+u),l[u],s[u]=b[u],s[u]&&s[u]!==l[u]&&(a=!0),m.storeEmitData(u,r[u]||s[u]||l[u]||v[u]||""));if(o)for(var u in h)h.hasOwnProperty(u)&&(b[u]=r[u],c.Modules.Storage.writeStorage("gcdcUtmStoredParameter-"+u,r[u]));else if(a)for(var u in h)h.hasOwnProperty(u)&&c.Modules.Storage.writeStorage("gcdcUtmStoredParameter-"+u,s[u]);o?(d=f(r),m.storeEmitData("entryUrl",window.location.href),b.entryUrl=window.location.href):i||n?b.entryUrl?m.storeEmitData("entryUrl",b.entryUrl):b.entryUrl=m.readEmitData("entryUrl"):(d=f({utmCampaign:null,utmMedium:"Organic/Direct",utmSource:c.Modules.Browser.getReferer(!0),utmContent:null,utmTerm:null}),m.storeEmitData("entryUrl",window.location.href),b.entryUrl=window.location.href),d?(m.storeEmitData("utmMultiSessionCurrent",(i||"")+d),m.storeEmitData("utmMultiSessionAll",(n||"")+d),b.utmMultiSessionCurrent=(i||"")+d,b.utmMultiSessionAll=(n||"")+d):b.utmMultiSessionAll?(m.storeEmitData("utmMultiSessionCurrent",b.utmMultiSessionCurrent),m.storeEmitData("utmMultiSessionAll",b.utmMultiSessionAll)):(b.utmMultiSessionCurrent=m.readEmitData("utmMultiSessionCurrent"),b.utmMultiSessionAll=m.readEmitData("utmMultiSessionAll"));i=/\/\/([a-z0-9-\.]*)\//i,n=window.location.href.match(i),i=document.referrer.match(i),d=!1;i&&n&&1<i.length&&1<n.length&&(i=i[1],n=n[1],i===n||""!==c.Config.advancedSettings.rootDomain&&i.match(c.Config.advancedSettings.rootDomain)||(m.storeEmitData("referrerURL",document.referrer),m.storeEmitData("referrerDomain",i),b.referrerURL=document.referrer,b.referrerDomain=i,d=!0)),d||(b.referrerURL&&b.referrerDomain?(m.storeEmitData("referrerURL",b.referrerURL),m.storeEmitData("referrerDomain",b.referrerDomain)):(b.referrerURL=m.readEmitData("referrerURL")||"",b.referrerDomain=m.readEmitData("referrerDomain")||"")),p(),c.Modules.Gate.eventManager.on("formSubmittedTrigger",function(){m.storeEmitData("utmMultiSessionCurrent",""),b.utmMultiSessionCurrent="",p()})}function g(){if(c.Config.advancedSettings.useTrackingCookies){var e=window.location.hostname;if(-1!==e.indexOf(c.Config.advancedSettings.rootDomain)){if(!c.Config.advancedSettings.trackingCookieAllowedDomains)return 1;var t,i=c.Config.advancedSettings.trackingCookieAllowedDomains.split("\n");for(t in i)if(e===i[t])return 1}}}function p(){g()&&c.Modules.Storage.createCookie("gcdc_session",JSON.stringify(b),0,"/",c.Config.advancedSettings.rootDomain)}function f(e){var t,i=c.Modules.Utilities.getLocalDatetime()+":";for(t in e)e.hasOwnProperty(t)&&(i+=t+"="+(e[t]||"None")+"&");return i=i.substring(0,i.length-1)+"|"}function t(e){return"timeOnPage"===e&&(e=new Date-n,e/=1e3,Math.round(e))}var m,i,h,v,b,n,y;c.Modules=c.Modules||{},c.Modules.Session=(i="Modules.Session",h={utmCampaign:"utm_campaign",utmMedium:"utm_medium",utmSource:"utm_source",utmContent:"utm_content",utmTerm:"utm_term"},v={utmCampaign:"",utmMedium:"Organic/Direct",utmSource:"None",utmContent:"None",utmTerm:"None"},b={userId:"",sessionId:"",sessionStartTimestamp:"",entryUrl:"",referrerURL:"",referrerDomain:"",visitNumber:"",utmCampaign:"",utmMedium:"",utmSource:"",utmContent:"",utmTerm:"",utmMultiSessionCurrent:"",utmMultiSessionAll:"",pageviews:""},n=new Date,y=!1,{init:function(){m=c.Modules.DataSources.registerDataSource("session",t,!0),v=c.Config.utmDefaults||v,c.Core.eventManager.on("setup",function(){e()},i),c.Modules.Utilities.log(i,"init","init","Module initialised")},namespace:i})}(window[window.GatedContentObject]),function(s){function o(e){for(var t=new Uint8Array(e.length),i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}function a(e){for(var t="",i=0;i<e.byteLength;i++)t+=String.fromCharCode(e[i]);return t}function n(t,i,n){if(window[t]&&null!==window[t].getItem(s.Config.storage.storageKeyName))try{if(window.crypto&&window.crypto.subtle&&-1===navigator.userAgent.indexOf("Edge"))window.crypto.subtle.decrypt({name:"AES-CBC",iv:vector},key,o(window[t].getItem(s.Config.storage.storageKeyName))).then(function(e){try{decrypted_data=new Uint8Array(e),d[i]=JSON.parse(a(decrypted_data)),n()}catch(e){s.Modules.Utilities.log(l,"setupStorage","error","App data could not be recovered from",t,"starting new sessions:",e.message),n()}},function(e){try{d[i]=JSON.parse(atob(window[t].getItem(s.Config.storage.storageKeyName))),n()}catch(e){s.Modules.Utilities.log(l,"setupStorage","error","App data could not be recovered from",t,"starting new sessions:",e.message),n()}});else try{d[i]=JSON.parse(atob(window[t].getItem(s.Config.storage.storageKeyName))),n()}catch(e){s.Modules.Utilities.log(l,"setupStorage","error","App data could not be recovered from",t,"starting new sessions:",e.message),n()}}catch(e){s.Modules.Utilities.log(l,"setupStorage","warning","App data could not be recovered from",t,"starting new sessions"),n()}else s.Modules.Utilities.log(l,"setupStorage","warning","App data could not be recovered from",t,"starting new sessions"),n()}function t(e){var t,i;t=function(){n("sessionStorage","session",function(){n("localStorage","local",function(){isPreInitComplete=!0,e()})})},window.crypto&&window.crypto.subtle&&-1===navigator.userAgent.indexOf("Edge")?(i=(i=window.navigator.appName+window.navigator.appCodeName+window.navigator.product+window.navigator.language+window.navigator.platform+window.navigator.oscpu).replace(/\s/,""),crypto.subtle.digest({name:"SHA-256"},o(i)).then(function(e){window.crypto.subtle.importKey("raw",e,{name:"AES-CBC"},!1,["encrypt","decrypt"]).then(function(e){key=e,window.localStorage.getItem(s.Config.storage.storageKeyName+"Vector")?vector=o(window.localStorage.getItem(s.Config.storage.storageKeyName+"Vector")):(vector=crypto.getRandomValues(new Uint8Array(16)),window.localStorage.setItem(s.Config.storage.storageKeyName+"Vector",a(vector))),t()},function(e){s.Modules.Utilities.log(l,"generateKey","error","Could not generate key:",e.message)})})):t()}function r(){if(s.Modules.Utilities.checkPrivacySettings(1)){var t=!0;if(window.sessionStorage)try{window.crypto&&window.crypto.subtle&&-1===navigator.userAgent.indexOf("Edge")?window.crypto.subtle.encrypt({name:"AES-CBC",iv:vector},key,o(JSON.stringify(d.session))).then(function(e){window.sessionStorage.setItem(s.Config.storage.storageKeyName,a(new Uint8Array(e)))},function(e){s.Modules.Utilities.log(l,"updateStorage","error","App data could not be updated in storage:",e.message)}):window.sessionStorage.setItem(s.Config.storage.storageKeyName,btoa(JSON.stringify(d.session)))}catch(e){s.Modules.Utilities.log(l,"updateStorage","error","App data could not be updated in storage:",e.message),t=!1}else t=!1;if(window.localStorage)try{window.crypto&&window.crypto.subtle&&-1===navigator.userAgent.indexOf("Edge")?window.crypto.subtle.encrypt({name:"AES-CBC",iv:vector},key,o(JSON.stringify(d.local))).then(function(e){window.localStorage.setItem(s.Config.storage.storageKeyName,a(new Uint8Array(e)))},function(e){s.Modules.Utilities.log(l,"updateStorage","error","App data could not be updated in storage:",e.message)}):window.localStorage.setItem(s.Config.storage.storageKeyName,btoa(JSON.stringify(d.local)))}catch(e){s.Modules.Utilities.log(l,"updateStorage","error","App data could not be updated in storage:",e.message),t=!1}else t=!1;return t}s.Modules.Utilities.log(l,"createCookie","error","Attempt to update storage is blocked by user' privacy settings")}function i(e,t,i,n,o){if(!s.Modules.Utilities.checkPrivacySettings(2))return s.Modules.Utilities.log(l,"createCookie","error","Attempt to write cookie is blocked by user' privacy settings"),null;var a,r="",i=(i&&((a=new Date).setTime(a.getTime()+24*i*60*60*1e3),r="; expires="+a.toGMTString()),e+"="+t+r+"; path="+(n=n||"/"));o&&(i+=";domain="+o),document.cookie=i}var l,d;s.Modules=s.Modules||{},s.Modules.Storage=(key="",vector="",isPreInitRunning=!(d={session:{},local:{}}),isPreInitComplete=!(l="Modules.Storage"),{preInit:function(e){isPreInitRunning=!0,t(e)},preInitRunning:function(){return isPreInitRunning},preInitComplete:function(){return isPreInitComplete},init:function(){s.Modules.Utilities.log(l,"init","init","Module initialised")},namespace:l,readStorage:function(e){return s.Modules.Utilities.checkPrivacySettings(1)?d.session[e]?(s.Modules.Utilities.log(l,"readStorage","info","A storage key called",e,"was found in session storage"),d.session[e]):d.local[e]&&d.local[e+"Expiry"]?new Date(d.local[e+"Expiry"]).getTime()>=(new Date).getTime()?(s.Modules.Utilities.log(l,"readStorage","info","A storage key called",e,"was found in local storage"),d.local[e]):(delete d.local[e],delete d.local[e+"Expiry"],r(),s.Modules.Utilities.log(l,"readStorage","info","No storage key called",e,"was found"),null):(s.Modules.Utilities.log(l,"readStorage","info","No storage key called",e,"was found"),null):(s.Modules.Utilities.log(l,"createCookie","error","Attempt to read storage is blocked by user' privacy settings"),null)},writeStorage:function(e,t,i){if(!s.Modules.Utilities.checkPrivacySettings(1))return s.Modules.Utilities.log(l,"createCookie","error","Attempt to write storage is blocked by user' privacy settings"),null;var n,o;!isNaN(parseInt(i))&&0<i?((o=new Date).setTime(o.getTime()+60*i*1e3),n="local",d.local[e]=t,d.local[e+"Expiry"]=o.toJSON()):(n="session",d.session[e]=t),o&&r()?s.Modules.Utilities.log(l,"writeStorage","info","A storage key called",e,"was written to",n,"storage expiring on",o.toGMTString()):r()?s.Modules.Utilities.log(l,"writeStorage","info","A storage key called",e,"was written to",n,"storage"):s.Modules.Utilities.log(l,"writeStorage","error","A storage key called",e,"could not be written to",n,"storage")},clearStorageByPrefix:function(e){var t,i,n=new RegExp("^"+e+".*","gi");for(t in d.session)t.match(n)&&delete d.session[t];for(i in d.local)i.match(n)&&delete d.local[i];r()},createCookie:i,readCookie:function(e){if(!s.Modules.Utilities.checkPrivacySettings(2))return s.Modules.Utilities.log(l,"createCookie","error","Attempt to read cookie is blocked by user' privacy settings"),null;for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},deleteCookie:function(e){i(e,"",-1)},showCache:function(){window.console&&(console.log("GCDC SESSION CACHE:"),console.log(d.session),console.log("GCDC LOCAL CACHE:"),console.log(d.local))}})}(window[window.GatedContentObject]),function(a){function o(e,t){return"required"===e?'&nbsp;<span class="gcdc-required-marker gcdc-status-marker">'+a.Modules.Localise.translateString("markerFieldRequired",t,a.Config.gates.requiredFieldLabelIndicator)+"</span>":"optional"===e?'&nbsp;<span class="gcdc-optional-marker gcdc-status-marker">'+a.Modules.Localise.translateString("markerFieldOptional",t,a.Config.gates.optionalFieldLabelIndicator)+"</span>":void 0}function r(e,t){e+=t;return e=(e=e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()}).replace(/\s+/g,"")).replace(/\W/g,"")}var s;a.Modules=a.Modules||{},a.Modules.Template={init:function(){a.Modules.Utilities.log(s,"init","init","Module initialised")},namespace:s="Modules.Template",generateStringName:r,render:function(t,e,i){var n,o=a.Resources.Templates[t+"Template"];try{n=(n=a.Vendor.shaven(o(e,i)))[0],a.Modules.Utilities.log(s,"render","info","Template",t,"rendered in language",i)}catch(e){a.Modules.Utilities.log(s,"render","critical","Template",t,"could not be rendered -",e.message),n=document.createElement("div")}return n},safeCssClassName:function(e){return e=e.replace(/[~\!@\$%\^&\*\(\)\+\=,\.\/';\:"\?><\[\]\\\{\}\|`#\s]*/gi,"")},placeholderText:function(e,t,i,n){return e.hint&&""!==e.hint?a.Modules.Localise.translateString(a.Modules.Template.generateStringName("Field Placeholder ",e.id),t,e.hint):"true"!=e.required||n?i&&""!==i?i:"":a.Modules.Localise.translateString("textFieldHint",t,"Please complete this field")},appendedLabel:function(e,t,i){var n=e.id;return i&&"string"==typeof i&&(n+=i),e.translateMessaging?a.Modules.Localise.translateString(r("Form Field Label ",n),t,e.description)+(e.required?o("required",t):o("optional",t)):(r("Form Field Label ",n),e.description+(e.required?o("required",t):o("optional",t)))},deWidofy:function(e){return e.trim().replace(/(\s(?=[^\s]*$))(?=[^>]*(<|$))/g,"&nbsp;")},getStatusMarker:o}}(window[window.GatedContentObject]),function(i){function e(e){new i.Classes.Tracker(e)}function n(t){var e=i.Modules.Utilities.getComponentUrl("events","events");i.Modules.XHR.getJson(e,function(e){i.Config.tracking.events=e.Body.events,r=!0,t()},function(){i.Modules.Utilities.log(o,"loadEventConfig","error","Failed to load event config"),r=!0,t()})}var o,a,r;i.Modules=i.Modules||{},i.Modules.Track=(r=a=!(o="Modules.Track"),{init:function(){i.Modules.Utilities.log(o,"init","init","Module initialised"),i.Core.eventManager.on("setup",function(){i.Modules.Gate.eventManager.on("newGateInit",e,o)},o)},namespace:o,preInit:function(e){var t;a=!0,t=e,i.Modules.Preview.preInitComplete()?n(t):i.Modules.Preview.eventManager.on("previewChecksFinished",function(){n(t)})},preInitRunning:function(){return a},preInitComplete:function(){return r}})}(window[window.GatedContentObject]),function(a){function o(){var e;l&&n&&(e=n.offsetWidth/2,n.style.left="50%",n.style.marginLeft="-"+e+"px")}function r(e){if(l&&(e||!d)){document.body.classList.remove("gcdc-locked"),document.body.style.top="0px";try{document.body.scrollTop=u,document.documentElement.scrollTop=u}catch(e){}e&&(d=!1,document.body.classList.remove("gcdc-page-locked")),n.parentElement.style.display="none",n.parentElement.classList.remove("open"),n="",l=!1,a.Modules.UI.eventManager.emit("modalClosed"),a.Modules.Utilities.log(s,"deactivateModal","info","Modal closed")}}function e(e,t){t=t||0;var i=window.pageYOffset||document.documentElement.scrollTop,n=e.getBoundingClientRect().top+i-20-t,n=Math.floor(n);try{setTimeout(function(){window.scrollTo({top:n,behavior:"smooth"})},100)}catch(e){}}var n,s,l,d,u;a.Modules=a.Modules||{},a.Modules.UI=(d=l=!(s="Modules.UI"),u=0,{init:function(){a.Modules.UI.eventManager=new a.Classes.EventManager(a.Modules.UI),window.addEventListener("resize",function(e){o()}),a.Modules.Utilities.log(s,"init","init","Module initialised")},namespace:s,openModal:function(e,t,i){i&&r(),!l&&-1<(" "+e.className+" ").indexOf(" gcdc-modal-dialog ")&&(u=document.documentElement.scrollTop||document.body.scrollTop,e.parentElement.parentElement!==document.body&&document.body.appendChild(e.parentElement),t&&(d=!0,document.body.classList.add("gcdc-page-locked")),n=e,document.body.classList.add("gcdc-locked"),document.body.style.top="-"+u+"px",e.parentElement.style.display="block",a.Modules.Utilities.setCaughtTimeout(function(){e.parentElement.classList.add("open"),o()},50),l=!0,o(),a.Modules.UI.eventManager.emit("modalOpened"),a.Modules.Utilities.log(s,"activateModal","info","Modal opened"))},closeModal:r,getCurrentModalDialogElement:function(){return n},updateModalPosition:o,injectLoader:function(e){var t=document.createElement("div");t.className=a.Config.html.loaderWrapperClass,e.appendChild(t)},scrollTo:e,convertGateToModal:function(e){var n,t,i;e.wrapperElem.classList.add("gcdc-modal-dialog"),(t=e.wrapperElem).parentElement&&-1===(" "+t.parentElement.className+" ").indexOf(" gcdc-modal-wrapper ")&&((n=document.createElement("div")).className="gcdc-modal-wrapper",t.parentElement.insertBefore(n,t),n.appendChild(t),n.addEventListener("click",function(e){e.target===n&&(r(),e.preventDefault())}),n.addEventListener("touchstart",function(){var e=n.scrollTop,t=n.scrollHeight,i=e+n.offsetHeight;0===e?n.scrollTop=1:i===t&&(n.scrollTop=e-1)})),null===(t=e.wrapperElem).querySelector("a.gcdc-modal-close")&&((i=document.createElement("a")).href="#",i.className="gcdc-modal-close",i.setAttribute("aria-label","close"),t.appendChild(i),i.addEventListener("click",function(e){r(),e.preventDefault()})),e.eventManager.on("formDisplayed",o,s),e.eventManager.on("contentDisplayed",o,s),o()},isDescendant:function(e,t){for(var i=t.parentNode;null!==i;){if(i==e)return!0;i=i.parentNode}return!1},getAncestorByClass:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e},simulateEvent:function(e,t){var i;"createEvent"in document?((i=document.createEvent("HTMLEvents")).initEvent(t,!1,!0),e.dispatchEvent(i)):e.fireEvent("on"+t)},windowHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},windowWidth:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},bindToTextInputField:function(e,t){a.Modules.UI.addCaughtEventListener(e,"focus",function(e){t("on")}),a.Modules.UI.addCaughtEventListener(e,"keyup",function(e){"38"!=e.keyCode&&"40"!=e.keyCode&&"13"!=e.keyCode&&t("on")}),a.Modules.UI.addCaughtEventListener(e,"change",function(e){t("on")}),a.Modules.UI.addCaughtEventListener(e,"blur",function(e){t("off")})},addCaughtEventListener:function(e,t,i,n){e.addEventListener(t,function(e){if(a.Config.debug.active)i(e);else try{i(e)}catch(e){a.Modules.Utilities.log(s,"addCaughtEventListener","critical","Could not handle event listener callback:"+e.message)}},n)},listenForAttributeChange:function(t,i,n){var o;t&&"function"==typeof t.getAttribute&&"function"==typeof n&&(o=t.getAttribute(i),a.Modules.Utilities.setCaughtInterval(function(){var e=t.getAttribute(i);e!==o&&(o=e,n())},500))}})}(window[window.GatedContentObject]),function(s){function n(e,t,i){return i=i||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(i)+e}function e(e,t,n,o){if(4<arguments.length){var a="";for(i=3;i<arguments.length;)a+=arguments[i]+" ",i++;o=a.trim()}var r;o+=".",window.console&&s.Config.debug.active&&(r="","critical"===n?(console.error(s.Config.debug.appName+" - "+e+"."+t+": "+o),window.isGcdcPortal&&window.Rollbar&&Rollbar.critical(s.Config.debug.appName+" - "+e+"."+t+": "+o)):"error"===n?console.error(s.Config.debug.appName+" - "+e+"."+t+": "+o):"warning"===n?console.warn(s.Config.debug.appName+" - "+e+"."+t+": "+o):"info"===n&&3<=s.Config.debug.level?console.info(s.Config.debug.appName+" - "+e+"."+t+": "+o):"init"===n&&2<=s.Config.debug.level?(r="color: green;",console.log("%c"+s.Config.debug.appName+" - "+e+"."+t+": "+o,r)):"event"===n&&2<=s.Config.debug.level?(r="color: blue;",console.log("%c"+s.Config.debug.appName+" - "+e+"."+t+": "+o,r)):"ajax"===n&&2<=s.Config.debug.level&&(r="color: skyblue;",console.log("%c"+s.Config.debug.appName+" - "+e+"."+t+": "+o,r)))}function o(e){return JSON.parse(JSON.stringify(e))}function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}}function u(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];if(!i.length)return e;var o=i.shift();if(r(e)&&r(o))for(var a in o)r(o[a])?(e[a]||d(e,l({},a,{})),u(e[a],o[a])):d(e,l({},a,o[a]));return u.apply(void 0,[e].concat(i))}function t(e){return"string"==typeof e&&""!==e?(e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),null===(e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search))?null:decodeURIComponent(e[1].replace(/\+/g," "))):""}var a,c,g;s.Modules=s.Modules||{},s.Modules.Utilities=(c="Modules.Utilities",g=window.crypto||window.msCrypto||{getRandomValues:function(e){for(var t=0,i=e.length;t<i;t++)e[t]=Math.floor(256*Math.random());return e}},null!==(a=t(s.Config.debug.qsParam))?(s.Config.debug.active=!0,"1"!==a&&"2"!==a&&"3"!==a||(s.Config.debug.level=parseInt(a)),e(c,"checkDebugMode","info","Debug mode is active and all messages will be logged")):window.isGcdcPortal?(s.Config.debug.active=!0,s.Config.debug.level=1):s.Config.debug.active=!1,{init:function(){s.Modules.Utilities.log(c,"init","init","Module initialised")},namespace:c,isIE:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("trident/")?11:-1!=e.indexOf("msie")&&parseInt(e.split("msie")[1])},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},getPageUrl:function(){return s.Config.tracking.includeQuerystringInGcdcLogging?window.location.href:[location.protocol,"//",location.host,location.pathname].join("")},getComponentUrl:function(e,t){let i="https://app.gatedcontent.com/components/"+e+"/"+s.Config.account.id+"/get/";return i=i+(s.Modules.Preview.checkPreviewMode(e)?"draft/":"live/")+t,s.Modules.Preview.checkPreviewMode(e)?i+="?c="+s.Modules.Utilities.getRandomInt(1e7,99999999):window.isGcdcPortal&&window.GCDC_Cachebuster_token&&(i+=window.GCDC_Cachebuster_token),i},getLocalDatetime:function(e){var t=new Date;return"US"===e?n(t.getMonth()+1,2,"0")+"/"+n(t.getDate(),2,"0")+"/"+t.getFullYear()+" "+n(t.getHours(),2,"0")+":"+n(t.getMinutes(),2,"0")+":"+n(t.getSeconds(),2,"0"):"DATEONLY"===e?t.getFullYear()+"-"+n(t.getMonth()+1,2,"0")+"-"+n(t.getDate(),2,"0"):t.getFullYear()+"-"+n(t.getMonth()+1,2,"0")+"-"+n(t.getDate(),2,"0")+" "+n(t.getHours(),2,"0")+":"+n(t.getMinutes(),2,"0")+":"+n(t.getSeconds(),2,"0")},generateUuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t;return"y"===e?(t=["8","9","a","b"])[Math.floor(Math.random()*t.length)]:(t=new Uint8Array(1),g.getRandomValues(t),(t[0]%16).toString(16))})},log:e,searchObjectArray:function(e,t,i,n){if("object"!=typeof e||"string"!=typeof t)return!1;for(var o=0;o<e.length;o++){var a=e[o];if("object"==typeof a&&a[t]&&a[t]===i)return n?a:o}return!1},readCookie:function(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null},stringEscapeRegex:function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},copy:o,extendCopy:function(e,t){var i,n=o(e);for(i in t)n[i]=t[i];return n},mergeDeep:u,objKeysAsArray:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},getQsParameter:t,getQsParameterWilcard:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]("+e+".*?)=([^&#]*)","g"),t=location.search.match(e),i={};if(null!==t)for(var n in t){var n=t[n],o=n.replace(/^[\?&]/,""),n=n.replace(/^[\?&].*?=/,"");i[o=o.replace(/=([^&#]*)/,"")]=decodeURIComponent(n.replace(/\+/g," "))}return i},loadScript:function(e,t,i,n){var o=document.createElement("script");return o.type="text/javascript",o.src=e,o.async=1,t&&""!==t&&(o.charset=t),i&&"function"==typeof i&&(o.onload=i),n&&"function"==typeof n&&(o.onerror=n),document.getElementsByTagName("head")[0].appendChild(o),s.Modules.Utilities.log(c,"loadScript","info","Script",e,"was injected into the page"),o},loadStylesheet:function(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t),s.Modules.Utilities.log(c,"loadStylesheet","info","Stylesheet",e,"was injected into the page")},setCaughtTimeout:function(e,t){return setTimeout(function(){if(s.Config.debug.active)e();else try{e()}catch(e){s.Modules.Utilities.log(c,"setCaughtTimeout","critical","Could not handle timed function:"+e.message)}},t)},setCaughtInterval:function(e,t){return setInterval(function(){if(s.Config.debug.active)e();else try{e()}catch(e){s.Modules.Utilities.log(c,"setCaughtInterval","critical","Could not handle interval function:"+e.message)}},t)},trimAndHyphenate:function(e){return"string"==typeof e?e.trim().replace(/\s/gi,"-"):""},getHostName:function(e){return"function"==typeof window.URL?new window.URL(e).hostname:null!==(e=e.match(/:\/\/(www[0-9]?\.)?(.[^\/:]+)/i))&&2<e.length&&"string"==typeof e[2]&&0<e[2].length?e[2]:null},checkPrivacySettings:function(e){return(!s.Config.advancedSettings.browserPrivacyCheck||!(navigator.globalPrivacyControl||navigator.doNotTrack||window.doNotTrack))&&((!s.Config.advancedSettings.oneTrustCheck||1!==e||!window.OnetrustActiveGroups||-1!==window.OnetrustActiveGroups.indexOf(s.Config.advancedSettings.oneTrustFunctionalGroup))&&(!s.Config.advancedSettings.oneTrustCheck||2!==e||!window.OnetrustActiveGroups||-1!==window.OnetrustActiveGroups.indexOf(s.Config.advancedSettings.oneTrustPerformanceGroup)))}})}(window[window.GatedContentObject]),function(e){var t;e.Modules=e.Modules||{},e.Modules.ViewScroll={init:function(){e.Modules.Utilities.log(t,"init","init","Module initialised")},namespace:t="Modules.ViewScroll",whenVisible:function(e,i,n){"function"==typeof IntersectionObserver&&new IntersectionObserver(function(e,t){e.forEach(function(e){0<e.intersectionRatio&&(i(),n&&t.disconnect())})}).observe(e)},onPageScroll:function(e,i,n){var t=document.createElement("div");t.style.position="absolute",t.style.width="1px",t.style.height="1px",t.style.top=e+"px",t.style.left="0",document.body.appendChild(t),"function"==typeof IntersectionObserver&&new IntersectionObserver(function(e,t){e.forEach(function(e){0<e.intersectionRatio&&(i(),n&&t.disconnect())})}).observe(t)}}}(window[window.GatedContentObject]),function(s){function e(t,i,n){s.Modules.Utilities.log(l,"getJson","ajax","Making XHR call to",t);function o(e){if(s.Modules.Utilities.log(l,"getJson","ajax","XHR response received from",t,"attempting to JSON parse"),"function"==typeof i)if(s.Config.debug.active)i(e);else try{i(e)}catch(e){s.Modules.Utilities.log(l,"get","critical","Could not handle XHR callback:"+e.message)}}if(window.XDomainRequest)t=window.location.href.match(/^http:/i)?t.replace(/^https:/i,"http:"):t.replace(/^http:/i,"https:"),setTimeout(function(){try{var e=new XDomainRequest;e.open("get",t),e.onprogress=function(){},e.ontimeout=function(){},e.onerror=function(){},e.onload=function(){o(e.responseText)},e.send()}catch(e){if(s.Modules.Utilities.log(l,"get","critical","Failed to trigger AJAX request:",e.message),"function"==typeof n)if(s.Config.debug.active)n();else try{n()}catch(e){s.Modules.Utilities.log(l,"get","critical","Could not handle XHR failure callback:",e.message)}}},0);else try{var e=new XMLHttpRequest;e.onload=function(){o(e.responseText)},e.open("GET",t,!0),e.send()}catch(e){if(s.Modules.Utilities.log(l,"get","critical","Failed to trigger AJAX request:",e.message),"function"==typeof n)if(s.Config.debug.active)n();else try{n()}catch(e){s.Modules.Utilities.log(l,"get","critical","Could not handle XHR failure callback:"+e.message)}}}function i(n,t,o,a,e){if(window.XMLHttpRequest){var i;s.Modules.Utilities.log(l,"post","ajax","Making XHR post to",n),i="application/json"===e?JSON.stringify(t):Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");try{var r=new XMLHttpRequest;r.open("POST",n,!0),r.setRequestHeader("Content-type",e||"application/x-www-form-urlencoded"),r.onload=function(){var e=r.responseText;s.Modules.Utilities.log(l,"post","ajax","XHR response received from",n,"attempting to JSON parse");var t,i=!1;try{t=JSON.parse(e)}catch(e){s.Modules.Utilities.log(l,"post","critical","Could not JSON parse response from",n," error was:",e),i=!0}if(i){if("function"==typeof a)if(s.Config.debug.active)a();else try{a()}catch(e){s.Modules.Utilities.log(l,"get","critical","Could not handle XHR failure callback:"+e.message)}}else if(t.Error)s.Modules.Utilities.log(l,"post","critical","XHR response from",n,"indicated error status, attempting to continue. Message was:",t.Message);else if(s.Modules.Utilities.log(l,"post","ajax","XHR response received from",n,"successfully JSON parsed, firing callback"),"function"==typeof o)if(s.Config.debug.active)o(t);else try{o(t)}catch(e){s.Modules.Utilities.log(l,"post","critical","Could not handle XHR callback:"+e.message)}},r.send(i)}catch(e){if(s.Modules.Utilities.log(l,"get","critical","Failed to trigger AJAX request:",e.message),"function"==typeof a)if(s.Config.debug.active)a();else try{a()}catch(e){s.Modules.Utilities.log(l,"post","critical","Could not handle XHR failure callback:"+e.message)}}}else s.Modules.Utilities.log(l,"post","warning","Browser does not support XMLHttpRequest, could not post to",n)}var l;s.Modules=s.Modules||{},s.Modules.XHR={init:function(){s.Modules.Utilities.log(l,"init","init","Module initialised")},namespace:l="Modules.XHR",getJson:function(n,o,a){e(n,function(e){var t,i=!1;try{t=JSON.parse(e)}catch(e){s.Modules.Utilities.log(l,"getJson","critical","Could not JSON parse response from",n," error was:",e),i=!0}if(!i)if(t.Error){if(s.Modules.Utilities.log(l,"getJson","critical","XHR response from",n,"indicated error status, attempting to continue. Message was:",t.Message),"function"==typeof a)if(s.Config.debug.active)a();else try{a()}catch(e){s.Modules.Utilities.log(l,"getJson","critical","Could not handle XHR failure callback:"+e.message)}}else if(s.Modules.Utilities.log(l,"getJson","ajax","XHR response received from",n,"successfully JSON parsed, firing callback"),"function"==typeof o)if(s.Config.debug.active)o(t);else try{o(t)}catch(e){s.Modules.Utilities.log(l,"getJson","critical","Could not handle XHR callback:"+e.message)}},a)},get:e,post:i,checkExists:function(e,t){i("https://app.gatedcontent.com/tools/checkurl/",{url:e},function(e){if(s.Config.debug.active)e.Error&&"false"!==e.Error?t(!1):t(!0);else try{e.Error&&"false"!==e.Error?t(!1):t(!0)}catch(e){s.Modules.Utilities.log(l,"checkExists","critical","Could not handle XHR callback:"+e.message)}})}}}(window[window.GatedContentObject]),function(r){var s;r.Config.plugins.download={active:!1,name:"Download",plugin:"Download",modalAutodownload:!0},r.Resources.Templates.downloadLinkTemplate=function(e){return e.autoDownloaded||window.isGcdcPortal?["div.gcdc-content-download-link",["p.gcdc-autodownload-notice",r.Modules.Localise.translateString("autoDownloadMessage",e.lang,"If your download does not start automatically please click the button below.")],["p",[["a",{href:e.downloadUrl,target:"_blank"},["span"],e.downloadText]]]]:["div.gcdc-content-download-link",["p",[["a",{href:e.downloadUrl,target:"_blank"},["span"],e.downloadText]]]]},r.Plugins=r.Plugins||{},r.Plugins.Download={init:function(){r.Modules.Utilities.log(s,"init","init","Module initialised"),r.Config.plugins.download.active&&(r.Config.gates.gateTypes.download=r.Config.plugins.download.name,r.Config.tracking.triggers.download={},r.Config.tracking.triggers.download.download={allowMultiple:!1,name:"Downloaded files/document",description:"This event will be triggered the first time a user downloads a document or file, either manually be clicking a link within a gate or automatically after a form submission."},window.isGcdcPortal&&window.GateEditorConfig&&window.addEventListener("gcdcGateEditorConfigInit",function(e){e=e.detail;e.addField("content",{id:"downloadUrl",label:"Download URL",hint:"Enter the URL for this download",required:"true",type:"text",dataType:"url",conditions:[{action:"show",conditionTest:"gateConfigAttribute('gateType') === 'download'"}]}),e.addField("content",{id:"downloadText",label:"Download button text",hint:"Enter the text which should be displayed in the download button",required:"true",type:"text",conditions:[{action:"show",conditionTest:"gateConfigAttribute('gateType') === 'download'"}]})}))},namespace:s="Plugins.Download",extendGate:function(){var e,t,i,n,o=this,a=!1;i=o.getConfigAttribute("downloadUrl"),n=o.getConfigAttribute("downloadText"),o.eventManager.on("contentRendered",function(){e=r.Modules.Template.render("downloadLink",{downloadUrl:i,downloadText:n,lang:o.getConfigAttribute("lang"),autoDownloaded:r.Config.plugins.download.modalAutodownload&&!o.form.blindSubmitted&&o.form.submitted}),t=e.querySelector("p a"),o.contentElem.appendChild(e),t&&r.Modules.UI.addCaughtEventListener(t,"click",function(e){a=!0,o.handleContentInteraction("download","download")})},s),o.eventManager.on("submitted",function(){!r.Config.plugins.download.modalAutodownload||a||o.form.blindSubmitted||(a=!0,r.Modules.Utilities.setCaughtTimeout(function(){window.open(i,"_blank"),o.handleContentInteraction("download","download")},1e3))},s),o.eventManager.on("openGateModal",function(){o.gateOpen()&&(o.preventModalOpeningOnce=!0,o.handleContentInteraction("download","download"),window.open(o.getConfigAttribute("downloadUrl"),"_blank"))},s),o.eventManager.on("gateBuilt",function(){o.isModal&&r.Modules.UI.getCurrentModalDialogElement()===o.wrapperElem&&o.gateOpen()&&(o.handleContentInteraction("download","download"),window.open(o.getConfigAttribute("downloadUrl"),"_blank"),r.Modules.UI.closeModal())}),r.Modules.Utilities.log(s,"setup","info","Gate ID:",o.id,"Gate download functionality added")}}}(window[window.GatedContentObject]),function(u){var c,g;u.Config.plugins.pagelock={active:!1,name:"Page gate",plugin:"Pagelock",enabledPagelockImmediate:!0,enabledPagelockDelayed:!0,enabledPagelockOnScroll:!0,enabledPagelockFixedElement:!1,enabledPagelockCustomElement:!1,hideFixedElementSelector:".gcdc-pagegate-hide-on-open",showFixedElementSelector:".gcdc-pagegate-show-on-open"},u.Plugins=u.Plugins||{},u.Plugins.Pagelock=(g=!(c="Plugins.Pagelock"),{init:function(){u.Modules.Utilities.log(c,"init","init","Module initialised"),u.Config.plugins.pagelock.active&&(u.Config.gates.gateTypes.pagelock=u.Config.plugins.pagelock.name,u.Config.tracking.triggers.pagelock={},u.Config.tracking.triggers.pagelock.pageLockView={allowMultiple:!1,name:"Page viewed",description:"This event will be triggered when a user views a page that was previously being protected by a page gate."},window.isGcdcPortal&&window.GateEditorConfig&&window.addEventListener("gcdcGateEditorConfigInit",function(e){var e=e.detail,t=[];u.Config.plugins.pagelock.enabledPagelockImmediate&&t.push({value:"pagelockImmediate",description:"Lock out page immediately on page load"}),u.Config.plugins.pagelock.enabledPagelockDelayed&&t.push({value:"pagelockDelayed",description:"Lock out page after a delay"}),u.Config.plugins.pagelock.enabledPagelockOnScroll&&t.push({value:"pagelockOnScroll",description:"Lock out page after the user scrolls down the page"}),u.Config.plugins.pagelock.enabledPagelockFixedElement&&t.push({value:"pagelockFixedElement",description:"Hide predetermined elements on the page"}),u.Config.plugins.pagelock.enabledPagelockCustomElement&&t.push({value:"pagelockCustomElement",description:"Hide elements on the page using a custom CSS selector"}),e.addField("content",{id:"pagelockType",label:"This gate will lock out the page or hide page elements, choose an option:",hint:"Please select",required:"true",type:"select",options:t,conditions:[{action:"show",conditionTest:"gateConfigAttribute('gateType') === 'pagelock'"}]}),e.addField("content",{id:"pagelockTypeFixedElementHint",hint:"When using this page gate option your web page should be built to use it. Elements to be revealed on form submission should use the class "+u.Config.plugins.pagelock.showFixedElementSelector+". Elements to be hidden on form submission should use the class "+u.Config.plugins.pagelock.hideFixedElementSelector+".",type:"notice",conditions:[{action:"show",conditionTest:"gateConfigAttribute('gateType') === 'pagelock' && gateConfigAttribute('pagelockType') === 'pagelockFixedElement'"}]}),e.addField("content",{id:"pagelockDelay",label:"Page gate delay (seconds)",hint:"Set the delay (in seconds)",required:"true",type:"text",dataType:"number",conditions:[{action:"show",conditionTest:"(gateConfigAttribute('gateType') === 'pagelock' && gateConfigAttribute('pagelockType') === 'pagelockDelayed')"}]}),e.addField("content",{id:"pagelockScroll",label:"Page gate scroll (pixels)",hint:"Set the distance that the user should scroll (in pxiels)",required:"true",type:"text",dataType:"number",conditions:[{action:"show",conditionTest:"(gateConfigAttribute('gateType') === 'pagelock' && gateConfigAttribute('pagelockType') === 'pagelockOnScroll')"}]}),e.addField("content",{id:"pagelockCustomSelector",label:"Page gate custom element selector",hint:"Set the CSS selector for the element that should be hidden",required:"true",type:"text",conditions:[{action:"show",conditionTest:"(gateConfigAttribute('gateType') === 'pagelock' && gateConfigAttribute('pagelockType') === 'pagelockCustomElement')"}]})}))},namespace:c,extendGate:function(){var t=this,e=!1,i=!1,n=t.getConfigAttribute("pagelockType"),o=function(){"pagelockDelayed"===n?setTimeout(d,1e3*t.getConfigAttribute("pagelockDelay")):"pagelockOnScroll"===n?window.addEventListener("scroll",function e(){window.scrollY>t.getConfigAttribute("pagelockScroll")&&(d(),window.removeEventListener("scroll",e))}):"pagelockFixedElement"===n?(e=!0,a(u.Config.plugins.pagelock.hideFixedElementSelector,u.Config.plugins.pagelock.showFixedElementSelector,"hide")):"pagelockCustomElement"===n?a(!(e=!0),t.getConfigAttribute("pagelockCustomSelector"),"hide"):d()},a=function(e,t,i){e=!!e&&document.querySelectorAll(e),t=!!t&&document.querySelectorAll(t);e&&r(e,"show"===i?"none":"block"),t&&r(t,"show"===i?"block":"none")},r=function(e,t){if(e)for(var i in e)e.hasOwnProperty(i)&&(e[i].style.display=t)},s=function(){"pagelockFixedElement"===n||"pagelockCustomElement"===n?("pagelockFixedElement"===n?a(u.Config.plugins.pagelock.hideFixedElementSelector,u.Config.plugins.pagelock.showFixedElementSelector,"show"):"pagelockCustomElement"===n&&a(!1,t.getConfigAttribute("pagelockCustomSelector"),"show"),window.isGcdcPortal||(t.wrapperElem.style.display="none")):e&&(e=!1,u.Modules.UI.closeModal(!0)),g||(t.handleContentInteraction("pagelock","pageLockView"),g=!0)},l=function(){return!(t.gateOpen()||window.gcdcPageLocked&&window.gcdcPageLockGateID!==t.id||window.isGcdcPortal)},d=function(){e=!0,window.gcdcPageLocked=!0,window.gcdcPageLockGateID=t.id,u.Modules.UI.openModal(t.wrapperElem,!0)};"pagelockFixedElement"===n||"pagelockCustomElement"===n||window.isGcdcPortal||(t.forceModal=!0),t.eventManager.on("visibilityUpdated",function(){i?e&&!l()&&s():(i=!0,l()?(u.Modules.Utilities.log(c,"setup","info","Gate ID:",t.id,"Page is locked, displaying pagelock form"),o()):window.isGcdcPortal||s())},c),t.eventManager.on("submitted",function(){s()},c),u.Modules.Utilities.log(c,"setup","info","Gate ID:",t.id,"Gate pagelock functionality added")}})}(window[window.GatedContentObject]),function(r){r.Config.plugins.redirect={active:!1,name:"Redirect",plugin:"Redirect",allowGateTypeOverrides:!1,allowedGateTypeOverrides:[]},r.Resources.Templates.redirectLinkTemplate=function(e){return["div.gcdc-content-download-link",["p",[["a",{href:e.redirectUrl||"#",target:"_blank"},["span"],e.redirectText]]]]};var s;r.Plugins=r.Plugins||{},r.Plugins.Redirect={init:function(){r.Modules.Utilities.log(s,"init","init","Module initialised"),r.Config.plugins.redirect.active&&(r.Config.gates.gateTypes.redirect=r.Config.plugins.redirect.name,r.Config.tracking.triggers.redirect={},r.Config.tracking.triggers.redirect.redirect={allowMultiple:!1,name:"Redirected to URL",description:"This event will be triggered when a user is redirect to another URL by a gate."},window.isGcdcPortal&&window.GateEditorConfig&&window.addEventListener("gcdcGateEditorConfigInit",function(e){e=e.detail;r.Config.plugins.redirect.allowGateTypeOverrides&&e.addField("content",{id:"redirectOverride",label:"Redirect after submission",type:"toggle",conditions:[{action:"show",conditionTest:function(){var e,t=[];for(e in r.Config.plugins.redirect.allowedGateTypeOverrides){var i=r.Config.plugins.redirect.allowedGateTypeOverrides[e];t.push("gateConfigAttribute('gateType') === '"+i+"'")}return t.join(" || ")}()}]}),e.addField("content",{id:"redirectUrl",label:"Redirect URL",hint:"Enter the URL for this redirect",required:"true",type:"text",dataType:"url",conditions:[{action:"show",conditionTest:"gateConfigAttribute('gateType') === 'redirect' || gateConfigAttribute('redirectOverride') === 'true'"}]}),e.addField("content",{id:"redirectText",label:"Redirect button text",hint:"Enter the text which should be displayed in the redirect button",required:"true",type:"text",conditions:[{action:"show",conditionTest:"gateConfigAttribute('gateType') === 'redirect' || gateConfigAttribute('redirectOverride') === 'true'"}]}),e.addField("content",{id:"redirectNewTab",label:"Open redirect in new tab",hint:"If active, the redirect link will open in a new browser tab",type:"toggle",conditions:[{action:"show",conditionTest:"gateConfigAttribute('gateType') === 'redirect' || gateConfigAttribute('redirectOverride') === 'true'"}]})}))},namespace:s="Plugins.Redirect",extendGate:function(){var e,t,i,n,o=this,a=!1;i=o.getConfigAttribute("redirectText"),n=o.getConfigAttribute("redirectNewTab"),o.eventManager.on("contentRendered",function(){e=r.Modules.Template.render("redirectLink",{redirectUrl:n?o.getConfigAttribute("redirectUrl"):"",redirectText:i,lang:o.getConfigAttribute("lang")}),t=e.querySelector("p a"),o.contentElem.appendChild(e),t&&r.Modules.UI.addCaughtEventListener(t,"click",function(e){n||(o.hideContent(),e.preventDefault()),a=!0,o.handleContentInteraction("redirect","redirect")})},s),o.eventManager.on("gateBuilt",function(){n?o.eventManager.on("submitted",function(){a||o.form.blindSubmitted||(a=!0,r.Modules.Utilities.setCaughtTimeout(function(){window.open(o.getConfigAttribute("redirectUrl"),"_blank"),o.handleContentInteraction("redirect","redirect")},1e3))},s):"function"==typeof o.form.customSubmissionBehaviour?o.eventManager.on("submitted",function(){a||o.form.blindSubmitted||(a=!0,r.Modules.Utilities.setCaughtTimeout(function(){o.handleContentInteraction("redirect","redirect"),r.Modules.Utilities.setCaughtTimeout(function(){window.location=o.getConfigAttribute("redirectUrl")},2500)},500))},s):(o.forceBlindSubmitOnContentInteraction=!0,o.setConfigAttribute("formSubmissionBehaviour","s"),o.eventManager.on("synchronousSubmission",function(){o.handleContentInteraction("redirect","redirect")},s))}),o.eventManager.on("openGateModal",function(){o.gateOpen()&&(o.handleContentInteraction("redirect","redirect"),n?(o.preventModalOpeningOnce=!0,window.open(o.getConfigAttribute("redirectUrl"),"_blank")):o.hideContent())},s),r.Modules.Utilities.log(s,"setup","info","Gate ID:",o.id,"Gate redirect functionality added")}}}(window[window.GatedContentObject]),function(v){v.Config.plugins.youtube={active:!1,name:"YouTube",plugin:"YouTube",modalVideoAutoplay:!0},v.Resources.Templates.youtubeVideoTemplate=function(e){return["div.gcdc-content-youtube-video",["iframe.youtubeVideo",{id:e.elemId,src:"https://www.youtube.com/embed/"+e.youtubeId+"?enablejsapi=1&rel=0",frameborder:0,allowfullscreen:"allowfullscreen"}]]},v.Plugins=v.Plugins||{},v.Plugins.YouTube=function(){var h="Plugins.YouTube";YTQ=[];return{init:function(){v.Modules.Utilities.log(h,"init","init","Module initialised"),v.Config.plugins.youtube.active&&(v.Config.gates.gateTypes.youtube=v.Config.plugins.youtube.name,v.Config.tracking.triggers.youtube={},v.Config.tracking.triggers.youtube.videoPlay={allowMultiple:!1,name:"Video played",description:"This event will be triggered when a YouTube video starts playing for the first time."},v.Config.tracking.triggers.youtube.videoPause={allowMultiple:!0,name:"Video paused",description:"This event will be triggered every time a YouTube video is paused."},v.Config.tracking.triggers.youtube.videoResume={allowMultiple:!0,name:"Video resumed",description:"This event will be triggered every time a YouTube video is resumed."},v.Config.tracking.triggers.youtube.videoCompleted={allowMultiple:!1,name:"Video completed",description:"This event will be triggered when a YouTube video plays to the end for the first time."},v.Config.tracking.triggers.youtube.video25Perc={allowMultiple:!1,name:"Video 25%",description:"This event will be triggered when a YouTube video plays to the 25% marker for the first time."},v.Config.tracking.triggers.youtube.video50Perc={allowMultiple:!1,name:"Video 50%",description:"This event will be triggered when a YouTube video plays to the 50% marker for the first time."},v.Config.tracking.triggers.youtube.video75Perc={allowMultiple:!1,name:"Video 75%",description:"This event will be triggered when a YouTube video plays to the 75% marker for the first time."},v.Config.tracking.triggers.youtube.video100Perc={allowMultiple:!1,name:"Video 100%",description:"This event will be triggered when a YouTube video plays to the 100% marker for the first time."},window.isGcdcPortal&&window.GateEditorConfig&&window.addEventListener("gcdcGateEditorConfigInit",function(e){e.detail.addField("content",{id:"youtubeId",label:"YouTube ID",hint:"Enter the ID for this YouTube video. This can be found in the URL for the video, eg: https://www.youtube.com/watch?v=XXXXXXXXX, where XXXXXXXXX is the video ID",required:"true",type:"text",conditions:[{action:"show",conditionTest:"gateConfigAttribute('gateType') === 'youtube'"}]})}))},namespace:h,extendGate:function(){function e(){v.Modules.UI.isDescendant(v.Modules.UI.getCurrentModalDialogElement(),i)&&"function"==typeof n.getPlayerState&&("2"==n.getPlayerState()||v.Config.plugins.youtube.modalVideoAutoplay)&&n.playVideo()}function t(e){"1"==e.data?(u&&(l.handleContentInteraction("youtube","videoResume",{videoLength:s,currentPosition:m()}),u=!1),d||(s=Math.round(n.getDuration()),l.handleContentInteraction("youtube","videoPlay",{videoLength:s,currentPosition:0}),c||(c=!0,r=v.Modules.Utilities.setCaughtInterval(f,1e3)),d=!0)):"0"==e.data?(l.handleContentInteraction("youtube","videoCompleted",{videoLength:s,currentPosition:s}),-1===g.indexOf(100)&&(g.push(100),l.handleContentInteraction("youtube","video100Perc",{videoLength:s,currentPosition:s})),clearInterval(r)):"2"!=e.data||u||(l.handleContentInteraction("youtube","videoPause",{videoLength:s,currentPosition:m()}),u=!0)}var i,n,o,a,r,s,l=this,d=!1,u=!1,c=!1,g=[],p=function(){n=new window.YT.Player(o,{videoId:a,events:{onReady:e,onStateChange:t}}),v.Modules.UI.eventManager.on("modalClosed",function(){"1"==n.getPlayerState()&&n.pauseVideo()},h),v.Modules.UI.eventManager.on("modalOpened",function(){l.gateOpen()&&e()},h)},f=function(){for(var e=m(),t=e/s*100,i=25;i<=100;i+=25)i<=t&&-1===g.indexOf(i)&&""!==v.Config.tracking["video"+i+"PercEventAction"]&&(g.push(i),l.handleContentInteraction("youtube","video"+i+"Perc",{videoLength:s,currentPosition:e}))},m=function(){return Math.round(n.getCurrentTime())};a=l.getConfigAttribute("youtubeId"),void 0===window.YT&&v.Modules.Utilities.loadScript("https://www.youtube.com/iframe_api"),l.eventManager.on("contentRendered",function(){o=l.id+"youtube_video",i=v.Modules.Template.render("youtubeVideo",{elemId:o,youtubeId:a}),l.contentElem.appendChild(i),void 0!==window.YT?p():(YTQ.push(p),void 0===window.onYouTubeIframeAPIReady&&(window.onYouTubeIframeAPIReady=function(){for(var e in YTQ)(0,YTQ[e])()}))},h),v.Modules.Utilities.log(h,"setup","info","Gate ID:",l.id,"Gate YouTube functionality added")}}}()}(window[window.GatedContentObject]),function(l){function e(){var e;h?"function"==typeof window.GetElqCustomerGUID?(w=window.GetElqCustomerGUID(),f.storeEmitData("elqCustomerGUID",w),null===l.Modules.Storage.readStorage("elqIgnoreGuid"+w)||null!==C&&""!==C||null!==M&&""!==M?(l.Modules.Utilities.log(m,"getEloquaCustomerGUID","info","Customer guid found:",w),o()):(l.Modules.Utilities.log(m,"getEloquaCustomerGUID","warning","Customer guid",w,"has previously been supressed and will not be used for pre-pop"),a(!1))):0<b?(e=y-b+1,b--,e/5%1==0?(window._elqQ.push(["elqGetCustomerGUID"]),l.Modules.Utilities.log(m,"getEloquaCustomerGUID","warning","Attempt",e,"to find customer GUID fail, re-submitting request to eloqua and re-queuing")):l.Modules.Utilities.log(m,"getEloquaCustomerGUID","warning","Attempt",e,"to find customer GUID fail, re-queuing"),l("getEloquaCustomerGUID")):null!==M&&""!==M?(l.Modules.Utilities.log(m,"getEloquaCustomerGUID","error","Failed to find customer GUID after",y,"attempts but URL contains a PURL, attempting to identify contact using this"),o()):(l.Modules.Utilities.log(m,"getEloquaCustomerGUID","error","Failed to find customer GUID after",y,"attempts"),a(!1)):window._elqQ?(l.Modules.Utilities.log(m,"getEloquaCustomerGUID","info","Customer guid lookup request sent to Eloqua"),window._elqQ.push(["elqGetCustomerGUID"]),h=!0,l("getEloquaCustomerGUID")):0<v?(v--,l.Modules.Utilities.log(m,"getEloquaCustomerGUID","warning","Eloqua not ready, waiting"),l("getEloquaCustomerGUID")):(l.Modules.Utilities.log(m,"getEloquaCustomerGUID","warning","Eloqua still not ready, giving up"),a(!1))}function t(e){return e.slice(0,8)+"-"+e.slice(8,12)+"-"+e.slice(12,16)+"-"+e.slice(16,20)+"-"+e.slice(20,32)}function i(e,t,i,n,o,a){var r,s;window._elqQ&&l.Config.plugins.eloqua.active?"object"==typeof n&&"function"==typeof o?(p=l.Modules.Utilities.setCaughtTimeout(function(){l.Modules.Utilities.log(m,"doDataLookup","error","Data lookup failed to return anything"),"function"==typeof a&&a()},1500),window.SetElqContent=(r=n,s=o,function(){window.clearTimeout(p);var e,t={};for(e in r){var i=r[e];if("object"==typeof i)for(var n in i)t[i[n]]=window.GetElqContentPersonalizationValue(i[n]);else t[i]=window.GetElqContentPersonalizationValue(i)}s(t)}),t&&i?(n="<"+t+">"+i+"</"+t+">",_elqQ.push(["elqDataLookup",escape(e),n])):_elqQ.push(["elqDataLookup",escape(e),""])):(l.Modules.Utilities.log(m,"doDataLookup","error","Valid object of required fields and callback function required"),"function"==typeof a&&a()):(l.Modules.Utilities.log(m,"doDataLookup","error","Eloqua not active on this page"),"function"==typeof a&&a())}function n(e){for(var t in k)e[t]&&""!==e[t]&&(l.Modules.Utilities.log(m,"mapFields","info","Value of Eloqua contact field",t,"is:",e[t]),f.storeEmitData(t,e[t]));a(!0)}function o(e){e=e||0,null!==M&&""!==M&&e<1?(l.Modules.Utilities.log(m,"identifyContact","info","Attempting to find record using email PURL (method 1)",M),l.Modules.XHR.getJson("https://app.gatedcontent.com/tpp/eloqua/"+l.Config.account.id+"/contact-purl/"+M,function(e){!1===e.Error?(l.Modules.Utilities.log(m,"identifyContact","info","Found contact record using email PURL (method 1)",M),l.Modules.Storage.writeStorage("elqEmailRecip",C,l.Config.storage.defaultUserDataRetention),f.clearData(),n(e.Body)):(l.Modules.Utilities.log(m,"identifyContact","error","Failed to find a contact record using email PURL (method 1)",M),o(1))},function(){o(1)})):w&&null!==C&&""!==C&&""!==l.Config.plugins.eloqua.dataLookupIdsemailRecipientLookup&&""!==l.Config.plugins.eloqua.dataLookupIdsemailContactLookup&&e<2?(l.Modules.Utilities.log(m,"identifyContact","info","Attempting to find record using EmailRecipientID (method 2)",t(C)),i(l.Config.plugins.eloqua.dataLookupIdsemailRecipientLookup,l.Config.plugins.eloqua.dataLookupIdsemailRecipientLookupSearchField,t(C),[l.Config.plugins.eloqua.dataLookupIdsemailRecipientLookupReturnField],function(e){""!==e[l.Config.plugins.eloqua.dataLookupIdsemailRecipientLookupReturnField]?i(l.Config.plugins.eloqua.dataLookupIdsemailContactLookup,l.Config.plugins.eloqua.dataLookupIdsemailContactLookupSearchField,e[l.Config.plugins.eloqua.dataLookupIdsemailRecipientLookupReturnField],l.Modules.Utilities.objKeysAsArray(k),function(e){""!==e[l.Config.plugins.eloqua.dataLookupIdsemailContactLookupReturnField]?(l.Modules.Utilities.log(m,"identifyContact","info","Found contact record using EmailRecipientID (method 2)",C),l.Modules.Storage.writeStorage("elqEmailRecip",C,l.Config.storage.defaultUserDataRetention),f.clearData(),n(e)):o(2)},function(){o(2)}):o(2)},function(){o(2)})):w&&l.Config.plugins.eloqua.useApi&&e<3?l.Modules.XHR.getJson("https://app.gatedcontent.com/tpp/eloqua/"+l.Config.account.id+"/contact/"+w,function(e){!1===e.Error?(l.Modules.Utilities.log(m,"identifyContact","info","Found contact record using GUID (method 3)",w),n(e.Body)):(l.Modules.Utilities.log(m,"identifyContact","error","Failed to find a contact record using GUID (method 3)",w),o(3))},function(){o(3)}):w&&""!==l.Config.plugins.eloqua.dataLookupIdsvisitorLookup&&""!==l.Config.plugins.eloqua.dataLookupIdsemailContactLookup&&e<4?i(l.Config.plugins.eloqua.dataLookupIdsvisitorLookup,!1,!1,[l.Config.plugins.eloqua.dataLookupIdsvisitorLookupReturnField],function(e){""!==e[l.Config.plugins.eloqua.dataLookupIdsvisitorLookupReturnField]?i(l.Config.plugins.eloqua.dataLookupIdsemailContactLookup,l.Config.plugins.eloqua.dataLookupIdsemailContactLookupSearchField,e[l.Config.plugins.eloqua.dataLookupIdsvisitorLookupReturnField],l.Modules.Utilities.objKeysAsArray(k),function(e){""!==e[l.Config.plugins.eloqua.dataLookupIdsemailContactLookupReturnField]?(l.Modules.Utilities.log(m,"identifyContact","info","Found contact record using web lookups (method 4)"),n(e)):o(4)},function(){o(4)}):o(4)},function(){o(4)}):w&&""!==l.Config.defaultFields.emailField&&l.Modules.Storage.readStorage(l.Config.storage.userFieldDataPrefix+l.Config.defaultFields.emailField)&&""!==l.Config.plugins.eloqua.dataLookupIdsemailContactLookup&&e<5?(e=l.Modules.Storage.readStorage(l.Config.storage.userFieldDataPrefix+l.Config.defaultFields.emailField),i(l.Config.plugins.eloqua.dataLookupIdsemailContactLookup,l.Config.plugins.eloqua.dataLookupIdsemailContactLookupSearchField,e,l.Modules.Utilities.objKeysAsArray(k),function(e){""!==e[l.Config.plugins.eloqua.dataLookupIdsemailContactLookupReturnField]?(l.Modules.Utilities.log(m,"identifyContact","info","Found contact record using existing user email address (method 5)"),n(e)):o(5)},function(){o(5)})):a(!1)}function a(e){l.Modules.Gate.eventManager.release("buildGate","eloquaLookup",m),l.Modules.Gate.updateAllGateVisibility(),e?l.Modules.Storage.writeStorage("elqLookup","true",l.Config.storage.defaultUserDataRetention):(l.Modules.Utilities.log(m,"tidyUp","error","Couldn't identify user, giving up"),s()),l.Plugins.Eloqua.eventManager.emit("lookupComplete",!0),S=!0}function r(){f.clearData(),l.Modules.Storage.writeStorage("elqIgnoreGuid"+w,"true",l.Config.storage.defaultUserDataRetention),w=null,l.Modules.Utilities.log(m,"forget","info","Cleared Eloqua profile data")}function s(){for(var e in k)l.Modules.Utilities.log(m,"mapFields","info","Emitting previously stored value of Eloqua contact field",e),f.readEmitData(e)}function d(e){l.Config.plugins.eloqua.active&&((e=l.Config.gates.formTypes[e]).fields.push({id:"elqSiteId",name:"elqSiteId",description:"",type:"hidden",defaultValue:l.Config.plugins.eloqua.siteid,setValue:{},conditions:[]},{id:"elqCustomerGUID",name:"elqCustomerGUID",description:"",type:"hidden",defaultValue:"",setValue:{type:"eloqua",value:"elqCustomerGUID"},conditions:[]},{id:"elqCookieWrite",name:"elqCookieWrite",description:"",type:"hidden",defaultValue:"0",setValue:{},conditions:[]}),l.Config.plugins.eloqua.spamProtection&&e.fields.push({id:"elqFormSubmissionToken",name:"elqFormSubmissionToken",description:"",type:"hidden",defaultValue:"",setValue:{},conditions:[]},{id:l.Config.plugins.eloqua.spamHoneypotFieldID,name:l.Config.plugins.eloqua.spamHoneypotFieldID,description:"Enter an address",type:"text",autocomplete:"off",defaultValue:"",setValue:{},conditions:[{trigger:"load",if:{type:"alwaysRun",target:"",attribute:"",condition:"",valueList:[],value:""},then:[{action:"hide",setValue:{type:"",value:""},options:[],matchsetlabel:"",matchsetlabelname:"",matchsetplaceholder:"",matchsetplaceholdername:"",matchsetcontent:"",matchsetcontentname:""}],else:[]}]}))}function u(){if(l.Config.plugins.eloqua.active){if(l.Config.requestedDataSources.eloqua&&"object"==typeof l.Config.requestedDataSources.eloqua)for(var e in l.Config.requestedDataSources.eloqua)k[e]="";C=l.Modules.Utilities.getQsParameter("elq"),M=l.Modules.Utilities.getQsParameter("elq_purl"),window.isGcdcPortal||null!==l.Modules.Storage.readStorage("elqLookup")&&l.Modules.Storage.readStorage("elqEmailRecip")===C&&l.Modules.Storage.readStorage("elqEmailPURL")===M?(s(),l.Plugins.Eloqua.eventManager.emit("lookupComplete",!1),S=!0):(l.Modules.Gate.eventManager.block("buildGate","eloquaLookup",m),l.Modules.Gate.eventManager.on("notMeTrigger",r,m),l("getEloquaCustomerGUID")),l.Modules.Gate.eventManager.on("notMeTrigger",r,m)}}function c(e){return!1}function g(e){var t;l.Config.plugins.eloqua.active&&l.Config.plugins.eloqua.spamProtection&&((t=e.form.getFieldById("elqFormSubmissionToken"))&&(e="https://"+l.Modules.Utilities.getHostName(l.Config.account.submissionUrl)+"/e/formsubmittoken?elqSiteID="+l.Config.plugins.eloqua.siteid,l.Modules.XHR.get(e,function(e){t.setValue(e)})))}var p,f,m,h,v,b,y,w,C,M,k,S;l.Config.plugins.eloqua={active:!1,name:"Eloqua",plugin:"Eloqua",siteid:"",useApi:!1,dataLookupIdsemailRecipientLookup:"",dataLookupIdsemailRecipientLookupSearchField:"V_EmailRecipientID",dataLookupIdsemailRecipientLookupReturnField:"V_Email_Address",dataLookupIdsemailContactLookup:"",dataLookupIdsemailContactLookupSearchField:"C_EmailAddress",dataLookupIdsemailContactLookupReturnField:"C_EmailAddress",dataLookupIdsvisitorLookup:"",dataLookupIdsvisitorLookupReturnField:"V_Email_Address",spamProtection:!1,spamHoneypotFieldID:"address1"},l.Plugins=l.Plugins||{},l.Plugins.Eloqua=(h=!(m="Plugins.Eloqua"),y=b=v=20,M=C=w=null,S=!(k={elqCustomerGUID:""}),{init:function(){l.Plugins.Eloqua.eventManager=new l.Classes.EventManager(l.Plugins.Eloqua),f=l.Modules.DataSources.registerDataSource("eloqua",c,!0),l.Core.registerPlugin("getEloquaCustomerGUID",e),l.Modules.Gate.eventManager.on("formTypeLoaded",d,m),l.Core.eventManager.on("setup",u,m),l.Modules.Gate.eventManager.on("newGateBuilt",g,m),l.Modules.Utilities.log(m,"init","init","Module initialised")},namespace:m,doDataLookup:i,formatGuidFromString:t,areLookupsComplete:function(){return S}})}(window[window.GatedContentObject]),function(o){function t(t){t.form.eachField(function(e){e.config.id==o.Config.defaultFields.companyNameField&&(e.mask=new o.Classes.DemandbaseMask(e,t))})}function i(){var t,e;o.Config.plugins.demandbase.implicitLookup&&(t=function(e){e&&"Detailed"===e.information_level&&(a=e)},e="https://api.demandbase.com/api/v2/ip.json?key="+o.Config.plugins.demandbase.key,o.Modules.XHR.getJson(e,function(e){t(e||!1)}))}var n,a;o.Config.plugins.demandbase={active:!1,name:"Demandbase",plugin:"Demandbase",fieldToCompanyRecordMapping:{},key:"",apiVersion:"",implicitLookup:!1,fieldToImplicitCompanyRecordMapping:{}},o.Plugins=o.Plugins||{},o.Plugins.Demandbase=(a=!(n="Plugins.Demandbase"),{init:function(){var e;o.Config.plugins.demandbase.active&&("string"==typeof o.Config.plugins.demandbase.fieldMapping&&(e=o.Config.plugins.demandbase.fieldMapping.trim().split("\n"),o.Config.plugins.demandbase.fieldToCompanyRecordMapping={},e.forEach(function(e){e=e.split("|");o.Config.plugins.demandbase.fieldToCompanyRecordMapping[e[0]]=e[1]})),o.Core.eventManager.on("setup",function(){o.Modules.Gate.eventManager.on("newGateBuilt",t,n)},n),i()),o.Modules.Utilities.log(n,"init","init","Module initialised")},namespace:n,getImplicitLookupOption:function(){return a},performLookup:function(e,t,i){var n="https://autocomplete.demandbase.com/autocomplete?version=v"+o.Config.plugins.demandbase.apiVersion+"&sequence=0&key="+o.Config.plugins.demandbase.key;e&&""!==e&&(n=n+"&term="+encodeURIComponent(e)),t&&""!==t&&(n=n+"&country="+encodeURIComponent(t)),o.Modules.XHR.getJson(n,function(e){e.picks&&0<e.picks.length?i(e.picks):i(!1)})},dbFormatPicksToOptions:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i],n=null!==n.state?n.company_name+" ("+n.city+", "+n.state+", "+n.country_name+")":n.company_name+" ("+n.city+", "+n.country_name+")";t.push({arrayIndex:i,label:n})}return t}})}(window[window.GatedContentObject]),function(f){f.Classes=f.Classes||{},f.Classes.DemandbaseMask=function(e,r){var t,i,n,o,a,s=this,l=(r.getConfigAttribute("lang"),e.inputElem),d={},u={};function c(e){var t,i=e?f.Config.plugins.demandbase.fieldToImplicitCompanyRecordMapping:f.Config.plugins.demandbase.fieldToCompanyRecordMapping,n=e?f.Plugins.Demandbase.getImplicitLookupOption():u;for(t in i){var o,a=n[i[t]];!a||(o=r.form.getFieldById(t))&&(o.setValue(a,!1,!0),r.form.enriched=!0)}}function g(e){"off"===e?t.setOptions({}):(e="",i&&(e=i.getAttribute("data-gcdc-country")),f.Plugins.Demandbase.performLookup(l.value,e,function(e){d=e,t.setOptions(f.Plugins.Demandbase.dbFormatPicksToOptions(e),"arrayIndex","label")}))}function p(e){t.setOptions({}),u=d[e.value],l.value=u.company_name;e=u.company_name+"<br />"+u.street_address+"<br />"+u.city,e=(e=null!==u.state?e+"<br />"+u.state:e)+"<br />"+u.zip+"<br />"+u.country_name;o&&(o.innerHTML=e,n.classList.add("show"))}s.namespace="Classes.DemandbaseMask("+e.config.id+")",(a=r.form.getFieldById(f.Config.defaultFields.countryField))&&(i=a.inputElem),f.Modules.UI.bindToTextInputField(l,g),t=new f.Classes.Autocomplete(l,p),n=f.Modules.Template.render("addressConfirm",{},r.getConfigAttribute("lang")),e.elem.parentNode.insertBefore(n,e.elem),o=n.querySelector("p.gcdc-confirm-address"),(a=n.querySelector("a.gcdc-confirm-address-button"))&&f.Modules.UI.addCaughtEventListener(a,"click",function(e){e.preventDefault(),c(),n.classList.remove("show")}),(a=n.querySelector("a.gcdc-confirm-address-cancel"))&&f.Modules.UI.addCaughtEventListener(a,"click",function(e){e.preventDefault(),n.classList.remove("show")}),f.Config.plugins.demandbase.implicitLookup&&f.Plugins.Demandbase.getImplicitLookupOption()&&c(!0),f.Modules.Utilities.log(s.namespace,"setup","info","New Demandbase mask created")}}(window[window.GatedContentObject]),function(a){var r,s,l;a.Modules=a.Modules||{},a.Modules.Utilities.mergeDeep(a.Config,{environment:"production",account:{id:"67770621",submissionUrl:"https://s1879417329.t.eloqua.com/e/f2",active:1},plugins:{brainshark:{active:"",clientDirectory:""},brightcove:{active:"",accountId:"",playerId:""},download:{active:!0,modalAutodownload:!0},hubspotmeeting:{active:"",schedulerName:""},iframe:{active:""},pagelock:{active:!0,enabledPagelockImmediate:!0,enabledPagelockDelayed:!0,enabledPagelockOnScroll:!0,enabledPagelockFixedElement:"",enabledPagelockCustomElement:"",hideFixedElementSelector:".gcdc-pagegate-hide-on-open",showFixedElementSelector:".gcdc-pagegate-hide-on-open"},pathfactory:{active:""},redirect:{active:!0},vidyard:{active:"",sendEmailQS:"",modalVideoAutoplay:!0},vimeo:{active:"",modalVideoAutoplay:!0},wistia:{active:""},youtube:{active:!0,modalVideoAutoplay:!0},eloqua:{active:!0,siteid:"1879417329",dataLookupIdsemailRecipientLookup:"",dataLookupIdsemailRecipientLookupSearchField:"V_EmailRecipientID",dataLookupIdsemailRecipientLookupReturnField:"V_Email_Address",dataLookupIdsemailContactLookup:"",dataLookupIdsemailContactLookupSearchField:"C_EmailAddress",dataLookupIdsemailContactLookupReturnField:"C_EmailAddress",dataLookupIdsvisitorLookup:"",dataLookupIdsvisitorLookupReturnField:"V_Email_Address",spamProtection:"",spamHoneypotFieldID:"address1",useApi:"true"},demandbase:{active:!0,key:"3443760a12f6f4584dfb5f66af66c41105f14708",apiVersion:"2",fieldMapping:"$AddressLine1|street_address\n$City|city\n$StateorProvince|state\n$ZiporPostalCode|zip\n$DemandbaseAnnualSales|annual_sales\n$DemandbaseB2B|b2b\n$DemandbaseB2C|b2c\n$DemandbaseCity|city\n$DemandbaseCompany|company_name\n$DemandbaseCountryCode|country\n$DemandbaseCountryName|country_name\n$DemandbaseID|demandbase_sid\n$DemandbaseEmployeeCount|employee_count\n$DemandbaseEmployeeRange|employee_range\n$DemandbaseForbes2000|forbes_2000\n$DemandbaseFortune1000|fortune_1000\n$DemandbaseIndustry|industry\n$DemandbaseLatitude|latitude\n$DemandbaseLongitude|longitude\n$DemandbaseMarketingAlias|marketing_alias\n$DemandbaseBusinessPhone|phone\n$DemandbasePrimaryNAICS|primary_naics\n$DemandbaseSICPrimary|primary_sic\n$DemandbaseRevenueRange|revenue_range\n$DemandbaseState|state\n$DemandbaseStockTicker|stock_ticker\n$DemandbaseAddress|street_address\n$DemandbaseSubIndustry|sub_industry\n$DemandbaseTraffic|traffic\n$DemandbaseWebSite|web_site\n$DemandbaseZipPostalCode|zip"},dnb:{active:"",key:"",activeURLs:"",fieldMapping:""},ga:{active:""},googleplaces:{active:"",apiKey:""},hubspot:{active:""},marketo:{active:"",appUrl:"",munchkinId:"",formId:"",emailPrepopUrl:""},pardot:{active:"",accountId:""},social:{active:"",facebook_app_key:"",linkedin_app_key:"",redirect_url:""}},advancedSettings:{rootDomain:"",useTrackingCookies:!1,trackingCookieAllowedDomains:"",liveValidateForms:!1,countrySelectorSubmitLabels:!1,countrySelectorRemoveCountries:"",countrySelectorRelabelCountries:"CN|EN|Mainland China\nCN|ZH|\nHK|EN|Hong Kong Special Administrative Region, China\nHK|ZH|\nMO|EN|Macao Special Administrative Region, China\nMO|ZH|\nTW|EN|Taiwan, China\nTW|ZH|",detectPrivacyBlocking:!1,detectPrivacyBlockingURL:"",privacyBlockingMessage:"",disableFormsOnPrivacyBlocking:!1,browserPrivacyCheck:!0,oneTrustCheck:!1,oneTrustFunctionalGroup:"C0003",oneTrustPerformanceGroup:"C0002"},supportedLanguages:{de:"German",en:"English","en-us":"English (US)",es:"Spanish","es-la":"Spanish (Latin American)",fr:"French",it:"Italian",ja:"Japanese",ko:"Korean",pl:"Polish",pt:"Portuguese",ru:"Russian",tr:"Turkish",zh:"Chinese"},defaultFields:{firstNameField:"$FirstName",lastNameField:"$LastName",emailField:"$EmailAddress",countryField:"$Country",companyNameField:"$Company",jobRoleField:"$JobRole",industryField:"$Application",optinField:"$MarketingOptIn"},previewableEntities:{form_types:!0,events:!0,translations:!0},requestedDataSources:{eloqua:{C_FirstName:!0,C_LastName:!0,C_EmailAddress:!0,C_Company:!0,C_Country:!0,C_Vertical__SFDC_1:!0,C_Job_Function1:!0,C_Job_Role1:!0,C_Vertical_Segment__SFDC_1:!0,C_Company_Size1:!0,C_Address1:!0,C_Address2:!0,C_City:!0,C_Zip_Postal:!0,C_BusPhone:!0,C_Explicit_Email_Opt_In1:!0,C_State_Prov:!0,C_APPLICATION1:!0},string:{"Service Providers":!0,"Financial Services":!0,NA:!0,APAC:!0,EMEA:!0,LA:!0,GatedContentMasterForm:!0},browser:{pageurl:!0,operatingSystem:!0,useragent:!0,browser:!0},queryString:{tactic_detail:!0,tactic_type:!0,id:!0}}}),a.Config.gates.gateTypes.gotowebinar="GotoWebinar",a.Config.gates.scrollToGateTopOnSubmission=!0,a.Resources.Templates.formIntroTemplate=function(e,t){return["div.gcdc-form-intro.gcdc-form-group.gcdc-form-group-padded",[["div.gcdc-form-message",a.Modules.Template.deWidofy(e.message)]]]},a.Resources.Templates.formFooterTemplate=function(e,t){return[""]},a.Modules.AppCustom=(s=["tactic_type","tactic_detail"],l="gcdc_attrib_",{init:function(){for(var e in s){var t,i,n,o;s.hasOwnProperty(e)&&(e=s[e],t=a.Modules.Utilities.getQsParameter(e),i=a.Modules.Storage.readCookie(l+e),n=a.Modules.Storage.readStorage("userData-queryString"+e),o="",t&&""!==t?o=t:n&&""!==n?o=n:i&&""!==i&&(o=i),""!==o&&o!==i&&a.Modules.Storage.createCookie(l+e,n,0,"/",".zebra.com"),""===o||n&&""!=n||a.Modules.Storage.writeStorage("userData-queryString"+e,i))}a.Modules.Utilities.log(r,"init","init","Module initialised")},namespace:r="Modules.AppCustom"})}(window[window.GatedContentObject]),function(r){function s(){try{if(r.q||(r.q=[]),0<r.q.length){var e=r.q;r.q=[];for(var t=0;t<e.length;t++){for(var i=e[t],n=[],o=0;o<i.length;o++)n[o]=i[o];var a=n.shift();c||"setup"==a?void 0!==d[a]?(r.Modules.Utilities.log(l,"runQ","info","Running plugin:",a),d[a].apply(this,n)):r.Modules.Utilities.log(l,"runQ","info","The queued task:",a,"could not be found as a plugin and has been skipped"):(r.Modules.Utilities.log(l,"runQ","info","Task for:",a,"has been re-queued as account setup has not been completed"),r.q.push(e[t]))}}}catch(e){r.Modules.Utilities.log(l,"runQ","critical","The queue could not be processed because:"+e.message)}r.Modules.Utilities.setCaughtTimeout(s,r.Config.qTime)}function a(){r.Config.account.active?(r.Modules.Utilities.log(l,"setup","info","Setting up for account ID",r.Config.account.id,"in",r.Config.mode,"mode"),r.Modules.Utilities.log(l,"setup","info","Set up for account",r.Config.account.id,"complete"),c=!0,r.Core.eventManager.emit("setup"),r.Core.eventManager.emit("postSetup")):r.Modules.Utilities.log(l,"setup","critical","Account ID",r.Config.account.id,"is not active, stopping setup")}var l,d,u,c;r.Vendor=r.Vendor||{},r.Classes=r.Classes||{},r.Modules=r.Modules||{},r.Plugins=r.Plugins||{},r.Resources=r.Resources||{},r.Core=r.Core||(c=u=!(d={}),{namespace:l="Core",preInit:function e(){if(r.Modules.Utilities.isIE()&&r.Modules.Utilities.isIE()<=10)r.Modules.Gate.safeMode();else{var t,i=!0;for(t in r.Modules)r.Modules[t].preInit&&!r.Modules[t].preInitComplete()&&(i=!1,r.Modules[t].preInitRunning()||r.Modules[t].preInit(e));if(i&&!u){for(var n in r.Core.eventManager=new r.Classes.EventManager(r.Core),r.Modules)r.Modules[n].init();for(var o in r.Plugins)r.Plugins[o].init();if(r.Config.initTimestamp=(new Date).getTime().toString(),r.Modules.Utilities.log(l,"init","init","gc.js version 3 initialised"),u=!0,r.Config.debug.active)a(),r.Modules.Utilities.log(l,"init","info","Starting queue"),s();else try{a(),r.Modules.Utilities.log(l,"init","info","Starting queue"),s()}catch(e){r.Modules.Utilities.log(l,"init","critical","Error in setup:"+e.message)}}}},registerPlugin:function(e,t){d[e]=t},checkSetupComplete:function(){return c}}),r.gcdcActive||(r.gcdcActive=!0,"loading"!==document.readyState?r.Core.preInit():document.addEventListener("DOMContentLoaded",r.Core.preInit))}(window[window.GatedContentObject]);