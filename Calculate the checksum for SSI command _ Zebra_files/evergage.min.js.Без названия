window.evergageBeaconParseTimeStart = (new Date().getTime());
'use strict';var Evergage=function(p){function z(d){z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};return z(d)}function Ca(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function");}function ic(d,c){for(var a=0;a<c.length;a++){var b=c[a];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(d,
b.key,b)}}function Da(d,c,a){c&&ic(d.prototype,c);a&&ic(d,a);return d}function M(d,c,a){c in d?Object.defineProperty(d,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):d[c]=a;return d}function jc(d,c){var a=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);c&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable}));a.push.apply(a,b)}return a}function y(d){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};
c%2?jc(a,!0).forEach(function(b){M(d,b,a[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(a)):jc(a).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(a,b))})}return d}function de(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,writable:!0,configurable:!0}});c&&Za(d,c)}function pa(d){pa=Object.setPrototypeOf?
Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)};return pa(d)}function Za(d,c){Za=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return Za(d,c)}function qa(d,c){if(null==d)return{};if(null==d)var a={};else{a={};var b=Object.keys(d),e;for(e=0;e<b.length;e++){var f=b[e];0<=c.indexOf(f)||(a[f]=d[f])}}if(Object.getOwnPropertySymbols)for(e=Object.getOwnPropertySymbols(d),f=0;f<e.length;f++)b=e[f],0<=c.indexOf(b)||Object.prototype.propertyIsEnumerable.call(d,
b)&&(a[b]=d[b]);return a}function $a(d,c,a){$a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(a,c,d){for(;!Object.prototype.hasOwnProperty.call(a,c)&&(a=pa(a),null!==a););if(a)return c=Object.getOwnPropertyDescriptor(a,c),c.get?c.get.call(d):c.value};return $a(d,c,a||d)}function ra(d,c){var a=Array.isArray(d)?d:void 0;if(!a){a=[];var b=!0,e=!1,f=void 0;try{for(var g=d[Symbol.iterator](),h;!(b=(h=g.next()).done)&&(a.push(h.value),!c||a.length!==c);b=!0);}catch(n){e=!0,f=n}finally{try{if(!b&&
null!=g["return"])g["return"]()}finally{if(e)throw f;}}}if(!(d=a))throw new TypeError("Invalid attempt to destructure non-iterable instance");return d}function ab(d){if(Array.isArray(d)){var c=0;for(var a=Array(d.length);c<d.length;c++)a[c]=d[c];c=a}else c=void 0;c||(c=Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d)?Array.from(d):void 0);if(!(d=c))throw new TypeError("Invalid attempt to spread non-iterable instance");return d}function bb(d){var c=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:D;return c&&9===c.nodeType||c&&1===c.nodeType?ee.test(d)?c.getElementsByClassName(d.slice(1)):fe.test(d)?c.getElementsByTagName(d):c.querySelectorAll(d):[]}function ge(d,c){return c.toUpperCase()}function sa(d){return d.replace(he,ge)}function A(d,c){for(var a=0,b=d.length;a<b&&!1!==c.call(d[a],a,d[a]);a++);}function kc(d){for(var c=arguments.length,a=Array(1<c?c-1:0),b=1;b<c;b++)a[b-1]=arguments[b];c=arguments;a=c.length;for(b=2>a?0:1;b<a;b++)for(var e in c[b])d[e]=
c[b][e];return d}function cb(d,c){var a=d&&(d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.msMatchesSelector||d.oMatchesSelector);return!!a&&a.call(d,c)}function ta(d,c,a){for(var b=[],e=0,f=d.length;e<f;e++)for(var g=d[e][c];null!=g;){b.push(g);if(!a)break;g=g[c]}return b}function Ea(d){return!!d&&d===d.window}function fa(d){return"function"===typeof d}function I(d){return"string"===typeof d}function lc(d){return!isNaN(parseFloat(d))&&isFinite(d)}function db(d){return I(d)?function(c,
a){return cb(a,d)}:fa(d)?d:d instanceof k?function(c,a){return d.is(a)}:function(c,a){return a===d}}function ha(d,c){return c&&d.length?d.filter(c):d}function Fa(d){return I(d)?d.match(ie)||[]:[]}function Q(d){return 1<d.length?eb.call(d,function(c,a,b){return mc.call(b,c)===a}):d}function ia(d,c,a){if(d&&1===d.nodeType&&c)return d=ja.getComputedStyle(d,null),c?a?d.getPropertyValue(c)||void 0:d[c]:d}function ka(d,c){return parseInt(ia(d,c),10)||0}function nc(d){if(1<arguments.length&&void 0!==arguments[1]?
arguments[1]:fb.test(d))return d;if(!gb[d]){var c=sa(d),a="".concat(c.charAt(0).toUpperCase()).concat(c.slice(1));c="".concat(c," ").concat(je.join("".concat(a," "))).concat(a).split(" ");A(c,function(a,c){if(c in ke)return gb[d]=c,!1})}return gb[d]}function oc(d,c){return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:fb.test(d))||le[d]||!lc(c)?c:"".concat(c,"px")}function me(d,c){d=d.dataset?d.dataset[c]||d.dataset[sa(c)]:d.getAttribute("data-".concat(c));try{return JSON.parse(d)}catch(a){}return d}
function pc(d,c){return ka(d,"border".concat(c?"Left":"Top","Width"))+ka(d,"padding".concat(c?"Left":"Top"))+ka(d,"padding".concat(c?"Right":"Bottom"))+ka(d,"border".concat(c?"Right":"Bottom","Width"))}function qc(d,c){return!c||!rc.call(c,function(a){return 0>d.indexOf(a)})}function ne(d,c,a,b,e){e.guid=e.guid||m.guid++;var f=d.__cashEvents=d.__cashEvents||{};f[c]=f[c]||[];f[c].push([a,b,e]);d.addEventListener(c,e)}function hb(d){d=d.split(".");return[d[0],d.slice(1).sort()]}function Ga(d,c,a,b,
e){var f=d.__cashEvents=d.__cashEvents||{};if(c)f[c]&&(f[c]=f[c].filter(function(f){var g=ra(f,3);f=g[0];var n=g[1];g=g[2];if(e&&g.guid!==e.guid||!qc(f,a)||b&&b!==n)return!0;d.removeEventListener(c,g)}));else{for(c in f)Ga(d,c,a,b,e);delete d.__cashEvents}}function sc(d){return d.multiple?ta(eb.call(d.options,function(c){return c.selected&&!c.disabled&&!c.parentNode.disabled}),"value"):d.value||""}function tc(d){if(!Ha){var c=D.createElement("table"),a=D.createElement("tr");Ha={"*":uc,tr:D.createElement("tbody"),
td:a,th:a,thead:c,tbody:c,tfoot:c}}if(!I(d))return[];if(oe.test(d))return[D.createElement(RegExp.$1)];c=pe.test(d)&&RegExp.$1;c=Ha[c]||Ha["*"];c.innerHTML=d;return m(c.childNodes).detach().get()}function ib(d){d=m(d);d.filter("script").add(d.find("script")).each(function(c,a){!a.src&&qe.test(a.type)&&a.ownerDocument.documentElement.contains(a)&&eval(a.textContent.replace(re,""))})}function Ia(d,c,a){A(d,function(b,d){A(c,function(c,e){c=b?e.cloneNode(!0):e;a?d.insertBefore(c,a&&d.firstChild):d.appendChild(c);
ib(c)})})}function J(d){J="function"===typeof Symbol&&"symbol"===z(Symbol.iterator)?function(c){return z(c)}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":z(c)};return J(d)}function jb(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function");}function vc(d,c){for(var a=0;a<c.length;a++){var b=c[a];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(d,b.key,b)}}function wc(d,
c,a){c&&vc(d.prototype,c);a&&vc(d,a);return d}function Ja(d,c,a){c in d?Object.defineProperty(d,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):d[c]=a;return d}function xc(d,c){var a=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);c&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable}));a.push.apply(a,b)}return a}function K(d){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?xc(a,!0).forEach(function(b){Ja(d,
b,a[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(a)):xc(a).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(a,b))})}return d}function yc(d){if(Array.isArray(d)){var c=0;for(var a=Array(d.length);c<d.length;c++)a[c]=d[c];c=a}else c=void 0;c||(c=Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d)?Array.from(d):void 0);if(!(d=c))throw new TypeError("Invalid attempt to spread non-iterable instance");
return d}function zc(d){t.setLoggingLevel(d)}function Ac(){return t.getLoggingLevel()}function kb(d){var c,a,b,e=[],f=[a=1732584193,b=4023233417,~a,~b,3285377520],g=[],h=unescape(encodeURI(d))+"\u0080",n=h.length;for(g[d=--n/4+2|15]=8*n;~n;)g[n>>2]|=h.charCodeAt(n)<<8*~n--;for(c=n=0;c<d;c+=16){for(a=f;80>n;a=[a[4]+(e[n]=16>n?~~g[c+n]:2*h|0>h)+1518500249+[b&Z|~b&k,h=341275144+(b^Z^k),882459459+(b&Z|b&k|Z&k),h+1535694389][n++/5>>2]+((h=a[0])<<5|h>>>27),h,b<<30|b>>>2,Z,k]){h=e[n-3]^e[n-8]^e[n-14]^e[n-
16];b=a[1];var Z=a[2];var k=a[3]}for(n=5;n;)f[--n]+=a[n]}for(h="";40>n;)h+=(f[n>>3]>>4*(7-n++)&15).toString(16);return h}function Bc(){var d=(window.navigator.userAgent||"")+(window.navigator.platform||"")+(new Date).getTime+JSON.stringify({})+Math.random();return ua(d).slice(0,16)}function Cc(d,c,a){return"function"===typeof a?{bind:d,selector:c,callback:a}:null}function se(){lb=u.onFireException.on(function(d,c){document.dispatchEvent(new CustomEvent(v.OnException,{detail:{error:d,context:c}}))});
mb=u.onEventSend.on(function(d){document.dispatchEvent(new CustomEvent(v.OnBeforeEventSend,{detail:{actionEvent:d},cancelable:!0}))&&document.dispatchEvent(new CustomEvent(v.OnEventSend,{detail:{actionEvent:d}}))});nb=u.onPageMatchStatusUpdated.on(function(d){document.dispatchEvent(new CustomEvent(v.OnPageMatchStatusUpdated,{detail:{matchStatus:d}}))});ob=u.onInitSitemap.on(function(d){document.dispatchEvent(new CustomEvent(v.OnInitSitemap,{detail:{sitemapConfig:d}}))})}function T(d){lb&&lb();mb&&
mb();nb&&nb();ob&&ob();document.dispatchEvent(new CustomEvent(v.OnShutDown,{detail:{message:d}}));pb="shutDown";return!1}function Ka(d,c,a,b){return d.addEventListener?(d.addEventListener(c,a,b),!0):!1}function aa(d,c,a,b){return d.removeEventListener?(d.removeEventListener(c,a,b),!0):!1}function qb(d){var c=document.createElement("a");c.href=d;return c}function Dc(d){try{return decodeURIComponent(d.replace(/\+/g," "))}catch(c){return null}}function Ec(d){if(d=d.detail&&d.detail.actionEvent)if(d.itemAction&&
d.itemAction.includes("View"))La();else{var c;if(c=d.interaction)d=d.interaction.name,c=d===ca.ViewCatalogObject||d===ca.ViewCatalogObjectDetail||d===ca.QuickViewCatalogObject||d===va.StopQuickViewCatalogObject;c&&La()}}function rb(d){-1!==U&&(sb(!1,d),clearTimeout(U),U=-1)}function La(){if(!q.beaconConfig.doNotTrackPingRequestsForActions){rb(!0);document.removeEventListener(p.CustomEvents.OnEventSend,Ec);document.addEventListener(p.CustomEvents.OnEventSend,Ec);var d=Date.now();if(-1===G||d-G>=q.beaconConfig.minimumActivityTimeToRegister)G=
d;U=setTimeout(function(){sb(!0)},q.beaconConfig.timeOnPageTimerLengthMillis);t.info("Setting up time on page listeners.");aa(window,"unload",tb);Ka(window,"unload",tb);aa(window,"blur",ub);Ka(window,"blur",ub);aa(window,"focus",vb);Ka(window,"focus",vb);aa(document,"mousemove keydown scroll click",wa);Ka(document,"mousemove keydown scroll click",wa)}}function sb(d,c){var a=Date.now();-1!==G&&(a-=G,q.beaconConfig.timeOnPageTimerLengthMillis<a?Ma():(t.trace("Evergage: timeOnPage before: sendActivityPingRequest: ".concat(C)),
C+=a,t.trace("Evergage: timeOnPage after: sendActivityPingRequest: ".concat(C)),-1!==V&&clearTimeout(V),V=setTimeout(Ma,q.beaconConfig.timeOnPageTimerLengthMillis-a)));if(0<C){C=Math.min(C,q.beaconConfig.timeOnPageTimerLengthMillis);if(!0!==c||2E3<=C)c=te(C),ue(c),Fc(c);C=0}0>C&&(C=0);d&&(-1!==U&&clearTimeout(U),U=setTimeout(function(){sb(!0)},q.beaconConfig.timeOnPageTimerLengthMillis))}function te(d){d={timeOnPageMillis:d};var c=Gc(),a={};if(c&&c.itemAction&&c.catalog)a=c.catalog;else if(c&&c.interaction&&
c.interaction.catalogObject){a=c.interaction.catalogObject;var b={},e=a.id,f=a.type,g=qa(a,["id","type"]);e&&f&&(b[a.type]={_id:e});a.relatedCatalogObjects&&(f=g.relatedCatalogObjects,e=f.Category,f=qa(f,["Category"]),Array.isArray(e)&&(b[a.type].categories=Hc(e)),0!==Object.keys(f).length&&(b[a.type].relatedCatalogObjects=f));a=b}0!==Object.keys(a).length&&(d.catalog=a);c&&c.interaction&&null!=c.interaction.name?d.action=c.interaction.name:c&&null!=c.action&&(d.action=c.action);Ic();d.performance=
{};c=qa(x,["sdkLoadTime","sdkParseTime"]);for(var h in c)x[h]&&(d.performance[h]=x[h]);return d}function tb(d){rb()}function ub(d){try{t.trace("Evergage: window blurred"),Ma()}catch(c){w(c,"windowBlurFunction")}}function vb(d){try{t.trace("Evergage: window focused"),wa()}catch(c){w(c,"windowFocusFunction")}}function Ma(){try{-1!==V&&(clearTimeout(V),V=-1);var d=Date.now(),c=0;-1!==G&&(c=d-G);t.trace("Evergage: timeOnPage before: setUserInactive: ".concat(C));C+=c;t.trace("Evergage: timeOnPage after: setUserInactive: ".concat(C));
G=-1}catch(a){w(a,"setUserInactive")}}function wa(){t.trace("activity registered");try{-1!==V&&(clearTimeout(V),V=-1);var d=Date.now();if(-1===G||d-G>=q.beaconConfig.minimumActivityTimeToRegister)-1!==G&&(t.trace("Evergage: timeOnPage before: activityRegistered: ".concat(C)),C+=d-Math.max(G,-1),t.trace("Evergage: timeOnPage after: activityRegistered: ".concat(C))),G=d}catch(c){w(c,"activityRegistered")}}function wb(d,c){d="string"===typeof d?Error(d):d;for(var a in c)Object.defineProperty(d,a,{value:c[a],
enumerable:!1});return d}var da=function(d,c){return c={exports:{}},d(c,c.exports),c.exports}(function(d,c){d.exports=function(){function a(){for(var a=0,b={};a<arguments.length;a++){var c=arguments[a],d;for(d in c)b[d]=c[d]}return b}function b(c){function d(){}function e(b,e,f){if("undefined"!==typeof document){f=a({path:"/"},d.defaults,f);"number"===typeof f.expires&&(f.expires=new Date(1*new Date+864E5*f.expires));f.expires=f.expires?f.expires.toUTCString():"";try{var g=JSON.stringify(e);/^[\{\[]/.test(g)&&
(e=g)}catch(Zf){}e=c.write?c.write(e,b):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);b=encodeURIComponent(String(b)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);g="";for(var h in f)f[h]&&(g+="; "+h,!0!==f[h]&&(g+="="+f[h].split(";")[0]));return document.cookie=b+"="+e+g}}function h(a,b){if("undefined"!==typeof document){for(var d={},e=document.cookie?document.cookie.split("; "):[],f=0;f<e.length;f++){var g=
e[f].split("="),h=g.slice(1).join("=");b||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var n=g[0].replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent);h=(c.read||c)(h,n)||h.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent);if(b)try{h=JSON.parse(h)}catch(xe){}d[n]=h;if(a===n)break}catch(xe){}}return a?d[a]:d}}d.set=e;d.get=function(a){return h(a,!1)};d.getJSON=function(a){return h(a,!0)};d.remove=function(b,c){e(b,"",a(c,{expires:-1}))};d.defaults={};d.withConverter=b;return d}return b(function(){})}()}),D=document,
ja=window,uc=D.createElement("div"),ba=Array.prototype,eb=ba.filter,mc=ba.indexOf,ye=ba.map,Na=ba.push,xb=ba.reverse,Jc=ba.slice,rc=ba.some,ze=ba.splice,Ae=/^#[\w-]*$/,ee=/^\.[\w-]*$/,Be=/<.+>/,fe=/^\w+$/,k=function(){function d(c){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:D;Ca(this,d);if(c){if(c instanceof k)return c;var b=c;if(I(c)){if(b=a instanceof k?a[0]:a,b=Ae.test(c)?b.getElementById(c.slice(1)):Be.test(c)?tc(c):bb(c,b),!b)return}else if(fa(c))return this.ready(c);if(b.nodeType||
b===ja)b=[b];this.length=b.length;a=0;for(var e=this.length;a<e;a++)this[a]=b[a]}}Da(d,[{key:"init",value:function(c,a){return new d(c,a)}}]);return d}(),m=k.prototype.init;m.fn=m.prototype=k.prototype;k.prototype.length=0;k.prototype.splice=ze;"function"===typeof Symbol&&(k.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator]);k.prototype.get=function(d){return void 0===d?Jc.call(this):this[0>d?d+this.length:d]};k.prototype.eq=function(d){return m(this.get(d))};k.prototype.first=function(){return this.eq(0)};
k.prototype.last=function(){return this.eq(-1)};k.prototype.map=function(d){return m(ye.call(this,function(c,a){return d.call(c,a,c)}))};k.prototype.slice=function(){return m(Jc.apply(this,arguments))};var he=/-([a-z])/g;m.camelCase=sa;m.each=A;k.prototype.each=function(d){A(this,d);return this};k.prototype.removeProp=function(d){return this.each(function(c,a){delete a[d]})};k.prototype.extend=function(d){return kc(m.fn,d)};m.extend=kc;m.guid=1;m.matches=cb;var yb=Array.isArray;m.isWindow=Ea;m.isFunction=
fa;m.isString=I;m.isNumeric=lc;m.isArray=yb;k.prototype.prop=function(d,c){if(d){if(I(d))return 2>arguments.length?this[0]&&this[0][d]:this.each(function(a,e){e[d]=c});for(var a in d)this.prop(a,d[a]);return this}};k.prototype.filter=function(d){if(!d)return m();var c=db(d);return m(eb.call(this,function(a,b){return c.call(a,b,a)}))};var ie=/\S+/g;k.prototype.hasClass=function(d){return d&&rc.call(this,function(c){return c.classList.contains(d)})};k.prototype.removeAttr=function(d){var c=Fa(d);return c.length?
this.each(function(a,b){A(c,function(a,c){b.removeAttribute(c)})}):this};k.prototype.attr=function(d,c){if(d){if(I(d)){if(2>arguments.length){if(!this[0])return;var a=this[0].getAttribute(d);return null===a?void 0:a}return void 0===c?this:null===c?this.removeAttr(d):this.each(function(a,e){e.setAttribute(d,c)})}for(a in d)this.attr(a,d[a]);return this}};k.prototype.toggleClass=function(d,c){var a=Fa(d),b=void 0!==c;return a.length?this.each(function(d,f){A(a,function(a,d){b?c?f.classList.add(d):f.classList.remove(d):
f.classList.toggle(d)})}):this};k.prototype.addClass=function(d){return this.toggleClass(d,!0)};k.prototype.removeClass=function(d){return arguments.length?this.toggleClass(d,!1):this.attr("class","")};m.unique=Q;k.prototype.add=function(d,c){return m(Q(this.get().concat(m(d,c).get())))};var fb=/^--/,gb={},ke=uc.style,je=["webkit","moz","ms","o"];m.prefixedProp=nc;var le={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,
widows:!0,zIndex:!0};k.prototype.css=function(d,c){if(I(d)){var a=fb.test(d);d=nc(d,a);if(2>arguments.length)return this[0]&&ia(this[0],d,a);if(!d)return this;c=oc(d,c,a);return this.each(function(b,f){f&&1===f.nodeType&&(a?f.style.setProperty(d,c):f.style[d]=c)})}for(var b in d)this.css(b,d[b]);return this};var Ce=/^data-(.+)/;k.prototype.data=function(d,c){var a=this;if(!d){if(!this[0])return;var b={};A(this[0].attributes,function(c,d){(c=d.name.match(Ce))&&(b[c[1]]=a.data(c[1]))});return b}if(I(d))return void 0===
c?this[0]&&me(this[0],d):this.each(function(a,b){a=c;try{a=JSON.stringify(a)}catch(h){}b.dataset?b.dataset[sa(d)]=a:b.setAttribute("data-".concat(d),a)});for(var e in d)this.data(e,d[e]);return this};A(["Width","Height"],function(d,c){k.prototype["inner".concat(c)]=function(){if(this[0])return Ea(this[0])?ja["inner".concat(c)]:this[0]["client".concat(c)]}});A(["width","height"],function(d,c){k.prototype[c]=function(a){if(!this[0])return void 0===a?void 0:this;if(!arguments.length)return Ea(this[0])?
this[0][sa("outer-".concat(c))]:this[0].getBoundingClientRect()[c]-pc(this[0],!d);var b=parseInt(a,10);return this.each(function(a,f){f&&1===f.nodeType&&(a=ia(f,"boxSizing"),f.style[c]=oc(c,b+("border-box"===a?pc(f,!d):0)))})}});A(["Width","Height"],function(d,c){k.prototype["outer".concat(c)]=function(a){if(this[0])return Ea(this[0])?ja["outer".concat(c)]:this[0]["offset".concat(c)]+(a?ka(this[0],"margin".concat(d?"Top":"Left"))+ka(this[0],"margin".concat(d?"Bottom":"Right")):0)}});var zb={};k.prototype.toggle=
function(d){return this.each(function(c,a){if(void 0!==d?d:"none"===ia(a,"display")){if(a.style.display="","none"===ia(a,"display")){c=a.style;a=a.tagName;if(zb[a])a=zb[a];else{var b=D.createElement(a);D.body.appendChild(b);var e=ia(b,"display");D.body.removeChild(b);a=zb[a]="none"!==e?e:"block"}c.display=a}}else a.style.display="none"})};k.prototype.hide=function(){return this.toggle(!1)};k.prototype.show=function(){return this.toggle(!0)};var Ab={focus:"focusin",blur:"focusout"},Kc={mouseenter:"mouseover",
mouseleave:"mouseout"},De=/^(?:mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;k.prototype.off=function(d,c,a){var b=this;void 0===d?this.each(function(a,b){return Ga(b)}):(fa(c)&&(a=c,c=""),A(Fa(d),function(d,f){d=hb(Kc[f]||Ab[f]||f);d=ra(d,2);var e=d[0],h=d[1];b.each(function(b,d){return Ga(d,e,h,c,a)})}));return this};k.prototype.on=function(d,c,a,b){var e=this;if(!I(d)){for(var f in d)this.on(f,c,d[f]);return this}fa(c)&&(a=c,c="");A(Fa(d),function(d,f){d=hb(Kc[f]||Ab[f]||f);d=ra(d,2);var g=
d[0],h=d[1];e.each(function(d,e){d=function we(d){if(!d.namespace||qc(h,d.namespace.split("."))){var f=e;if(c){for(var n=d.target;!cb(n,c);){if(n===e)return;n=n.parentNode;if(!n)return}f=n;d.__delegate=!0}d.__delegate&&Object.defineProperty(d,"currentTarget",{configurable:!0,get:function(){return f}});n=a.call(f,d,d.data);b&&Ga(e,g,h,c,we);!1===n&&(d.preventDefault(),d.stopPropagation())}};d.guid=a.guid=a.guid||m.guid++;ne(e,g,h,c,d)})});return this};k.prototype.one=function(d,c,a){return this.on(d,
c,a,!0)};k.prototype.ready=function(d){var c=function(){return d(m)};"loading"!==D.readyState?setTimeout(c):D.addEventListener("DOMContentLoaded",c);return this};k.prototype.trigger=function(d,c){if(I(d)){d=hb(d);var a=ra(d,2);d=a[0];a=a[1];var b=De.test(d)?"MouseEvents":"HTMLEvents";var e=D.createEvent(b);e.initEvent(d,!0,!0);e.namespace=a.join(".")}else e=d;e.data=c;var f=e.type in Ab;return this.each(function(a,b){if(f&&fa(b[e.type]))b[e.type]();else b.dispatchEvent(e)})};var Ee=/%20/g,Fe=/file|reset|submit|button|image/i,
Ge=/radio|checkbox/i;k.prototype.serialize=function(){var d="";this.each(function(c,a){A(a.elements||[a],function(a,c){c.disabled||!c.name||"FIELDSET"===c.tagName||Fe.test(c.type)||Ge.test(c.type)&&!c.checked||(a=sc(c),void 0!==a&&(a=yb(a)?a:[a],A(a,function(a,b){a=d;b="&".concat(encodeURIComponent(c.name),"=").concat(encodeURIComponent(b).replace(Ee,"+"));d=a+b})))})});return d.substr(1)};k.prototype.val=function(d){return void 0===d?this[0]&&sc(this[0]):this.each(function(c,a){if("SELECT"===a.tagName){var b=
yb(d)?d:null===d?[]:[d];A(a.options,function(a,c){c.selected=0<=b.indexOf(c.value)})}else a.value=null===d?"":d})};k.prototype.clone=function(){return this.map(function(d,c){return c.cloneNode(!0)})};k.prototype.detach=function(){return this.each(function(d,c){c.parentNode&&c.parentNode.removeChild(c)})};var pe=/^\s*<(\w+)[^>]*>/,oe=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,Ha;m.parseHTML=tc;k.prototype.empty=function(){return this.each(function(d,c){for(;c.firstChild;)c.removeChild(c.firstChild)})};k.prototype.html=
function(d){return void 0===d?this[0]&&this[0].innerHTML:this.each(function(c,a){a.innerHTML=d})};k.prototype.remove=function(){return this.detach().off()};k.prototype.text=function(d){return void 0===d?this[0]?this[0].textContent:"":this.each(function(c,a){a.textContent=d})};k.prototype.unwrap=function(){this.parent().each(function(d,c){d=m(c);d.replaceWith(d.children())});return this};var Lc=D.documentElement;k.prototype.offset=function(){var d=this[0];if(d)return d=d.getBoundingClientRect(),{top:d.top+
ja.pageYOffset-Lc.clientTop,left:d.left+ja.pageXOffset-Lc.clientLeft}};k.prototype.offsetParent=function(){return m(this[0]&&this[0].offsetParent)};k.prototype.position=function(){var d=this[0];if(d)return{left:d.offsetLeft,top:d.offsetTop}};k.prototype.children=function(d){var c=[];this.each(function(a,b){Na.apply(c,b.children)});return ha(m(Q(c)),d)};k.prototype.contents=function(){var d=[];this.each(function(c,a){Na.apply(d,"IFRAME"===a.tagName?[a.contentDocument]:a.childNodes)});return m(Q(d))};
k.prototype.find=function(d){for(var c=[],a=0,b=this.length;a<b;a++){var e=bb(d,this[a]);e.length&&Na.apply(c,e)}return m(Q(c))};var qe=/^$|^module$|\/(?:java|ecma)script/i,re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;k.prototype.append=function(){var d=this;A(arguments,function(c,a){Ia(d,m(a))});return this};k.prototype.appendTo=function(d){Ia(m(d),this);return this};k.prototype.insertAfter=function(d){var c=this;m(d).each(function(a,b){var d=b.parentNode;d&&c.each(function(c,e){c=a?e.cloneNode(!0):
e;d.insertBefore(c,b.nextSibling);ib(c)})});return this};k.prototype.after=function(){var d=this;A(xb.apply(arguments),function(c,a){xb.apply(m(a).slice()).insertAfter(d)});return this};k.prototype.insertBefore=function(d){var c=this;m(d).each(function(a,b){var d=b.parentNode;d&&c.each(function(c,e){c=a?e.cloneNode(!0):e;d.insertBefore(c,b);ib(c)})});return this};k.prototype.before=function(){var d=this;A(arguments,function(c,a){m(a).insertBefore(d)});return this};k.prototype.prepend=function(){var d=
this;A(arguments,function(c,a){Ia(d,m(a),!0)});return this};k.prototype.prependTo=function(d){Ia(m(d),xb.apply(this.slice()),!0);return this};k.prototype.replaceWith=function(d){return this.before(d).remove()};k.prototype.replaceAll=function(d){m(d).replaceWith(this);return this};k.prototype.wrapAll=function(d){if(this[0]){d=m(d);this.first().before(d);for(d=d[0];d.children.length;)d=d.firstElementChild;this.appendTo(d)}return this};k.prototype.wrap=function(d){return this.each(function(c,a){var b=
m(d)[0];m(a).wrapAll(c?b.cloneNode(!0):b)})};k.prototype.wrapInner=function(d){return this.each(function(c,a){c=m(a);a=c.contents();a.length?a.wrapAll(d):c.append(d)})};k.prototype.has=function(d){var c=I(d)?function(a,b){return!!bb(d,b).length}:function(a,b){return b.contains(d)};return this.filter(c)};k.prototype.is=function(d){if(!d||!this[0])return!1;var c=db(d),a=!1;this.each(function(b,d){a=c.call(d,b,d);return!a});return a};k.prototype.next=function(d,c){return ha(m(Q(ta(this,"nextElementSibling",
c))),d)};k.prototype.nextAll=function(d){return this.next(d,!0)};k.prototype.not=function(d){if(!d||!this[0])return this;var c=db(d);return this.filter(function(a,b){return!c.call(b,a,b)})};k.prototype.parent=function(d){return ha(m(Q(ta(this,"parentNode"))),d)};k.prototype.index=function(d){var c=d?m(d)[0]:this[0];d=d?this:m(c).parent().children();return mc.call(d,c)};k.prototype.closest=function(d){if(!d||!this[0])return m();var c=this.filter(d);return c.length?c:this.parent().closest(d)};k.prototype.parents=
function(d){return ha(m(Q(ta(this,"parentElement",!0))),d)};k.prototype.prev=function(d,c){return ha(m(Q(ta(this,"previousElementSibling",c))),d)};k.prototype.prevAll=function(d){return this.prev(d,!0)};k.prototype.siblings=function(d){var c=[];this.each(function(a,b){Na.apply(c,m(b).parent().children(function(a,c){return c!==b}))});return ha(m(Q(c)),d)};var Bb=["error","warn","info","debug","trace"],t=new (function(){function d(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",a=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;jb(this,d);this.console=window.console;this.level=a;this.prefix=c;this.buildLogFunctions()}wc(d,[{key:"shouldLog",value:function(c){return c<=this.level}},{key:"setLoggingLevel",value:function(c){this.level="string"===typeof c?Bb.indexOf(c.toLowerCase())+1:c||0;this.buildLogFunctions()}},{key:"getLoggingLevel",value:function(){return this.level}},{key:"setPrefix",value:function(c){this.prefix=c;this.buildLogFunctions()}},{key:"getPrefix",value:function(){return this.prefix}},
{key:"buildLogFunctions",value:function(){var c=this;Bb.forEach(function(a,b){a=Bb[b];c[a]=c.shouldLog(b+1)?c.getLogFn(a):function(){}})}},{key:"getLogFn",value:function(c){return Function.prototype.bind.call(this.console.log,this.console,"[".concat(c.toUpperCase(),"]").concat(this.prefix?"("+this.prefix+")":"",":"))}}]);return d}()),v;(function(d){d.OnEventSend="interactions:onEventSend";d.OnBeforeEventSend="interactions:onBeforeEventSend";d.OnException="interactions:onException";d.OnPageMatchStatusUpdated=
"interactions:onPageMatchStatusUpdated";d.OnInit="interactions:onInit";d.OnInitSitemap="interactions:onInitSitemap";d.OnShutDown="interactions:onShutDown";d.OnSetAnonymousId="interactions:onSetAnonymousId";d.OnResetAnonymousId="interactions:onResetAnonymousId";d.OnClearPersistedIdentities="interactions:onClearPersistedIdentities";d.OnClearCookie="interactions:onClearCookie";d.OnConsentRevoke="interactions:onConsentRevoke"})(v||(v={}));var ua=kb.default?kb.default:kb,Mc,la=window.location.hostname,
Cb=function(d){la=d;Nc()},Nc=function(){Mc=ua("".concat(ua(la+"/").slice(0,4))).slice(0,4)},Db=function(){return"".concat("_sfid","_").concat(Mc)};document.addEventListener(v.OnClearCookie,function(d){var c=d.detail&&d.detail.options||{};c.domain&&Cb(d.detail.options.domain);Oc(K({domain:la},c))});var Eb=function(){return da.getJSON(Db())},Oc=function(d){da.remove(Db(),d)},Pc=function(d){ma.write(K({},Eb(),{consents:d}),730)},ma={read:Eb,write:function(d,c){da.set(Db(),d,{expires:c,domain:la})},remove:Oc},
He=[/bot/i,/spider/i,/facebookexternalhit/i,/simplepie/i,/yahooseeker/i,/embedly/i,/quora link preview/i,/outbrain/i,/vkshare/i,/monit/i,/Pingability/i,/Monitoring/i,/WinHttpRequest/i,/Apache-HttpClient/i,/getprismatic.com/i,/python-requests/i,/Twurly/i,/yandex/i,/browserproxy/i,/crawler/i,/Qwantify/i,/Yahoo! Slurp/i,/pinterest/i,/Tumblr\/14.0.835.186/i,/Tumblr Agent 14.0/i],Ie=function(d){return He.some(function(c){return c.test(d)})},Je=navigator.vendor&&-1<navigator.vendor.indexOf("Apple")&&navigator.userAgent&&
-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS"),W="";document.addEventListener(v.OnResetAnonymousId,function(){ma.remove();Qc()});document.addEventListener(v.OnSetAnonymousId,function(d){d.detail&&d.detail.newAnonymousId&&(d=d.detail.newAnonymousId,ma.write(K({},Eb(),{anonymousId:d}),730))});var Fb=function(d){(W=d)?document.dispatchEvent(new CustomEvent(v.OnSetAnonymousId,{detail:{newAnonymousId:d}})):t.warn("Attempted to setAnonymousId but not parameter is undefined")},
Qc=function(){Rc()?(W=ma.read().anonymousId,t.debug("Loaded anonymous identity record from cookie: ".concat(JSON.stringify(W)))):(Fb(Bc()),t.debug("Created new anonymous identity record. anonymousId: ".concat(W)));return W},Rc=function(){var d=ma.read();return!!(d&&"object"===J(d)&&0<Object.keys(d).length)},Oa=function(){function d(){jb(this,d);this.listeners=[]}wc(d,[{key:"on",value:function(c){var a=this;(this.listeners=this.listeners||[]).push(c);return function(){a.listeners=a.listeners.filter(function(a){return a!==
c})}}},{key:"once",value:function(c){var a=this;return this.on(function(){a.unbindAll();try{for(var b=arguments.length,d=Array(b),f=0;f<b;f++)d[f]=arguments[f];c.apply(a,d)}catch(g){t.error("Signal listener callback error: "+g)}})}},{key:"emit",value:function(){for(var c=this,a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];0!==this.listeners.length&&this.listeners.forEach(function(a){try{a.apply(c,b)}catch(g){t.error("Signal listener callback error: "+g)}})}},{key:"unbindAll",value:function(){this.listeners=
[]}}]);return d}(),Ke=function(d){t.debug("Unbinding all signals for type: ",d);Object.keys(d).forEach(function(c){d[c].unbindAll&&d[c].unbindAll()})},u=function c(){jb(this,c)};u.onEventSend=new Oa;u.onFireException=new Oa;u.onPageMatchStatusUpdated=new Oa;u.onInitSitemap=new Oa;u.unbindAll=function(){Ke(u)};var r={currentPage:null,matchedConfig:null,matchStatus:null},N={pageTypes:[]},E=null,O;(function(c){c.Pending="pending";c.Running="running";c.Selected="selected";c.Matched="matched";c.Rejected=
"rejected"})(O||(O={}));var Pa=function(c){return new Promise(function(a,b){var e=N.pageTypeDefault;e&&xa({pageName:e.name,status:O.Pending});e&&!c.length?(Gb(e),a(e)):(Le(c),c.map(function(f){Me(f).then(function(g){g?(e&&Sc(e),Gb(f),a(f)):(Sc(f),Ne(c)||(e?(Gb(e),a(e)):b("No matching page found")))}).catch(function(a){"sitemap_reinit"!==a&&u.onFireException.emit(Error("isMatch failed while evaluating the ".concat(f.name," page config")),"Site-wide Javascript")})}))})},Tc=function(){r.matchStatus&&
(r.matchStatus.forEach(function(c){c.status===O.Running&&c._reject("sitemap_reinit")}),r.matchStatus=[]);u.onPageMatchStatusUpdated.emit(r.matchStatus)},Le=function(c){c.forEach(function(a){xa({pageName:a.name,status:O.Pending})})},Gb=function(c){xa({pageName:c.name,endTime:Date.now(),status:r.matchStatus.find(function(a){return a.status===O.Selected})?O.Matched:O.Selected})},Sc=function(c){xa({pageName:c.name,status:O.Rejected,endTime:Date.now()})},Ne=function(c){return r.matchStatus.filter(function(a){return a.status===
O.Rejected},0).length<c.length},Me=function(c){return new Promise(function(a,b){xa({pageName:c.name,status:O.Running,startTime:Date.now(),_reject:b});"function"===typeof c.isMatch?(b=c.isMatch(),"object"===J(b)?b.then(function(b){a(b)}).catch(function(){}):a(b)):u.onFireException.emit(Error("isMatch failed while evaluating the ".concat(c.name," page config. isMatch must be a function.")),"Site-wide Javascript")})},xa=function(c){r.matchStatus=[].concat(yc(r.matchStatus||[]),[c]);u.onPageMatchStatusUpdated.emit(r.matchStatus)},
ca;(function(c){c.ViewCatalogObject="View Catalog Object";c.ViewCatalogObjectDetail="View Catalog Object Detail";c.QuickViewCatalogObject="Quick View Catalog Object";c.ShareCatalogObject="Share Catalog Object";c.ReviewCatalogObject="Review Catalog Object";c.CommentCatalogObject="Comment Catalog Object";c.FavoriteCatalogObject="Favorite Catalog Object"})(ca||(ca={}));var Hb;(function(c){c.AddToCart="Add To Cart";c.RemoveFromCart="Remove From Cart";c.ReplaceCart="Replace Cart"})(Hb||(Hb={}));var Ib;
(function(c){c.Purchase="Purchase";c.Preorder="Preorder";c.Cancel="Cancel";c.Ship="Ship";c.Deliver="Deliver";c.Return="Return";c.Exchange="Exchange"})(Ib||(Ib={}));var na;(na||(na={})).MetadataUpdate="MetadataUpdate";var Uc;(Uc||(Uc={})).Tracking="Tracking";(function(c){c.OptIn="Opt In";c.OptOut="Opt Out"})(p.ConsentStatus||(p.ConsentStatus={}));var w=function(c,a,b){u.onFireException.emit(c,a);t.warn("sendException",{event,errorSection:a})},P=[],Vc=function(){return P},Wc=function(c){return P.find(function(a){return c.purpose==
a.consent.purpose})},Jb=function(c){Xc(c,!0)},Xc=function(c,a){Array.isArray(c)?c.forEach(function(b){Yc(b,a)}):Yc(c,a);Pc(P)},Yc=function(c,a){if(c&&"object"==J(c)&&c.purpose&&c.provider&&c.status)var b=!0;else w(Error("Invalid consent, check that consent is a valid object and all fields are defined: ".concat(JSON.stringify(c))),"Salesforce Web SDK"),b=!1;if(b)if(b=Wc(c)){var e=b.consent.status;if(b.consent.status!=c.status||b.consent.provider!=c.provider)b.consent=c,b.lastUpdateTime=(new Date).toISOString();
a&&e==p.ConsentStatus.OptIn&&c.status==p.ConsentStatus.OptOut&&Zc(b)}else c={consent:c,lastUpdateTime:(new Date).toISOString()},P.push(c),a&&c.consent.status==p.ConsentStatus.OptOut&&Zc(c)},Zc=function(c){document.dispatchEvent(new CustomEvent(v.OnConsentRevoke,{detail:{revokedConsent:c}}))},Oe=function(c){var a=(new Date).toISOString();c.forEach(function(b){Wc(b).lastSentTime=a});Pc(P)},Qe=function(c){Pe();Promise.resolve(c).then(function(a){a&&0<a.length&&Jb(a)})},Pe=function(){var c=ma.read();
c&&(P=c.consents||[])},Re=function(c){return 0<=c.findIndex(function(a){return a.status==p.ConsentStatus.OptIn})},Se=function(){return Re(P.map(function(c){return c.consent}))},$c=function(c){c.source=c.source||{};var a=c.source||{},b;(b=c.source.pageType)||(b=r.currentPage&&r.currentPage.source?r.currentPage.source.pageType:void 0);c.source=K({},a,{pageType:b,url:c.source.url||window.location.href,urlReferrer:c.source.urlReferrer||document.referrer,channel:c.source.channel||"Web"});c.user=K({},c.user||
{},{anonymousId:W});Te(c)},Te=function(c){c.consents&&Xc(c.consents,!1);c.consents=P.filter(function(a){return!a.lastSentTime||new Date(a.lastUpdateTime)>=new Date(a.lastSentTime)}).map(function(a){return a.consent});Oe(c.consents)};document.addEventListener(v.OnConsentRevoke,function(c){c.detail&&c.detail.revokedConsent&&Ue({interaction:{name:na.MetadataUpdate},consents:[c.detail.revokedConsent.consent]})});var bd=function(c){return ad(c,Se).catch(function(a){t.error(a.message);u.onFireException.emit(a,
"Site-wide JavaScript");return c})},Ue=function(c){ad(c,function(){return!0}).then(function(){return t.debug("Consent revoked")},function(a){return u.onFireException.emit(a,"Site-wide JavaScript")})},ad=function(c,a){a:{var b=c,e=r.matchedConfig;try{b=e&&e.onActionEvent?e.onActionEvent(b):b;if("object"===J(b)){c=b;break a}u.onFireException.emit(Error("onActionEvent failed for the ".concat(r.matchedConfig.name," page config. Must return an object or null.")),"Site-wide Javascript")}catch(f){u.onFireException.emit(Error("onActionEvent failed for the ".concat(r.matchedConfig.name,
" page config. ").concat(f.message,".")),"Site-wide Javascript")}c=void 0}a:{b=c;try{b=N.global&&N.global.onActionEvent?N.global.onActionEvent(b):b;if("object"===J(b)){c=b;break a}u.onFireException.emit(Error("onActionEvent failed for the global page config. Must return an object or null."),"Site-wide Javascript")}catch(f){u.onFireException.emit(Error("onActionEvent failed for the global page config. ".concat(f.message,".")),"Site-wide Javascript")}c=void 0}$c(c);a&&!a()&&t.debug("No opt-in consents provided. Event will still be dispatched.");
t.debug("Sent event: ",c);u.onEventSend.emit(c);return Promise.resolve(c)},Ve=function(c){return new Promise(function(a,b){u.onInitSitemap.once(function(){return b("sitemap_reinit")});var e={name:null},f=[];Object.keys(c.interaction).forEach(function(a){var b=cd(c.interaction[a],a).then(function(b){e[a]=b});f.push(b)});Promise.all(f).then(function(){a(e)}).catch(function(a){u.onFireException.emit(Error("Catalog object interaction config was rejected"),"Site-wide Javascript")})})},cd=function(c,a){try{return E=
a,"object"===J(c)&&!Array.isArray(c)&&0<Object.keys(c).length?We(c):Promise.resolve(c).then(function(a){return"function"===typeof a?a():a})}catch(b){u.onFireException.emit(Error("getValue for ".concat(a," failed on ").concat(r.matchedConfig.name," while evaluating custom function. ").concat(b.message,".")),"Site-wide Javascript")}},We=function(c){var a={},b=Object.keys(c),e={};b.forEach(function(b){var e=cd(c[b],b);a[b]=e});return Promise.all(Object.values(a)).then(function(a){a.forEach(function(a,
c){e[b[c]]=a});return e})},Qa,Xe=function(){Kb();dd()&&(Qa=setInterval(function(){var c=!1,a=(new Date).getTime(),b=r.matchedConfig.listeners.map(function(a){if(a.selectorFound)return a;a=Ra(a);c=a.selectorFound||c;return a});c&&Object.assign(r.matchedConfig,K({},r.matchedConfig,{listeners:b}));(50<(new Date).getTime()-a||!dd())&&Kb()},1E3))},dd=function(){if(r.matchedConfig){var c=r.matchedConfig.listeners;return c?c.filter(function(a){return!a.selectorFound}).length:!1}return!1},Kb=function(){"number"===
typeof Qa&&clearInterval(Qa);Qa=null},Ra=function(c){var a=m(c.selector),b=K({},c,{selectorFound:0<a.length});a.on(b.bind,function(a){try{b.callback(a)}catch(f){u.onFireException.emit(Error("Listener callback on ".concat(b.bind," bound to ").concat(b.selector," failed for the ").concat(r.matchedConfig.name," page config. ").concat(f.message,".")),"Site-wide Javascript")}});return b},Ye=function(){r&&r.matchedConfig&&r.matchedConfig.listeners&&r.matchedConfig.listeners.forEach(function(c){m(c.selector).off(c.bind)})},
ed=function(c){c.global=c.global||{};"object"!=J(c.global)&&u.onFireException.emit(Error("The global config has a type of ".concat(J(c.global),", but it must be an object")),"Sitewide Javascript");Object.assign(N,K({},c));u.onInitSitemap.emit(N)},fd=function(c){Ze(c);return!0},gd=function(c){r.matchedConfig=K({},c,{listeners:$e(c)});r.currentPage=K({},r.currentPage||{},{source:{pageType:c.name,locale:af(c)},user:{anonymousId:null},interaction:null,pageView:!0});return c.interaction?Ve(c).then(function(a){r.currentPage.interaction=
a}):Promise.resolve()},$e=function(c){return(c.listeners||[]).map(function(a){return Ra(a)})},af=function(c){return"function"===typeof c.locale?c.locale():c.locale},bf=function a(){for(var b=arguments.length,e=Array(b),f=0;f<b;f++)e[f]=arguments[f];return e.reduce(function(b,e){Object.keys(e).forEach(function(f){var h=b[f],g=e[f];Array.isArray(h)&&Array.isArray(g)?Object.assign(b,Ja({},f,h.concat.apply(h,yc(g)))):h&&"object"===J(h)&&g&&"object"===J(g)?Object.assign(b,Ja({},f,a(h,g))):Object.assign(b,
Ja({},f,g))});return b},{})},hd=function(a){var b=N.global||{},e=b.onActionEvent;delete b.onActionEvent;a=bf(b,a);b.onActionEvent=e;return a},cf=function(a){a.forEach(function(a){if(!a.name||!a.isMatch)throw Error("All page configs must have a name and isMatch attribute defined");})},df=function(){var a=r;bd(r.currentPage);r=a},Ze=function(a){ed(a);Ye();Tc();Kb();r.currentPage=null;try{cf(a.pageTypes);var b=!0}catch(e){u.onFireException.emit(Error(e),"Sitemap"),b=!1}b&&Pa(a.pageTypes).then(hd).then(gd).then(df).then(Xe).catch(function(a){"sitemap_reinit"!==
a&&u.onFireException.emit(Error("Unhandled exception: ".concat(a)),"Site-wide Javascript")})},H=function(a,b){if(a)try{return a(b)}catch(e){return u.onFireException.emit(Error("getValue for ".concat(E," failed on ").concat(r.matchedConfig.name," inside of the custom transform function. ").concat(e)),"Site-wide Javascript"),null}return b},Lb=function(a,b){b=b||window;a=a.split(".");var e=!0,f=!1,g=void 0;try{for(var h=a[Symbol.iterator](),n;!(e=(n=h.next()).done);e=!0){var k=n.value;var l=/(\w+)\[([0-9]+)\]/.exec(k);
if(b[k])b=b[k];else if(l){if(b[l[1]]&&(b=b[l[1]][parseInt(l[2],10)],!b))return null}else return null}}catch(R){f=!0,g=R}finally{try{e||null==h.return||h.return()}finally{if(f)throw g;}}return b},id={fromSelector:function(a,b){return function(){if("string"!=typeof a)return u.onFireException.emit(Error("getValue for ".concat(E," failed on ").concat(r.matchedConfig.name,". Selector must be a string.")),"Site-wide Javascript"),null;var e=m(a).first().text();return e=H(b,e)}},fromSelectorAttribute:function(a,
b,e){return function(){if("string"!=typeof a)return u.onFireException.emit(Error("getValue for ".concat(E," failed on ").concat(r.matchedConfig.name,". Selector must be a string.")),"Site-wide Javascript"),null;if("string"!=typeof b)return u.onFireException.emit(Error("getValue for ".concat(E," failed on ").concat(r.matchedConfig.name,". Attribute must be a string.")),"Site-wide Javascript"),null;var f=m(a).first().attr(b);return f=H(e,f)}},fromSelectorMultiple:function(a,b){return function(){if("string"!=
typeof a)return u.onFireException.emit(Error("getValue for ".concat(E," failed on ").concat(r.matchedConfig.name,". Selector must be a string.")),"Site-wide Javascript"),null;var e=m(a).get().map(function(a){return m(a).text()});return e=H(b,e)}},fromSelectorAttributeMultiple:function(a,b,e){return function(){if("string"!=typeof a)return u.onFireException.emit(Error("getValue for ".concat(E," failed on ").concat(r.matchedConfig.name,". Selector must be a string.")),"Site-wide Javascript"),null;if("string"!=
typeof b)return u.onFireException.emit(Error("getValue for ".concat(E," failed on ").concat(r.matchedConfig.name,". Attribute must be a string.")),"Site-wide Javascript"),null;var f=m(a).get().map(function(a){return m(a).attr(b)});return f=H(e,f)}},fromItemProp:function(a,b){return function(){var e=m("[itemprop='"+a+"']").first().attr("content");return e=H(b,e)}},fromMeta:function(a,b){return function(){var e=m("meta[name='"+a+"']").first().attr("content")||m("meta[property='"+a+"']").first().attr("content");
return e=H(b,e)}},fromWindow:function(a,b){return function(){var e=Lb(a);return e=H(b,e)}},fromJsonLd:function(a,b){return function(){var e=m("script[type='application/ld+json']").first().text();try{var f=JSON.parse(e);if(a){var g=Lb(a,f);return H(b,g)}return H(b,f)}catch(h){u.onFireException.emit(Error("Parsing JSON-LD for ".concat(E," failed on ").concat(r.matchedConfig.name,". ").concat(h)),"Site-wide Javascript")}}},fromCanonical:function(a){return function(){var b=m("link[rel=canonical]").attr("href");
return b=H(a,b)}},fromHref:function(a){return function(){var b=window.location.href;return b=H(a,b)}},buildCategoryId:function(a,b,e,f){return function(){var g=Array.from(m(a));b&&(g=g.slice(b));e&&(g=g.slice(0,-1));var h=[];g.forEach(function(a){(a=m(a).text().trim())?h.push(a):u.onFireException.emit(Error("buildCategoryId for ".concat(E," failed on ").concat(r.matchedConfig.name,". A category part is null.")),"Site-wide Javascript")});g=h.join("|");return g=H(f,g)}},buildCategoryIdAttribute:function(a,
b,e,f,g){return function(){var h=Array.from(m(a));e&&(h=h.slice(e));f&&(h=h.slice(0,-1));var n=[];h.forEach(function(a){(a=m(a).attr(b).trim())?n.push(a):u.onFireException.emit(Error("buildCategoryId for ".concat(E," failed on ").concat(r.matchedConfig.name,". A category part is null.")),"Site-wide Javascript")});h=n.join("|");return h=H(g,h)}}},B=m,F={},jd={resolveWhenTrue:{bind:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Math.random().toString(36).slice(2),e=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:2E3,f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:100;if("function"===typeof a)return new Promise(function(g,h){var n=0,k=setInterval(function(){try{n+=f;var l=a();l&&(delete F[b],clearInterval(k),g(l));n>=e&&(F[b](),delete F[b])}catch(R){delete F[b],clearInterval(k),h(R)}},f);F[b]=function(){clearInterval(k)}})},unbind:function(a){if(!a||"string"!==typeof a||"function"!==typeof F[a])return null;F[a]();delete F[a]},getBindings:function(){return F},clearBindings:function(){for(var a in F)F.hasOwnProperty(a)&&
"function"===typeof F[a]&&(F[a](),delete F[a])}}};var pb="shutDown";var Sa={cookieDomain:null,consents:null},kd=function(){function a(a,b,f){if(f)for(a=Math.random().toString(36).slice(2);e[a];)a=Math.random().toString(36).slice(2);else a=a||b;return a}function b(b,f){return{pageElementLoaded:function(h,n){if("string"!==typeof n||""===n)n=0<B("body").length?"body":"html";if("string"!==typeof h||""===h)throw Error("[pageElementLoaded] Invalid arguments");return new Promise(function(k){var l=B(h);if(0<
l.length)k(l[0]);else{l=B(n)[0];if(!l)throw Error("pageElementLoaded cannot be bound. observerSelector ".concat(n," is not on the page"));var m=new MutationObserver(function(a,e){var f=!0,n=!1,l=void 0;try{for(var m=a[Symbol.iterator](),p;!(f=(p=m.next()).done);f=!0){var q=p.value;if(q.addedNodes&&0<q.addedNodes.length){a=!0;var Z=!1,r=void 0;try{for(var R=q.addedNodes[Symbol.iterator](),t;!(a=(t=R.next()).done);a=!0){var u=t.value,v=B(u).is(h)?u:B(u).find(h).get(0);if(v){b?g.unbind(b):e.disconnect();
k(v);return}}}catch(Mb){Z=!0,r=Mb}finally{try{a||null==R.return||R.return()}finally{if(Z)throw r;}}}}}catch(Mb){n=!0,l=Mb}finally{try{f||null==m.return||m.return()}finally{if(n)throw l;}}});m.observe(l,{childList:!0,subtree:!0})}b=a(b,"<pageElementLoaded>"+h,f);e[b]=function(){m&&m.disconnect()}})},pageElementVisible:function(h,n){var k=n||0;if("string"!==typeof h||""===h||"number"!==typeof k||0>k||1<k)throw Error("[pageElementVisible] Invalid arguments");return new Promise(function(n){var l=B(h),
m=new IntersectionObserver(function(a,e){for(var f=0;f<a.length;f++)if(a[f].isIntersecting){b?g.unbind(b):e.disconnect();n(a[f]);break}},{threshold:k});m.observe(l[0]);b=a(b,"<pageElementVisible>"+h,f);e[b]=function(){m.disconnect()}})},pageExit:function(h){h=h||0;if("number"!==typeof h||0>h)throw Error("[pageExit] Invalid arguments");return new Promise(function(n){function k(a){clearTimeout(p);10>=a.pageY-window.pageYOffset&&(p=0<h?setTimeout(l.bind(this,a),h):l.call(this,a))}function l(a){b?g.unbind(b):
m.off("mousemove",k);clearTimeout(p);n(a)}var m=B(document),p;m.on("mousemove",k);b=a(b,"<pageExit>",f);e[b]=function(){m.off("mousemove",k)}})},pageInactive:function(h){function n(a,e){var f=new Promise(function(f){function h(a){a=a||new Event("pageInactive");b&&!e.isSubscribe?g.unbind(b):k.off("mousemove click scroll keyup keydown",n);f(a)}function n(b){clearTimeout(l);l=setTimeout(h.bind(this,b),a)}var k=B(document),l;n();k.on("mousemove click scroll keyup keydown",n)});f.subscribe=function(h){delete f.subscribe;
e.isSubscribe=!0;f.then(function(f){f.disconnect=function(){b?g.unbind(b):e.isDisconnected=!0};h(f);!e.isDisconnected&&n(a,e).subscribe(h)});return f};return f}if("number"!==typeof h||0>=h)throw Error("[pageInactive] Invalid arguments");var k={isDisconnected:!1,isSubscribe:!1};b=a(b,"<pageInactive>",f);e[b]=function(){k.isDisconnected=!0};return n(h,k)},pageScroll:function(h){if("number"!==typeof h||0>h||1<h)throw Error("[pageScroll] Invalid arguments");return new Promise(function(n){function k(a){window.scrollY/
(document.documentElement.scrollHeight-window.innerHeight)>=h&&(n(a),b?g.unbind(b):l.off("scroll",k))}var l=B(document);l.on("scroll",k);b=a(b,"<pageScroll>",f);e[b]=function(){l.off("scroll",k)}})}}}var e={},f=b(null,!0),g=function(){return{bind:function(a){a&&e[a]&&(e[a](),delete e[a]);return b(a)},unbind:function(a){if(!a||"string"!==typeof a||"function"!==typeof e[a])return null;e[a]();delete e[a]},getBindings:function(){return e},clearBindings:function(){for(var a in e)e.hasOwnProperty(a)&&(e[a](),
delete e[a])}}}();return Object.assign(f,g)}(),lb,mb,nb,ob,Nb=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(Ie(window.navigator.userAgent||"")?T("You are a robot."):"prerender"===document.visibilityState&&Je?T("Page is pre-rendered and loaded in Safari."):1))return Promise.reject();"initialized"==pb&&T("reinitializing Web SDK");a.cookieDomain&&Cb(a.cookieDomain);Nc();Sa=K({},Sa,{},a);se();Qc();pb="initialized";document.dispatchEvent(new CustomEvent(v.OnInit,{detail:{sdkConfig:Sa}}));
Qe(a.consents);return Promise.resolve()};window.SalesforceInteractions={init:Nb,reinit:function(){var a=P.map(function(a){return a.consent});Nb(K({},Sa,{consents:a})).then(function(){fd(N)})},sendEvent:bd,sendException:w,getAnonymousId:function(){return W},setAnonymousId:Fb,getCookieDomain:function(){return la},setCookieDomain:Cb,updateConsents:Jb,getConsents:Vc,ConsentStatus:p.ConsentStatus,log:t,getLoggingLevel:Ac,setLoggingLevel:zc,initSitemap:fd,getSitemapConfig:function(){return N},getSitemapResult:function(){return r},
CatalogObjectInteractionName:ca,CartInteractionName:Hb,OrderInteractionName:Ib,listener:Cc,build:function(a){Pa(a.pageTypes).then(hd).then(gd).catch(function(a){"sitemap_reinit"!==a&&u.onFireException.emit(Error("Unhandled exception: ".concat(a)),"Site-wide Javascript")})},cashDom:B,resolvers:id,util:jd,DisplayUtils:kd,CustomEvents:v};var ef="cdn.".concat("evergage.com"),Ob;(function(a){a.Impression="i";a.Clickthrough="c";a.Dismissal="d";a.Unsubscribe="u";a.Send="s"})(Ob||(Ob={}));(function(a){a.Product=
"Product";a.Category="Category"})(p.ItemType||(p.ItemType={}));var va;(va||(va={})).StopQuickViewCatalogObject="Stop Quick View Catalog Object";var Pb={Personalization:"Personalization"},Qb;(function(a){a._id="_id";a.categories="categories";a.dimensions="dimensions";a.relatedCatalogObjects="relatedCatalogObjects"})(Qb||(Qb={}));(function(a){a.OnEventResponse="evergage:onEventResponse";a.OnEventSend="evergage:onEventSend";a.OnStatSend="evergage:onStatSend";a.OnException="evergage:onException";a.OnTemplateDisplayEnd=
"evergage:onTemplateDisplayEnd";a.OnPageMatchStatusUpdated="evergage:onPageMatchStatusUpdated";a.OnInit="evergage:onInit";a.OnInitSitemap="evergage:onInitSitemap";a.OnShutDown="evergage:onShutDown";a.OnConsentRevoke="evergage:onConsentRevoke"})(p.CustomEvents||(p.CustomEvents={}));var ea;(function(a){a.OnEventResponse="mcis:onEventResponse";a.OnStatSend="mcis:onStatSend";a.OnTemplateDisplayEnd="mcis:onTemplateDisplayEnd";a.OnBeforeEventSend="mcis:onBeforeEventSend";a.OnInit="mcis:onInit"})(ea||(ea=
{}));var q={endpointConfig:{},beaconConfig:{sendEvents:!0,minimumActivityTimeToRegister:300,timeOnPageTimerLengthMillis:6E4,trackAnonymousVisitors:!0,corsAllowedOrigins:["*"],identityAttributes:[],rememberMeUserIdsMillis:63072E6,actionRateLimiterConfig:{globalLimit:10,globalTimeRange:5E3,perActionLimit:5,perActionTimeRange:2E3}},visitor:{},beaconState:null},Rb=function(){return y({},q.endpointConfig,{},q.beaconConfig)},ld=function(){var a=Rb();return"account dataset cookieDomain consents cdnUrl trackerUrl siteConfigVersion minimumActivityTimeToRegister timeOnPageTimerLengthMillis sendEvents trackAnonymousVisitors doNotTrackPingRequestsForActions trackContextualRelatedItems identityAttributes actionRateLimiterConfig".split(" ").reduce(function(b,
e){return b[e]=a[e],b},{})},md;document.addEventListener(v.OnClearCookie,function(a){a=a.detail&&a.detail.options||{};Sb("a",y({domain:q.beaconConfig.cookieDomain},a));Sb("n",y({domain:q.beaconConfig.cookieDomain},a))});var Tb=function(a){return"".concat("_evg").concat(a,"_").concat(md)},Sb=function(a,b){da.remove(Tb(a),b)},S={setCookieHash:function(a,b,e){md=ua("".concat(a,".").concat(b,".").concat(ua(e+"/").slice(0,4))).slice(0,4)},read:function(a){return da.getJSON(Tb(a))},write:function(a,b,e,
f){da.set(Tb(a),b,{expires:e,domain:f})},remove:Sb},Ub=function(a){S.write("a",{uuid:a.uuid,puid:a.persistedUserId,paid:a.persistedAccountId,affinityId:a.affinityId},730,q.beaconConfig.cookieDomain);var b=S.read("a");b&&t.debug("Stored visitor cookie. ".concat(JSON.stringify(b)));return a},Vb=function(a){return 0===a.indexOf("www")?a.substring(4,a.length):a},Wb=function(){var a=L().uuid;Fb(a)},L=function(){return q.visitor||{}},ff=function(a){if(!a)return!1;a=(a||{}).user;a=void 0===a?{}:a;var b=
y({},a.attributes,{},a.identities);return Object.keys(b).some(function(a){return q.beaconConfig.identityAttributes.includes(a)})||!!a.id||!!L().persistedUserId},l={result:y({},r,{backgroundPage:null}),config:y({},N,{settings:{canonicalizeIds:!1,runOnTranslatedPage:!1,setDefaultListPrice:!1,truncateTranslated:!0},currentKey:null}),campaignResponses:[]},Gc=function(){return l.result.currentPage||{}},Ta=function(){l.config.currentKey=E;return l},nd=function(){return Ta().result||null},od=function(){return Ta().config||
null},pd=function(){return Ta().campaignResponses||[]},ya,za,Xb=function(a){a[".bv"]=16;a._ak=q.endpointConfig.account;a._ds=q.endpointConfig.dataset;a[".scv"]=q.endpointConfig.siteConfigVersion;a.channel="Web";a._r=String(Math.random()).slice(2,8)},Yb=function(a){var b=L();a.userId?a._reqPersistedEntityIds="":b.persistedUserId&&(a._persistedUserId=b.persistedUserId);l&&l.result&&l.result.currentPage&&l.result.currentPage.user&&l.result.currentPage.user.attributes&&l.result.currentPage.user.attributes.customer_non_consent&&
(a.customer_non_consent=l.result.currentPage.user.attributes.customer_non_consent);q.beaconConfig.trackAnonymousVisitors&&(a[".anonId"]=b.uuid,null!=b.affinityId&&(a[".aaId"]=b.affinityId),a.userId||a._persistedUserId||a._persistedAccountId||(a._anon="true"));return a},Aa=function(a){a="".concat(a);if(null==a||974>=a.length)return a;var b=731,e=244;974!=b+e&&(b+=974-(b+e));10<e?e-=5:10<b&&(b-=5);return a.substring(0,b)+" ... "+a.substring(a.length-e)},qd=function(a,b){var e=b.header,f=b.fileName,
g=b.line;b=b.column;e&&(a[".ef"]=Aa(e));a[".eu"]=Aa(f);a[".el"]=Aa(g);a[".ec"]=Aa(b);return a},gf=(ya={},M(ya,".eu","sourceURL"),M(ya,".el","line"),M(ya,".ec","column"),ya),hf=(za={},M(za,".eu","fileName"),M(za,".el","lineNumber"),M(za,".ec","columnNumber"),za),rd=function(a,b,e){return b?qd(a,{header:!!b.stack&&"string"===typeof b.stack&&b.stack.substring(0,b.stack.indexOf("@")),fileName:b[e[".eu"]],line:b[e[".el"]],column:b[e[".ec"]]}):a},jf=function(a){var b=Object.keys(a)[0];if(!b)return{};a=
a[b];b={type:b,_id:a._id};if(q.beaconConfig.trackContextualRelatedItems&&(Array.isArray(a.categories)&&(b.categories=a.categories.map(function(a){return"string"===typeof a?{_id:a,type:p.ItemType.Category}:a})),"object"===z(a.dimensions)||"object"===z(a.relatedCatalogObjects))){b.dimensions={};a=a.relatedCatalogObjects||a.dimensions;for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];Array.isArray(f)?b.dimensions[e]=f:b.dimensions[e]=[f]}}return b},lf=function(a){var b=[];Object.keys(a).forEach(function(e){b=
b.concat(kf(e,a[e]))});return b},kf=function(a,b){return b.map(function(b){var e=mf(a);return{_id:b,type:e,tagType:"t"===e?a:void 0}})},mf=function(a){switch(a){case "Product":return"p";case "Article":return"a";case "Blog":return"b";case "Category":return"c";case "Promotion":return"P";default:return"t"}},nf=function(a){var b={type:"e",id:a.experienceId,stat:Ob[a.stat],ug:a.control?"Control":void 0};a.catalog&&(b.piks=lf(a.catalog));return b},of=function(a){var b={};b[".cStat"]=JSON.stringify(a.campaignStats.map(nf));
Xb(b);Yb(b);return b},pf=function(a){var b={};b[".top"]=""+a.timeOnPageMillis;a.catalog&&0<Object.keys(a.catalog).length&&(b.item=JSON.stringify(jf(a.catalog)));a.action&&(b.action=a.action);if(a.performance){var e=a.performance.networkTime;e&&(b[".tt"]=e);(e=a.performance.eventDnsTime)&&(b[".ttdns"]=e);(e=a.performance.domLoadTime)&&(b[".dt"]=e);(e=a.performance.pageLoadTime)&&(b[".lt"]=e);(e=a.performance.sdkLoadTime)&&(b[".bt"]=e);(e=a.performance.sdkParseTime)&&(b[".pt"]=e);(a=a.performance.sdkDnsTime)&&
(b[".btdns"]=a)}Xb(b);Yb(b);return b},qf=Object.prototype.hasOwnProperty,Zb=function(){function a(b){Ca(this,a);this.baseURL=b}Da(a,[{key:"send",value:function(a){rf(a);var b=this.baseURL+"?";var f="";var g=[],h;"string"!==typeof f&&(f="?");for(n in a)if(qf.call(a,n)){(h=a[n])||null!==h&&void 0!==h&&!isNaN(h)||(h="");var n=encodeURIComponent(n);h=encodeURIComponent(h);null!==n&&null!==h&&g.push(n+"="+h)}a=g.length?f+g.join("&"):"";b+=a;if(navigator&&navigator.sendBeacon)return a=new Blob([],{type:"application/x-www-form-urlencoded"}),
navigator.sendBeacon(b,a);a=new XMLHttpRequest;a.open("GET",b,!0);a.send()}}]);return a}(),sf=function(a){function b(a){Ca(this,b);a=pa(b).call(this,a);if(!a||"object"!==typeof a&&"function"!==typeof a){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=this}a.numberOfEventsSent=0;return a}de(b,a);Da(b,[{key:"send",value:function(a){if(3>this.numberOfEventsSent)return this.numberOfEventsSent++,$a(pa(b.prototype),"send",this).call(this,a)}}]);return b}(Zb),
rf=function(a){Object.keys(a).forEach(function(b){var e=a[b];if("number"!=typeof e&&"boolean"!==typeof e&&null!=e)if("string"==typeof e){a:switch(b){case "url":case "urlref":e=e.substring(0,3072);break a;case "title":e=e.substring(0,1024);break a;default:e=e.substring(0,1024)}a[b]=e}else"function"==typeof e?delete a[b]:a[b]=JSON.stringify(e)})},sd,td,ud,vd=!1,wd=!1,xd=!1,x={sdkLoadTime:null,sdkParseTime:null,sdkDnsTime:null,pageLoadTime:null,domLoadTime:null,networkTime:null,eventDnsTime:null},yd=
function(){return window.performance.getEntriesByType?window.performance.getEntriesByType("resource").reverse().find(function(a){return 0<=a.name.indexOf("/api2/event/")}):null},zd=function(){return window.performance.getEntriesByType?window.performance.getEntriesByType("resource").find(function(a){return/\/evergage(Small)?(\.min)?\.js$/.test(a.name)}):null},Ad=function(){if(window.performance.getEntriesByType){var a=window.performance.getEntriesByType("navigation");if(a&&0<a.length)return a=a[0],
a||(a=window.performance.timing),a}return null},Fc=function(a){for(var b in a.performance)x[b]=null},Ic=function(){if(!wd){var a=Ad();a&&0<a.domContentLoadedEventEnd&&(void 0!=a.entryType?x.domLoadTime=Math.round(a.domContentLoadedEventEnd)||null:x.domLoadTime=Math.round(a.domContentLoadedEventEnd-window.performance.timing.navigationStart)||null);x.domLoadTime&&(wd=!0)}if(!vd){if(a=Ad())void 0!=a.entryType?x.pageLoadTime=Math.round(a.loadEventEnd)||null:x.pageLoadTime=Math.round(a.loadEventEnd-window.performance.timing.navigationStart)||
null;x.pageLoadTime&&(vd=!0)}},Bd=function(a){a=a?(a=qb(a))?a.pathname:"":"";return a},$b=function(a,b){b="undefined"===typeof b?location.search:b;for(var e=/([^=?&]+)=?([^&]*)/g,f={},g;g=e.exec(b);){var h=Dc(g[1]);g=Dc(g[2]);null===h||null===g||h in f||(f[h]=g)}return f[a]||""},Cd=function(a,b){return(a=a.exec(b))&&2===a.length?a[1]:null},Dd=function(a){return Cd(/[/]?([^/]*)[/]?$/,Bd(a))},ac=function(a){return"string"!==typeof a||""===a.trim()?null:qb(a).href},Ua=function(a){return a&&"string"===
typeof a?(a=parseFloat(a.replace(/[^0-9.]+/g,"")),isNaN(a)?null:a):null},Ed=function(a){return a&&"string"===typeof a?(a=parseInt(a.trim().replace(/[^0-9.]+/g,""),10),isNaN(a)?null:a):null},tf=function(a){var b=r;if(b.currentPage&&b.currentPage.interaction&&b.currentPage.interaction.catalogObject)return(b=b.currentPage.interaction.catalogObject)?{catalogObjectType:b.type,catalogObjectId:b.id,price:b.attributes&&b.attributes.price?b.attributes.price:null,quantity:Ua(m(a).val())}:null},oa={extractFirstGroup:Cd,
getLastPathComponent:Dd,getLastPathComponentWithoutExtension:function(a){a=Dd(ac(a));var b=a.lastIndexOf(".");return 0<=b?a.substring(0,b):a},getParameterByName:$b,getPathname:Bd,qualifyUrl:ac,removeQueryString:function(a){if(!a)return"";a=qb(a);return[a.protocol,"//","http:"===a.protocol&&"80"===a.port||"https:"===a.protocol&&"443"===a.port?a.hostname:a.host,a?a.pathname:""].join("")},getFloatValue:Ua,getIntegerValue:Ed,getUtagFirstForField:function(a){var b=window.utag_data;if(b&&b[a]&&0<=b[a].length)return Array.isArray(b[a])?
b[a][0]:b[a]},getValueFromNestedObject:Lb,buildLineItemFromPageState:function(a){if(l.result.currentPage&&l.result.currentPage.catalog){var b=l.result.currentPage.catalog[p.ItemType.Product];return b?{_id:b._id,price:b.price,quantity:Ua(m(a).val())}:null}},resolveWhenTrue:jd.resolveWhenTrue,cookie:da},uf=function(a){return new Promise(function(b,e){bc(e);X(a,"lineItems",!1,!0).then(function(a){var e={complete:{Product:[]}};0===Object.keys(a).length&&b(e);a=X(a,"lineItems",!0,!1);e.complete.Product=
a;b(e)}).catch(function(){w(Error("Cart Config was rejected"),"Site-wide Javascript")})})},X=function(a,b,e,f){try{E=b;if(a)if("dimensions"!==b&&"relatedCatalogObjects"!==b&&"lineItems"!==b&&"attributes"!==b||!f){var g="function"===typeof a?a():a;"categories"===b&&Array.isArray(g)&&"object"!==z(g[0])&&"c"!==g[0].type&&"string"!==typeof g[0]._id?g=Hc(g):"lineItems"===b&&"object"===z(g)&&(g=vf(g))}else g=wf(a,b);return e?cc(b,g,l.config.settings.canonicalizeIds):g}catch(h){w(Error("getValue for ".concat(b,
" failed on ").concat(l.result.matchedConfig.name," while evaluating custom function. ").concat(h.message,".")),"Site-wide Javascript")}},Fd=function(a,b,e){if(a&&"object"===z(a)&&"function"===typeof a.then)w(Error("getValue for ".concat(b," failed on ").concat(l.result.matchedConfig.name," while evaluating custom function. ").concat(b," cannot be a Promise.")),"Site-wide Javascript");else if(a||"number"===typeof a||"boolean"===typeof a)e[b]=a},xf=function(a,b){return new Promise(function(e,f){bc(f);
var g=Object.keys(Qb);f=[];for(var h=0;h<g.length;h++){var n=g[h];n=X(a[n],n,!1,!0);f.push(n)}Promise.all(f).then(function(f){var h={_id:null};f.forEach(function(a,b){b=g[b];a=X(a,b,!0,!1);Fd(a,b,h)});Object.keys(a).forEach(function(b){if(!g.includes(b)){var e=X(a[b],b,!0,!0);Fd(e,b,h)}});f=M({},b,h);e(f)}).catch(function(){w(Error("Catalog Config was rejected"),"Site-wide Javascript")})})},yf=function(a){return new Promise(function(b,e){bc(e);var f=[],g=Object.keys(a);g.forEach(function(b){E=b;b=
X(a[b],b,!1,!0);f.push(b)});Promise.all(f).then(function(a){var e={},f={Product:{}};a.forEach(function(a,b){b=g[b];e[b]=X(a,b,!0,!1)});f.Product=e;b(f)}).catch(function(){w(Error("Order Config was rejected"),"Site-wide Javascript")})})},vf=function(a){var b;a._id?b=a._id.length:a.sku?b=a.sku.length:w(Error("Either _id or sku must be defined for lineItems"),"Sitemap");for(var e=[],f=function(){var a=ra(h[g],2),f=a[0];a=a[1];a.length!=b?w(Error("Resolving multiple values for ".concat(f," failed on ").concat(l.result.matchedConfig.name,
". ").concat(f," does not have the same number of values as _id")),"Site-wide Javascript"):a.forEach(function(a,b){e[b]||(e[b]={_id:null,quantity:null});e[b][f]=a})},g=0,h=Object.entries(a);g<h.length;g++)f();return e},Hc=function(a){return a.map(function(a){return{type:"c",_id:a}})},wf=function(a,b){var e={},f=Object.keys(a),g={};f.forEach(function(b){e[b]=X(a[b],b,!1,!0)});return"lineItems"===b||"dimensions"===b||"relatedCatalogObjects"===b?Promise.all(Object.values(e)).then(function(a){a.forEach(function(a,
b){b=f[b];(a=X(a,b,!1,!1))&&(g[b]=a)});return g}):e},cc=function(a,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;return b=Array.isArray(b)?"lineItems"===a?zf(b,e):b.map(function(b){return Gd(a,b,e)}):Gd(a,b,e)},zf=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return a.map(function(a){return Af(a,b)})},Af=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,e;for(e in a)if("item"===e)for(var f in a[e])a[e][f]=cc(f,a[e][f],b);
else a[e]=cc(e,a[e],b);return a},Gd=function(a,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0,f=b;"price"!==a&&"listPrice"!==a&&"totalValue"!==a&&"rating"!==a||"string"!==typeof f||(f=Ua(f));if("url"===a||"imageUrl"===a)f=ac(f);"_id"!==a&&"sku"!==a&&"orderId"!==a||"number"!==typeof f||(f=f.toString());!e||"string"!==typeof f||"_id"!==a&&"sku"!==a&&"orderId"!==a&&"alternateId"!==a&&"parentId"!==a||(f=f.toUpperCase());"string"===typeof f&&(0<=f.indexOf("&")&&(e=document.createElement("textarea"),
Object.assign(e,{innerHTML:f}),f=e.value),f=f.trim());"description"===a&&"string"===typeof f&&200<f.length&&(f=f.substr(0,197)+"...");"quantity"!==a&&"inventoryCount"!==a&&"numRatings"!==a||"string"!==typeof f||(f=Ed(f));return f},bc=function(a){document.addEventListener(p.CustomEvents.OnInitSitemap,function(){a("sitemap_reinit")},{once:!0})},Bf=function(a){return P.some(function(b){return b.consent.purpose===a.purpose&&b.consent.status===a.status})},Ba=function(a){return q.beaconConfig.trackAnonymousVisitors||
ff(a)?!Bf({purpose:Pb.Personalization,status:p.ConsentStatus.OptOut})&&q.beaconConfig.sendEvents:(t.debug("An anonymous event has been blocked. trackAnonymous has been turned off and event has no named user."),!1)},C=0,G=-1,U,V,ue=function(a){return Ba(a)?td.send(pf(a)):Promise.resolve(a)},Cf={setupActivityTimers:La,activityRegistered:wa,setUserInactive:Ma};(function(a){a.ViewItem="View Item";a.ViewItemOutOfStock="View Item Out Of Stock";a.ViewItemDetail="View Item Detail";a.QuickViewItem="Quick View Item";
a.StopQuickViewItem="Stop Quick View Item";a.ViewCategory="View Category";a.ViewTag="View Tag";a.AddToCart="Add To Cart";a.ViewCart="View Cart";a.Purchase="Purchase";a.Share="Share";a.Review="Review";a.Comment="Comment";a.Favorite="Favorite";a.Search="Search";a.SearchViewResults="Search View Results";a.SearchClick="Search Click";a.ClickThrough="Click Through";a.UpdateLineItem="Update Line Item";a.RemoveFromCart="Remove From Cart";a.ViewBanditItems="View Bandit Items"})(p.ItemAction||(p.ItemAction=
{}));var dc=!1,Y=[],Hd=function(){dc=!0;return!1},Df=function(a){if(dc)return t.info("Event Rate Limiter previously triggered. Event sending disabled."),!1;var b=Date.now(),e=0,f=0,g=Math.max(q.beaconConfig.actionRateLimiterConfig.globalTimeRange,q.beaconConfig.actionRateLimiterConfig.perActionTimeRange);Y.push({name:a,time:b});for(var h=Y.length-1;0<=h;h--){if(!(b-Y[h].time<g)){Y.splice(0,h+1);break}if(b-Y[h].time<q.beaconConfig.actionRateLimiterConfig.globalTimeRange&&(e++,e>q.beaconConfig.actionRateLimiterConfig.globalLimit)||
b-Y[h].time<q.beaconConfig.actionRateLimiterConfig.perActionTimeRange&&Y[h].name===a&&(f++,f>q.beaconConfig.actionRateLimiterConfig.perActionLimit))return Hd()}return!0},Ef=function(){function a(b){Ca(this,a);this.baseURL=b}Da(a,[{key:"handleSpecialEvent",value:function(a){var b=a.interaction&&a.interaction.name?a.interaction.name:a.itemAction;if(b===p.ItemAction.QuickViewItem||b===ca.QuickViewCatalogObject)l.result=y({},l.result,{backgroundPage:l.result.backgroundPage||l.result.currentPage,currentPage:y({},
a)}),b===p.ItemAction.QuickViewItem&&(l.result.currentPage.action=a.action||p.ItemAction.QuickViewItem,l.result.currentPage.itemAction=p.ItemAction.QuickViewItem);else if(b===p.ItemAction.StopQuickViewItem||b===va.StopQuickViewCatalogObject)l.result=y({},l.result,{backgroundPage:null,currentPage:l.result.backgroundPage||l.result.currentPage})}},{key:"handlePersistedIdentityInResponse",value:function(a){var b=L(),f=a.persistedUserId;a=a.anonAffinityId;if(f){var g=f.entityId;f=f.accountId;g&&(b.persistedUserId=
g);f&&(b.persistedAccountId=f)}a&&a!==b.affinityId&&(b.affinityId=a);Ub(b)}},{key:"handlePerformanceTimingBeforeEvent",value:function(){Ic();if(!xd){x.sdkLoadTime=Math.round((zd()||{}).duration)||null;window.evergageBeaconParseTimeStart&&window.window.evergageBeaconParseTimeEnd&&(x.sdkParseTime=window.evergageBeaconParseTimeEnd-window.evergageBeaconParseTimeStart);var a=zd();a&&void 0!=a.domainLookupEnd&&void 0!=a.domainLookupStart&&(x.sdkDnsTime=Math.round(a.domainLookupEnd-a.domainLookupStart));
xd=!0}}},{key:"handlePerformanceTimingInResponse",value:function(){x.networkTime=Math.round((yd()||{}).duration)||null;var a=yd();a&&(x.eventDnsTime=Math.round(a.domainLookupEnd-a.domainLookupStart)||null);rb();La()}},{key:"handleDebug",value:function(a){a.interaction&&a.interaction.name&&a.debug&&a.debug.explanations&&(a.explain=a.debug.explanations,delete a.debug.explanations)}},{key:"onEventSend",value:function(a){var b=this;this.handlePerformanceTimingBeforeEvent();document.dispatchEvent(new CustomEvent(p.CustomEvents.OnEventSend,
{detail:{actionEvent:a},cancelable:!0}))&&document.dispatchEvent(new CustomEvent(ea.OnBeforeEventSend,{detail:{actionEvent:a},cancelable:!0}))?(this.handleDebug(a),this.handleSpecialEvent(a),t.debug("Sending event: ",a),this.send(a).then(function(e){Fc(a);(a.pageView||a.flags&&a.flags.pageView)&&b.handlePerformanceTimingInResponse();b.handlePersistedIdentityInResponse(e);t.debug("Received event response: ",e);if(e.campaignResponses){var f=e.campaignResponses.map(function(a){return a.experienceId});
l.campaignResponses=[].concat(ab(e.campaignResponses),ab(l.campaignResponses.filter(function(a){return!f.includes(a.experienceId)})))}document.dispatchEvent(new CustomEvent(p.CustomEvents.OnEventResponse,{detail:{response:e,actionEvent:a}}));document.dispatchEvent(new CustomEvent(ea.OnEventResponse,{detail:{response:e,actionEvent:a}}))}).catch(function(a){w(a,"Server Response")})):t.debug("MCIS Module onBeforeEventSend cancelled.")}},{key:"send",value:function(a){var b=this;return new Promise(function(e,
g){if(Df(a.action||a.interaction&&a.interaction.name)){try{var f=JSON.stringify(a)}catch(R){return g(R)}var k=new XMLHttpRequest;k.onload=function(){if(200<=this.status&&300>this.status)try{var a=JSON.parse(k.response);e(a)}catch(ve){g(wb(ve,{status:this.status,statusText:k.statusText}))}else g(wb("Response was not OK: ".concat(k.responseText),{status:this.status,statusText:k.statusText}))};k.onerror=function(){g(wb("Response error: ".concat(k.responseText),{status:this.status,statusText:k.statusText}))};
if(a.debug&&a.debug.explanations||a.explain)k.withCredentials=!0;if("true"==$b("isReadableEvent"))b.sendPost(k,b.baseURL,f);else try{if(!/^[\x20-\x7E]+$/.test(f))throw Error("GET request payload contains non-ASCII characters, try sending POST request");var l=encodeURIComponent(window.btoa(f)),m=b.baseURL+"?event="+l;if(8192<m.length)throw Error("GET request URL exceeds 8192 characters, try sending POST request");b.sendGet(k,m)}catch(R){b.sendPost(k,b.baseURL,f)}}else g(Error("Event Rate Limiter triggered"))})}},
{key:"sendGet",value:function(a,e){a.open("GET",e,!0);a.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01");a.send()}},{key:"sendPost",value:function(a,e,f){a.open("POST",e,!0);a.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01");a.setRequestHeader("Content-Type","application/x-www-form-urlencoded");a.send("event="+encodeURIComponent(f))}}]);return a}(),ec,Id=function(a){return(a.contentZones||[]).reduce(function(a,e){e=fc(e);"string"===typeof(e||{}).name&&
""!==(e||{}).name&&a.push(e);return a},[])},Jd=function(a){return(a.contentZones||[]).reduce(function(a,e){e=fc(e);"string"===typeof(e||{}).name&&""!==(e||{}).name&&a.push((e||{}).name);return a},[])},fc=function(a){var b=!(a||{}).selector||0<B((a||{}).selector).length;return y({},a,{selectorFound:b})},Kd=function(a){var b=(l.result.matchedConfig||{}).contentZones;return b?(b=b.find(function(b){return b.name===a}))&&b.selector?b.selector:null:null},Va,Md=function(){var a=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:!0;Wa();Ld(a)&&(Va=setInterval(function(){var b=!1,e=(new Date).getTime(),f=l.result.matchedConfig||{},g=f.listeners||[];f=f.contentZones||[];a&&(g=g.map(function(a){if(a.selectorFound)return a;a=Ra(a);b=a.selectorFound||b;return a}));f=f.map(function(a){if(a.selectorFound)return a;a=fc(a);b=a.selectorFound||b;return a});b&&Object.assign(l.result.matchedConfig,y({},l.result.matchedConfig,{contentZones:f,listeners:g}));(50<(new Date).getTime()-e||!Ld(a))&&Wa()},1E3))},Ld=
function(a){if(l.result.matchedConfig){var b=l.result.matchedConfig,e=b.listeners;b=b.contentZones;var f,g=!1;e&&a&&(f=!!e.filter(function(a){return!a.selectorFound}).length);b&&(g=!!b.filter(function(a){return!a.selectorFound}).length);return f||g}return!1},Wa=function(){"number"===typeof Va&&clearInterval(Va);Va=null},Ff=function(){l.result&&l.result.matchedConfig&&l.result.matchedConfig.listeners&&l.result.matchedConfig.listeners.forEach(function(a){B(a.selector).off(a.bind)})},Nd={_id:!0,id:!0,
currency:!0,inventoryCount:!0,price:!0,tagType:!0,type:!0},gc=function(){var a=0<B('script[src*="//translate.googleusercontent.com"]').length,b=0<B("html.translated-ltr").length||0<B("html.translated-rtl").length;if(a||b)return t.debug("page is translated"),!0;try{var e=0<B(window.parent.document).find('script[src*="//www.microsofttranslator.com"]').length,f=0<B(window.parent.document).find('frame[src*="//www.worldlingo.com"]').length;if(e||f)return t.debug("page is translated"),!0;t.debug("page is not translated");
return!1}catch(g){return t.debug("exception caught, assuming page is untranslated "+g),!1}},Gf=function(a){Object.keys(a).forEach(function(b){var e=a[b];Object.keys(e).forEach(function(a){Nd[a]||delete e[a]})});return a},Hf=function(a){Object.keys(a).forEach(function(b){Nd[b]||delete a[b]});return a},Od=function(){return l.config&&l.config.settings&&l.config.settings.truncateTranslated&&gc()},Pd=function(a){(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)&&$c(a);if(!Ba(a))return Promise.resolve(a);
If(a);Jf(a);ec.onEventSend(a);return new Promise(function(a){document.addEventListener(p.CustomEvents.OnEventResponse,function(b){b&&b.detail&&b.detail.response&&a(b.detail.response)})})},If=function(a){var b=L(),e=qa(a.user||{},["anonymousId"]);a.user=y({},e||{},{anonId:b.uuid});Qd(a)},Qd=function(a){var b=L();b.persistedUserId&&(a.user.encryptedId=b.persistedUserId);b=L();a.account=a.account||{};b.persistedAccountId&&(a.account.encryptedId=b.persistedAccountId);if(b=$b("evergageTestMessages"))a.debug?
a.debug.testMessages=b:a.debug={testMessages:b};a.source=y({},a.source||{},{beaconVersion:16,configVersion:q.endpointConfig.siteConfigVersion,contentZones:Kf(a.source,a.pageView||(a.flags||{}).pageView)});if(x.domLoadTime||x.pageLoadTime||x.sdkParseTime||x.sdkLoadTime||x.sdkDnsTime)a.performance=y({},x.domLoadTime&&{domLoadTime:x.domLoadTime},{},x.pageLoadTime&&{pageLoadTime:x.pageLoadTime},{},x.sdkParseTime&&{sdkParseTime:x.sdkParseTime},{},x.sdkLoadTime&&{sdkLoadTime:x.sdkLoadTime},{},x.sdkDnsTime&&
{sdkDnsTime:x.sdkDnsTime})},Kf=function(a,b){return(a.contentZones||[]).reduce(function(a,f){!b&&"object"===z(f)&&(f||{}).name&&t.warn("Using content zone objects in 'sendEvent' will soon be deprecated in favor of zone names as strings");f="string"===typeof f&&""!==f?f:(f||{}).name;"string"===typeof f&&""!==f&&a.push(f);return a},[])},Jf=function(a){a.catalog&&0<Object.keys(a.catalog).length&&Object.keys(a.catalog).forEach(function(b){if(a.catalog[b]){if(a.catalog[b].dimensions&&a.catalog[b].relatedCatalogObjects)return w(Error("Catalog cannot include both dimensions and relatedCatalogObjects"),
"Sitemap"),!1;var e=a.catalog[b].relatedCatalogObjects||a.catalog[b].dimensions;e&&"object"===z(e)&&Object.keys(e).forEach(function(a){if(!Array.isArray(e[a]))return w(Error("".concat(a," is not an array. Related Catalog Objects must have type of string[]")),"Sitemap"),!1})}});return!0},Lf=function(a){a&&("catalogObject"in a?Xa(a.catalogObject):"lineItem"in a?Xa(a.lineItem):"lineItems"in a?a.lineItems.map(function(a){return Xa(a)}):"order"in a&&Xa(a.order))},Xa=function(a){if("object"===z(a))for(var b=
0,e=Object.keys(a);b<e.length;b++){var f=e[b],g=a[f];if("lineItems"===f&&Array.isArray(g))g.map(function(a){a.catalogObjectId&&"string"===typeof a.catalogObjectId&&(a.catalogObjectId=a.catalogObjectId.trim())});else if("relatedCatalogObjects"===f){f=0;for(var h=Object.keys(g);f<h.length;f++){var k=h[f];Array.isArray(g[k])&&(g[k]=g[k].map(function(a){if("string"===typeof a)return a.trim()}))}}else"catalogObjectId"!==f&&"id"!==f||"string"!==typeof g||(a[f]=g.trim())}},Ya=function(a){a:{var b=a,e=l.result.matchedConfig;
try{b=e&&e.onActionEvent?e.onActionEvent(b):b;if("object"===z(b)){a=b;break a}w(Error("onActionEvent failed for the ".concat(l.result.matchedConfig.name," page config. Must return an object or null.")),"Site-wide Javascript")}catch(f){w(Error("onActionEvent failed for the ".concat(l.result.matchedConfig.name," page config. ").concat(f.message,".")),"Site-wide Javascript")}a=void 0}a:{b=a;e=l.config;try{b=e.global&&e.global.onActionEvent?e.global.onActionEvent(b):b;if("object"===z(b)){a=b;break a}w(Error("onActionEvent failed for the global page config. Must return an object or null."),
"Site-wide Javascript")}catch(f){w(Error("onActionEvent failed for the global page config. ".concat(f.message,".")),"Site-wide Javascript")}a=void 0}return a.action===na.MetadataUpdate?Pd(a,!1):Pd(a)},Rd=function(){l.config=y({},l.config,{},N);Wa()},Sd=function(a){a=a.detail.actionEvent;try{var b=JSON.parse(JSON.stringify(a))}catch(f){w(f,"Copy ActionEvent")}if(b){var e=r;l.result=y({},l.result,{},e,{},{currentPage:l.result.currentPage});a===e.currentPage&&(l.result.currentPage=b);!Ba(a)||!l.config.settings.runOnTranslatedPage&&
gc()||(b.interaction&&b.interaction.catalogObject&&Od()&&Hf(b.interaction.catalogObject),Lf(b.interaction),Qd(b),b&&b.source&&Array.isArray(b.source.contentZones)&&0<b.source.contentZones.length||(a=r.matchedConfig)&&b.pageView&&(l.result.matchedConfig=y({},a,{contentZones:Id(a)}),l.result.currentPage=y({},l.result.currentPage||{},{source:y({},l.result.currentPage.source||{},{contentZones:Jd(a)})}),b.source.contentZones=l.result.currentPage.source.contentZones,Md(!1)),ec.onEventSend(b))}else t.warn("MCIS Module cannot parse event")},
Td=function(a){l.result.matchStatus=r.matchStatus;document.dispatchEvent(new CustomEvent(p.CustomEvents.OnPageMatchStatusUpdated,{detail:{matchStatus:a.detail.matchStatus}}))},Ud=function(a){if(a&&a.detail){var b=a.detail.error;var e=a.detail.context;document.dispatchEvent(new CustomEvent(p.CustomEvents.OnException,{detail:{error:b,context:e}}));a={};Xb(a);Yb(a);a[".em"]=Aa(b.message||b);a[".es"]=e;var f=window.navigator.userAgent.toLowerCase();e="unknown";var g="";switch(!0){case -1<f.indexOf("edge"):e=
"ie";g="edge";break;case -1<f.indexOf("trident"):e="ie";g="trident";break;case -1<f.indexOf("chrome")&&!!window.chrome:g=e="chrome";break;case -1<f.indexOf("firefox"):g=e="mozilla";break;case -1<f.indexOf("safari"):g=e="safari"}"unknown"!==e?(f=(new RegExp("".concat(g,"/(.*?)s"),"gm")).exec(f),f=parseInt(!!f&&f[1]),f=isNaN(f)?null:f):f=null;a[".vt"]=e;f&&(a[".vn"]=f);switch(e){case "safari":rd(a,b,gf);break;case "mozilla":rd(a,b,hf);break;default:b&&b.stack&&"string"===typeof b.stack&&(b=b.stack.split("\n")[1],
b=b.substring(b.indexOf("at ")+3).match(/(.*) \((.*):(\d+):(\d+)\)/),Array.isArray(b)&&qd(a,{header:b[1],fileName:b[2],line:b[3],column:b[4]}))}Ba(a)&&ud.send(a)}},Vd=function(a){document.dispatchEvent(new CustomEvent(p.CustomEvents.OnConsentRevoke,{detail:{revokedConsent:a.detail.revokedConsent}}))},Wd=function(a){if(a.detail&&a.detail.newAnonymousId){var b=L();b.uuid!==a.detail.newAnonymousId&&(b.uuid=a.detail.newAnonymousId,Ub(b))}},Mf=function(a){var b=a.detail.actionEvent;b.interaction&&b.interaction.name===
na.MetadataUpdate&&(a.preventDefault(),Ya({action:na.MetadataUpdate,consents:b.consents,source:b.source,user:b.user}))},hc=function(){document.removeEventListener(v.OnInitSitemap,Rd);document.removeEventListener(v.OnEventSend,Sd);document.removeEventListener(v.OnPageMatchStatusUpdated,Td);document.removeEventListener(v.OnException,Ud);document.removeEventListener(v.OnConsentRevoke,Vd);document.removeEventListener(v.OnSetAnonymousId,Wd)},Nf=function(a){return(a.listeners||[]).map(function(a){return Ra(a)})},
Xd=function(a){ed(a);document.dispatchEvent(new CustomEvent(p.CustomEvents.OnInitSitemap,{detail:{sitemapConfig:l.config}}))},Zd=function(a){Yd(a);return!0},$d=function(a){l.result.matchedConfig=y({},a,{contentZones:Id(a),listeners:Nf(a)});var b=l.result,e=l.result.currentPage||{};var f="function"===typeof a.action?a.action():a.action;var g=a.catalog?a.itemAction||p.ItemAction.ViewItem:null,h=a.name;var k="function"===typeof a.locale?a.locale():a.locale;b.currentPage=y({},e,{action:f,itemAction:g,
source:{pageType:h,locale:k,contentZones:Jd(a)},flags:{pageView:!0},user:{},performance:{},debug:{}});return Of(a)},Of=function(a){return a.itemAction===p.ItemAction.ViewCart||a&&a.cart&&a.cart.complete?Pf(a).then(function(a){l.result.currentPage.itemAction=p.ItemAction.ViewCart;l.result.currentPage.cart=a}):a.itemAction===p.ItemAction.Purchase||a&&a.order?Qf(a).then(function(a){l.result.currentPage.itemAction=p.ItemAction.Purchase;l.result.currentPage.order=a}):Rf(a).then(function(a){l.result.currentPage.catalog=
a})},Pf=function(a){var b={};if(!a.catalog&&!a.cart&&!a.order)return Promise.resolve(b);if(a.cart)var e=a.cart;else if(a.order||a.catalog){var f={},g=a.order||a.catalog;Object.keys(g).forEach(function(a){var b=g[a];b&&b.lineItems&&(f[a]=b.lineItems)});e={complete:f}}if(e.complete){a=e.complete;for(var h in a)return Array.isArray(h.match(/[A-Z]/))?"Product"!==h?(w(Error("Item type must be Product"),"Sitewide Javascript"),Promise.resolve(b)):uf(a[h]):(w(Error("Item types must be capitalized. Did you mean ".concat(h.replace(/^\w/,
function(a){return a.toUpperCase()}),"?")),"Sitewide Javascript"),Promise.resolve(b))}},Qf=function(a){var b={};if(!a.catalog&&!a.order)return Promise.resolve(b);a=a.order||a.catalog;for(var e in a)return Array.isArray(e.match(/[A-Z]/))?"Product"!==e?(w(Error("Item type must be Product"),"Sitewide Javascript"),Promise.resolve(b)):yf(a[e]):(w(Error("Item types must be capitalized. Did you mean ".concat(e.replace(/^\w/,function(a){return a.toUpperCase()}),"?")),"Sitewide Javascript"),Promise.resolve(b))},
Rf=function(a){var b={};if(!a.catalog)return Promise.resolve(b);for(var e in a.catalog)return Array.isArray(e.match(/[A-Z]/))?Sf(a.catalog[e],e):(w(Error("Item types must be capitalized. Did you mean ".concat(e.replace(/^\w/,function(a){return a.toUpperCase()}),"?")),"Sitewide Javascript"),Promise.resolve(b))},Sf=function(a,b){return xf(a,b).then(function(a){Object.keys(a).forEach(function(e){a[e]._id||w(Error("Invalid ".concat(b,", missing _id for the ").concat(l.result.matchedConfig.name," page config.")),
"Site-wide Javascript")});return Od()?Gf(a):a})},Tf=function b(){for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return f.reduce(function(e,f){Object.keys(f).forEach(function(g){var h=e[g],k=f[g];Array.isArray(h)&&Array.isArray(k)?Object.assign(e,M({},g,h.concat.apply(h,ab(k)))):h&&"object"===z(h)&&k&&"object"===z(k)?Object.assign(e,M({},g,b(h,k))):Object.assign(e,M({},g,k))});return e},{})},ae=function(b){var e=l.config.global||{},f=e.onActionEvent;delete e.onActionEvent;b=Tf(e,
b);e.onActionEvent=f;return b},Xf=function(b){try{return Uf(b.global),Vf(b.pageTypeDefault),Wf(b.pageTypes),!0}catch(e){return w(Error(e),"Sitemap"),!1}},Vf=function(b){b&&Object.keys(b).forEach(function(b){if("contentZones"!==b&&"listeners"!==b&&"locale"!==b&&"name"!==b&&"onActionEvent"!=b)throw Error("".concat(b," is not a valid default config attribute."));})},Uf=function(b){b&&Object.keys(b).forEach(function(e){if("contentZones"!==e&&"listeners"!==e&&"locale"!==e&&"onActionEvent"!=e)throw Error("".concat(e,
" is not a valid global config attribute."));if("contentZones"===e&&b[e]&&!Array.isArray(b[e]))throw Error("global config: contentZones must be provided as an array of objects");})},Wf=function(b){b.forEach(function(b){if(!b.name||!b.isMatch)throw Error("All page configs must have a name and isMatch attribute defined");if(b&&b.contentZones&&!Array.isArray(b.contentZones))throw Error("".concat(b.name," pageType config: contentZones must be provided as an array of objects"));})},Yf=function(){var b=
l.result;Ya(l.result.currentPage);l.result=b},Yd=function(b){Xd(b);Tc();Ff();Wa();if(l.config.settings.runOnTranslatedPage||!gc())l.result.currentPage=null,Xf(b)&&Pa(b.pageTypes).then(ae).then($d).then(Yf).then(function(){return Md()}).catch(function(b){"sitemap_reinit"!==b&&w(Error("Unhandled exception: ".concat(b)),"Site-wide Javascript")})};document.addEventListener(v.OnInit,function(b){var e=b.detail.sdkConfig;if("running"==q.beaconState)T("reinitializing MCIS Module");else{b=e.cookieDomain;var f=
e.consents;e=qa(e,["cookieDomain","consents"]);b&&(q.beaconConfig.cookieDomain=b);f&&(q.beaconConfig.consents=f);var g=q.endpointConfig;b=g.account;f=g.dataset;q.beaconConfig=y({},q.beaconConfig,{trackerUrl:g.trackerUrl},e);e=ld();g=document.dispatchEvent(new CustomEvent(p.CustomEvents.OnInit,{detail:{beaconConfig:e},cancelable:!0}));document.dispatchEvent(new CustomEvent(ea.OnInit,{detail:{sdkConfig:e}}));g?(S.setCookieHash(b,f,la),g=S.read("a"),e=S.read("n"),g&&"object"===z(g)&&0<Object.keys(g).length?
(q.visitor=y({},q.visitor,{},{uuid:g.uuid,affinityId:g.affinityId,persistedUserId:g.puid,persistedAccountId:g.paid}),q.visitor.uuid!==W&&Wb(),t.debug("Loaded visitor record from cookie: ".concat(JSON.stringify(L())))):"string"===typeof g&&0<g.length||null!=e&&"object"===z(e)?(g&&"object"!==z(g)&&(g=g.split("."),0<g.length&&(q.visitor.uuid=g[0],1<g.length&&g[1]&&(q.visitor.affinityId=g[1])),S.remove("a",{domain:q.beaconConfig.cookieDomain}),S.remove("a",{domain:Vb(location.hostname)})),e&&"object"===
z(e)&&(e.puid&&"string"===typeof e.puid&&(q.visitor.persistedUserId=e.puid),e.paid&&"string"===typeof e.paid&&(q.visitor.persistedAccountId=e.paid),S.remove("n",{domain:q.beaconConfig.cookieDomain}),S.remove("n",{domain:Vb(location.hostname)})),Wb(),t.debug("Classic cookie detected with anonymousId: ".concat(L().uuid))):(Rc()?q.visitor.uuid=W:(q.visitor.uuid=Bc(),Wb()),t.debug("Created new visitor record. anonymousId: ".concat(L().uuid))),e=L(),Ub(e),e=q.beaconConfig.trackerUrl,ec=new Ef(e+"/api2/event/"+
q.endpointConfig.dataset),sd=new Zb(e+"/msreceiver"),td=new Zb(e+"/pr"),ud=new sf(e+"/er"),hc(),document.addEventListener(v.OnInitSitemap,Rd),document.addEventListener(v.OnEventSend,Sd),document.addEventListener(v.OnPageMatchStatusUpdated,Td),document.addEventListener(v.OnException,Ud),document.addEventListener(v.OnConsentRevoke,Vd),document.addEventListener(v.OnSetAnonymousId,Wd),Cf.setupActivityTimers(),t.debug("Initialized Tracking Beacon v".concat(16," for account[").concat(b,"] dataset[").concat(f,
"]")),q.beaconState="running"):(hc(),t.debug("Cancelling activity tracking."),clearTimeout(U),U=-1,aa(window,"unload",tb),aa(window,"blur",ub),aa(window,"focus",vb),aa(document,"mousemove keydown scroll click",wa),t.debug("IS Module initialization canceled due to a preventDefault call in a listener for the OnInit event."))}});document.addEventListener(v.OnShutDown,function(b){b=b.detail.message;t.info("Shutting down MCIS Module: ".concat(b));document.dispatchEvent(new CustomEvent(p.CustomEvents.OnShutDown,
{detail:{message:b}}));q.beaconState="shutDown";for(hc();Y.length;)Y.pop();dc=!1});var be=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e){document.addEventListener(v.OnBeforeEventSend,Mf);Nb(b).catch(function(b){});"running"===q.beaconState&&e(q)})},ce=function(b){b.campaignStats.forEach(function(b){var e=l.campaignResponses.find(function(e){return e.experienceId===b.experienceId});document.dispatchEvent(new CustomEvent(p.CustomEvents.OnStatSend,
{detail:{campaignStat:b,campaignResponse:e}}));document.dispatchEvent(new CustomEvent(ea.OnStatSend,{detail:{campaignStat:b,campaignResponse:e}}))});return Ba(b)?sd.send(of(b)):Promise.resolve(b)};window.SalesforceInteractions&&(window.SalesforceInteractions.mcis={extractFirstGroup:oa.extractFirstGroup,getLastPathComponentWithoutExtension:oa.getLastPathComponentWithoutExtension,getParameterByName:oa.getParameterByName,getValueFromNestedObject:oa.getValueFromNestedObject,buildLineItemFromPageState:tf,
cookie:oa.cookie,sendStat:ce,getContentZoneSelector:Kd,getSdkConfig:ld,getSitemapConfig:od,getSitemapResult:nd,getCampaignResponses:pd,CustomEvents:ea,ConsentPurpose:Pb,CatalogObjectInteractionName:va});p.ConsentPurpose=Pb;p.DisplayUtils=kd;p.addEventListener=function(b){t.warn("Evergage.addEventListener is deprecated. Use the Evergage.CustomEvents.OnEventSend event instead.");return null};p.addResponseListener=function(b){t.warn("Evergage.addResponseListener is deprecated. Use the Evergage.CustomEvents.OnEventResponse event instead.");
return null};p.build=function(b){Pa(b.pageTypes).then(ae).then($d).catch(function(b){"sitemap_reinit"!==b&&w(Error("Unhandled exception: ".concat(b)),"Site-wide Javascript")})};p.cashDom=B;p.configure=function(b,e){"running"==q.beaconState&&t.debug("Unbinding signal subscriptions.");q.beaconState="initializing";q.endpointConfig=y({},q.endpointConfig,{},b);var f=q.endpointConfig;b=f.account;var g=f.dataset;f=f.siteConfigVersion;if(!b||!g)return T("account/dataset undefined. Check your beacon configuration.");
if(!f)return T("beacon config version undefined");q.endpointConfig.cdnUrl||(q.endpointConfig.cdnUrl="https://".concat(ef));if(!q.endpointConfig.cdnUrl)return T("cdnUrl undefined. Check your beacon configuration.");q.endpointConfig.trackerUrl||(f=q.endpointConfig,b="https://".concat({account:b,dataset:g}.account,".").concat("evergage.com"),f.trackerUrl=b);if(!q.endpointConfig.trackerUrl)return T("trackerUrl undefined. Check your beacon configuration.");q.beaconConfig.trackerUrl=q.endpointConfig.trackerUrl;
q.beaconConfig=y({},q.beaconConfig,{},e);q.beaconState="configured"};p.getCampaignResponses=pd;p.getConfig=Rb;p.getConsents=Vc;p.getContentZoneSelector=Kd;p.getCurrentPage=Gc;p.getLoggingLevel=Ac;p.getSitemapConfig=od;p.getSitemapResult=nd;p.getState=Ta;p.getVersion=function(){return 16};p.init=be;p.initSitemap=Zd;p.listener=function(b,e,f){var g="object"===z(f)?function(){t.warn("ListenerOptions are deprecated. Please use a callback in the Listener instead.");var b=y({},f,{user:{}});Ya(b)}:f;return Cc(b,
e,g)};p.log=t;p.reinit=function(){var b=P.map(function(b){return b.consent});be(y({},Rb(),{consents:b})).then(function(){Zd(l.config)})};p.removeCookies=function(b){b&&S.setCookieHash(q.endpointConfig.account,q.endpointConfig.dataset,b);document.dispatchEvent(new CustomEvent(v.OnClearCookie,{detail:{options:{domain:b||q.beaconConfig.cookieDomain||Vb(location.hostname)}}}))};p.resolvers=id;p.runSpecificConfig=function(b){Object.assign(l.config,{pageTypes:[b]});Yd(l.config)};p.sendEvent=Ya;p.sendException=
w;p.sendStat=ce;p.setConfig=Xd;p.setLoggingLevel=zc;p.shutDown=T;p.updateConsents=Jb;p.util=oa;return p}({});
window.evergageBeaconParseTimeEnd = (new Date().getTime());

(function configureEvergage() {
    try {
       Evergage.configure({
           account: "zebra",
           dataset: "engage",
           cdnUrl: "https://cdn.evergage.com",
           trackerUrl: "https://zebra.us-1.evergage.com",
           siteConfigVersion: "408"
       },{"allowBotTraffic":false,"corsAllowedOrigins":["*"],"defaultCurrency":"USD","defaultLocale":null,"disableQtipWindowScroll":false,"doNotStoreCookiesRequireProvidedAnonId":false,"doNotTrackPingRequestsForActions":false,"enableCorsRestrictedOrigins":false,"enableMessageRotation":false,"enableRememberMeUserIds":true,"enableTemplateEsc":false,"hideContentSections":true,"hideContentSectionsMillis":3500,"hidePagesForRedirect":true,"hidePagesForRedirectMillis":300,"identityAttributes":["profileId"],"lastModified":1647512714559,"preventSensitiveDataCapture":false,"rememberMeUserIdsMillis":63072000000,"sendErrorEvents":true,"showPoweredBy":false,"siteConfigExecBeforePageReady":false,"spaRouteChangeTimeout":500,"trackAnonymousVisitors":true,"trackContextualRelatedItems":false,"trackSubdomainAsCompany":false,"trackUnknownPagesByTitle":false,"treatHashChangeAsPageLoad":false}       );
    } catch (e) {
          console.error(e);
    }
})();


try {
    const CAMPAIGN_STAT_ATTRIBUTE = {
    CAMPAIGN: "data-evg-campaign-id",
    EXPERIENCE: "data-evg-experience-id",
    USER_GROUP: "data-evg-user-group",
    CLICKTHROUGH: "data-evg-clickthrough",
    IGNORE_CLICKTHROUGH: "data-evg-ignore-clickthrough",
    DISMISSAL: "data-evg-dismissal",
    ITEM: "data-evg-item-id",
    ITEM_TYPE: "data-evg-item-type"
};

const CAMPAIGN_STAT_TYPE = {
    IMPRESSION: "Impression",
    CLICKTHROUGH: "Clickthrough",
    DISMISSAL: "Dismissal"
};

const CAMPAIGN_STAT_USER_GROUP = {
    TEST: "Test",
    CONTROL: "Control"
};

document.addEventListener(Evergage.CustomEvents.OnTemplateDisplayEnd, (event) => {
    if (validateOnTemplateDisplayEndEvent(event)) {
        const payload = event.detail.payload;
        const campaignElement = getCampaignElementFromPayload(payload);
        sendImpression(payload, campaignElement);
        bindCampaignClickthroughsAndDismissals(campaignElement);
    }
});

const sendImpression = (payload, campaignElement) => {
    const userGroup = payload.userGroup;
    const stat = {
        control: userGroup === CAMPAIGN_STAT_USER_GROUP.CONTROL,
        experienceId: payload.experience,
        stat: CAMPAIGN_STAT_TYPE.IMPRESSION
    };
    const itemStats = generateItemStats(campaignElement);
    if (Object.keys(itemStats).length > 0) {
        stat.catalog = itemStats;
    }
    if (userGroup === CAMPAIGN_STAT_USER_GROUP.CONTROL || (userGroup === CAMPAIGN_STAT_USER_GROUP.TEST && campaignElement.length > 0)) {
        Evergage.sendStat({campaignStats: [stat]});
    } else {
        Evergage.log.warn("campaignStatsTracking.js", "Experience", payload.experience, "not found in DOM.");
    }
};

const generateItemStats = (campaignElement) => {
    const catalogStats = {};
    const itemNodes = Evergage.cashDom(campaignElement).find("[" + CAMPAIGN_STAT_ATTRIBUTE.ITEM_TYPE + "]");
    if (!itemNodes || itemNodes.length === 0) {
        return catalogStats;
    }
    Array.from(itemNodes).forEach(function(itemNode) {
        const itemId = Evergage.cashDom(itemNode).attr(CAMPAIGN_STAT_ATTRIBUTE.ITEM);
        const itemType = Evergage.cashDom(itemNode).attr(CAMPAIGN_STAT_ATTRIBUTE.ITEM_TYPE);
        if (itemId && itemType) {
            if (!catalogStats[itemType]) {
                catalogStats[itemType] = [];
            }
            if (!catalogStats[itemType].includes(itemId)) {
                catalogStats[itemType].push(itemId);
            }
        }
    });
    return catalogStats;
}

const buildCampaignSelector = (experienceId) => {
    return `[${CAMPAIGN_STAT_ATTRIBUTE.EXPERIENCE}='${experienceId}']`
}

const getCampaignElementFromPayload = (payload) => {
    const experienceId = payload.experience;
    const campaignSelector = buildCampaignSelector(experienceId);
    return Evergage.cashDom(campaignSelector);
};

const getCampaignClickthroughAndDismissalElements = (campaignElement) => {
    const experienceId = Evergage.cashDom(campaignElement).attr(`${CAMPAIGN_STAT_ATTRIBUTE.EXPERIENCE}`);
    const campaignSelector = buildCampaignSelector(experienceId);
    return Evergage.cashDom(campaignElement).parent().find(`
        ${campaignSelector}[${CAMPAIGN_STAT_ATTRIBUTE.CLICKTHROUGH}],
        ${campaignSelector} a,
        ${campaignSelector} [${CAMPAIGN_STAT_ATTRIBUTE.CLICKTHROUGH}],
        ${campaignSelector} [${CAMPAIGN_STAT_ATTRIBUTE.DISMISSAL}]
    `);
};

const sendClickthroughOrDismissal = (e) => {
    if (Evergage.cashDom(e.target).closest(`[${CAMPAIGN_STAT_ATTRIBUTE.IGNORE_CLICKTHROUGH}]`).length > 0) {
        return;
    }
    const campaignElement = Evergage.cashDom(e.target).closest(`[${CAMPAIGN_STAT_ATTRIBUTE.EXPERIENCE}]`);
    if (campaignElement.length > 0  && Evergage.cashDom(e.target).closest(`
        a,
        [${CAMPAIGN_STAT_ATTRIBUTE.CLICKTHROUGH}],
        [${CAMPAIGN_STAT_ATTRIBUTE.DISMISSAL}]`).length > 0) {

        const stat = {
            control: campaignElement.attr(CAMPAIGN_STAT_ATTRIBUTE.USER_GROUP) === CAMPAIGN_STAT_USER_GROUP.CONTROL,
            experienceId: campaignElement.attr(CAMPAIGN_STAT_ATTRIBUTE.EXPERIENCE),
            stat: Evergage.cashDom(e.target).closest(`[${CAMPAIGN_STAT_ATTRIBUTE.CLICKTHROUGH}]`).length > 0 || Evergage.cashDom(e.target).closest("a").length > 0
                ? CAMPAIGN_STAT_TYPE.CLICKTHROUGH
                : CAMPAIGN_STAT_TYPE.DISMISSAL
        };

        if (stat.stat === CAMPAIGN_STAT_TYPE.CLICKTHROUGH) {
            const itemClickthroughStats = generateItemClickthroughStats(e.target);
            if (Object.keys(itemClickthroughStats).length > 0) {
                stat.catalog = itemClickthroughStats;
            }
        }

        Evergage.sendStat({campaignStats: [stat]});
    }
};

const generateItemClickthroughStats = (target) => {
    const itemStats = {};
    const itemId = Evergage.cashDom(target).closest("[" + CAMPAIGN_STAT_ATTRIBUTE.ITEM + "]").attr(CAMPAIGN_STAT_ATTRIBUTE.ITEM);
    const itemType = Evergage.cashDom(target).closest("[" + CAMPAIGN_STAT_ATTRIBUTE.ITEM_TYPE + "]").attr(CAMPAIGN_STAT_ATTRIBUTE.ITEM_TYPE);

    if (itemId && itemType) {
        itemStats[itemType] = [itemId];
    }
    return itemStats;
}

const bindCampaignClickthroughsAndDismissals = (campaignElement) => {
    const elements = getCampaignClickthroughAndDismissalElements(campaignElement);
    elements.off("click", sendClickthroughOrDismissal);
    elements.on("click", sendClickthroughOrDismissal);
};

const validateOnTemplateDisplayEndEvent = (event) => {
    if (!event.detail) {
        Evergage.log.warn("campaignStatsTracking.js", "No detail object found for onTemplateDisplayEndEvent", event);
        return false;
    }
    if (!event.detail.payload) {
        Evergage.log.warn("campaignStatsTracking.js", "No payload object found for onTemplateDisplayEndEvent", event);
        return false;
    }
    if (!event.detail.payload.campaign) {
        Evergage.log.warn("campaignStatsTracking.js", "No campaign found in payload object", event.detail);
        return false;
    }
    if (!event.detail.payload.experience) {
        Evergage.log.warn("campaignStatsTracking.js", "No experience found in payload object", event.detail);
        return false;
    }
    if (!event.detail.payload.userGroup) {
        Evergage.log.warn("campaignStatsTracking.js", "No user group found in payload object", event.detail);
        return false;
    }
    return true;
};

} catch (e) {
    if (typeof window.Evergage === "object" && typeof window.Evergage.getVersion === "function" && window.Evergage.getVersion() >= 5) {
        Evergage.sendException(e, "beaconExtension: Campaign Stats Tracking:campaignStatsTracking.js");
    }
};


try {
    /**
 *  Personalization Flicker Defense
 */
Evergage.FlickerDefender = Evergage.FlickerDefender || (() => {
    const personalizationSectionsSelector = "head > style.evergagePersonalizationSections";

    let personalizedSectionsString = "";
    let sectionsHaveEverBeenHidden = false;
    let hasBeenHidden = false;
    let shouldReshowNow = false;
    let hiddenSections = {};

    const timeoutOptions = {
        pageMatchTimeout: 1000,
        redisplayTimeout: Evergage.getConfig().hideContentSectionsMillis || 2500
    }

    const utils = {
        getGlobalContentZoneSelectors: () => {
            return ((Evergage.getState().config.global || {}).contentZones || [])
                .filter((contentZone) => (contentZone || {}).selector)
                .map((contentZone) => contentZone.selector);
        },
        getPageTypeContentZoneSelectors: () => {
            const { pageTypes } = Evergage.getState().config;
            return pageTypes.length < 1
                ? []
                : pageTypes
                    .map((pageType) => pageType.contentZones || [])
                    .reduce((acc, contentZonesArr) => acc.concat(contentZonesArr), [])
                    .filter((contentZone) => (contentZone || {}).selector)
                    .map((contentZone) => contentZone.selector);
        },
        buildContentZoneSelectors: () => {
            return [
                ...new Set([
                    ...utils.getGlobalContentZoneSelectors(),
                    ...utils.getPageTypeContentZoneSelectors()
                ])
            ];
        },
        addToPersonalizedSectionsString: (selector) => {
            if (typeof selector === "string") {
                try {
                    document.querySelector(selector);
                    if (personalizedSectionsString !== "") {
                        personalizedSectionsString += ", ";
                    }
                    personalizedSectionsString += selector;
                } catch (exception) {
                    Evergage.sendException(exception, "hideSectionsInvalidCSSSelector");
                }
            }
        },
        hasBeenReshown: () => {
            return Evergage.cashDom(personalizationSectionsSelector).length === 0;
        }
    };

    const actions = {
        hideSections: () => {
            if (sectionsHaveEverBeenHidden) return;

            const selectors = utils.buildContentZoneSelectors();
            if (selectors.length === 0) {
                Evergage.log.debug("Evergage: Issue with malformed request in hideSections.");
                return;
            }
            for (const selector of selectors) {
                utils.addToPersonalizedSectionsString(selector);
            }

            if (!personalizedSectionsString) return;

            const head = document.head || document.getElementsByTagName("head")[0];
            const style = document.createElement("style");
            Evergage.cashDom(style)
                .attr({ type: "text/css", class: "evergagePersonalizationSections" })
                .text(`${personalizedSectionsString} { visibility: hidden !important; }`);

            clearTimeout(window.evergageReshowPersonalizedSectionsTimeout);
            window.evergageReshowPersonalizedSectionsTimeout = setTimeout(function () {
                if (utils.hasBeenReshown()) return;
                shouldReshowNow = true;
                actions.reshowPersonalizedSectionsNow();
            }, timeoutOptions.redisplayTimeout);

            head.appendChild(style);
            sectionsHaveEverBeenHidden = true;
        },
        reshowPersonalizedSections: () => {
            if (utils.hasBeenReshown()) return;
            try {
                if (typeof window.requestAnimationFrame === "function") {
                    Evergage.log.info("Evergage: Scheduling for next animation frame redisplay of sections of the page marked for personalization.");
                    window.requestAnimationFrame(actions.reshowPersonalizedSectionsNow);
                } else {
                    actions.reshowPersonalizedSectionsNow();
                }
            } catch (exception) {
                Evergage.sendException(exception, "reshowPersonalizedSections");
            }
        },
        reshowReadyPersonalizedSections: () => {
            Evergage.cashDom(personalizationSectionsSelector).text(`${personalizedSectionsString} { visibility: hidden !important }`);
            Evergage.log.info(`Evergage: Redisplaying the following sections of the page marked for personalization: ${personalizedSectionsString}`);
        },
        reshowAllPersonalizedSections: () => {
            Evergage.cashDom(personalizationSectionsSelector).remove();
            Evergage.log.info("Evergage: Redisplaying outstanding sections of the page marked for personalization.");
        },
        reshowPersonalizedSectionsNow: () => {
            if (utils.hasBeenReshown()) return;
            try {
                if (shouldReshowNow || Object.keys(hiddenSections).length === 0) {
                    actions.reshowAllPersonalizedSections();
                } else if (Object.keys(hiddenSections).length > 0) {
                    personalizedSectionsString = "";
                    for (const contentZone in hiddenSections) {
                        utils.addToPersonalizedSectionsString(hiddenSections[contentZone]);
                    }
                    actions.reshowReadyPersonalizedSections();
                }
            } catch (exception) {
                Evergage.sendException(exception, "reshowPersonalizedSectionsNow");
            }
        }
    };

    const beaconListeners = {
        addOnInit: () => {
            document.addEventListener(Evergage.CustomEvents.OnInit, (domEvent) => {
                clearTimeout(window.evergagePageMatchTimeout);
                window.evergagePageMatchTimeout = setTimeout(function () {
                    const { pageType } = (Evergage.getCurrentPage().source || {});
                    if (utils.hasBeenReshown() || (typeof pageType === "string" && pageType !== "")) return;
                    shouldReshowNow = true;
                    actions.reshowPersonalizedSectionsNow();
                }, timeoutOptions.pageMatchTimeout);
            });
        },
        addPageMatchStatusUpdated: () => {
            document.addEventListener(Evergage.CustomEvents.OnPageMatchStatusUpdated, (domEvent) => {
                if (!hasBeenHidden) {
                    actions.hideSections();
                    if (Evergage.cashDom(personalizationSectionsSelector).length > 0) {
                        hasBeenHidden = true;
                    }
                }
            });
        },
        addOnEventResponse: () => {
            document.addEventListener(Evergage.CustomEvents.OnEventResponse, (domEvent) => {
                const { campaignResponses } = ((domEvent.detail || {}).response || {});
                if ((campaignResponses || []).length >= 1) {
                    personalizedSectionsString = "";
                    for (const campaign of campaignResponses) {
                        const { contentZone } = ((campaign || {}).payload || {});
                        const contentZoneSelector = Evergage.getContentZoneSelector(((campaign || {}).payload || {}).contentZone);
                        if (typeof contentZoneSelector === "string") {
                            hiddenSections[contentZone] = contentZoneSelector;
                            utils.addToPersonalizedSectionsString(contentZoneSelector);
                        }
                    }
                    if (!personalizedSectionsString) {
                        actions.reshowPersonalizedSections();
                        return;
                    }

                    Evergage.cashDom(personalizationSectionsSelector).text(`${personalizedSectionsString} { visibility: hidden !important; }`);
                } else {
                    actions.reshowPersonalizedSections();
                }
            });
        },
        addOnTemplateDisplayEnd: () => {
            document.addEventListener(Evergage.CustomEvents.OnTemplateDisplayEnd, (domEvent) => {
                if (utils.hasBeenReshown()) return;
                const { contentZone } = ((domEvent.detail || {}).payload || {});
                if (typeof contentZone === "string" && hiddenSections[contentZone]) {
                    delete hiddenSections[contentZone];
                }
                actions.reshowPersonalizedSections();
            });
        },
    };

    return {
        setPageMatchTimeout: (millis) => {
            if (typeof millis === "number" && millis >= 0) {
                timeoutOptions.pageMatchTimeout = parseInt(millis);
            } else {
                Evergage.log.warn("flickerDefender.js", "setPageMatchTimeout: Passed argument must be a number and must be greater than or equal to 0", millis);
            }
        },
        setRedisplayTimeout: (millis) => {
            if (typeof millis === "number" && millis >= 0) {
                timeoutOptions.redisplayTimeout = parseInt(millis);
            } else {
                Evergage.log.warn("flickerDefender.js", "setRedisplayTimeout: Passed argument must be a number and must be greater than or equal to 0", millis);
            }
        },
        init: function() {
            for (const key in beaconListeners) {
                beaconListeners[key]();
            }
        }
    };
})();

if (window.SalesforceInteractions && window.SalesforceInteractions.mcis) {
    window.SalesforceInteractions.mcis.FlickerDefender = Evergage.FlickerDefender;
}

if (typeof Evergage.FlickerDefender.init === "function" && (window.frameElement || {}).id !== "siteEditorFrame") {
    Evergage.FlickerDefender.init();
}

} catch (e) {
    if (typeof window.Evergage === "object" && typeof window.Evergage.getVersion === "function" && window.Evergage.getVersion() >= 5) {
        Evergage.sendException(e, "beaconExtension: Flicker Defender:flickerDefender.js");
    }
};


try {
    !function(e,t){for(var n in t)e[n]=t[n]}(window,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";n.r(t),n.d(t,"extend",(function(){return l})),n.d(t,"toString",(function(){return c})),n.d(t,"isFunction",(function(){return s})),n.d(t,"isArray",(function(){return u})),n.d(t,"indexOf",(function(){return p})),n.d(t,"escapeExpression",(function(){return d})),n.d(t,"isEmpty",(function(){return f})),n.d(t,"createFrame",(function(){return h})),n.d(t,"blockParams",(function(){return m})),n.d(t,"appendContextPath",(function(){return g}));const r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},o=/[&<>"'`=]/g,a=/[&<>"'`=]/;function i(e){return r[e]}function l(e){for(let t=1;t<arguments.length;t++)for(let n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}let c=Object.prototype.toString,s=function(e){return"function"==typeof e};s(/x/)&&(s=function(e){return"function"==typeof e&&"[object Function]"===c.call(e)});const u=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===c.call(e)};function p(e,t){for(let n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function d(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return a.test(e)?e.replace(o,i):e}function f(e){return!e&&0!==e||!(!u(e)||0!==e.length)}function h(e){let t=l({},e);return t._parent=e,t}function m(e,t){return e.path=t,e}function g(e,t){return(e?e+".":"")+t}},function(e,t,n){"use strict";const r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function o(e,t){let n,a,i,l,c=t&&t.loc;c&&(n=c.start.line,a=c.end.line,i=c.start.column,l=c.end.column,e+=" - "+n+":"+i);let s=Error.prototype.constructor.call(this,e);for(let e=0;e<r.length;e++)this[r[e]]=s[r[e]];Error.captureStackTrace&&Error.captureStackTrace(this,o);try{c&&(this.lineNumber=n,this.endLineNumber=a,Object.defineProperty?(Object.defineProperty(this,"column",{value:i,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=i,this.endColumn=l))}catch(e){}}o.prototype=new Error,t.a=o},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.restrictContentZone=t.executeControl=t.handleCampaignResponses=t.renderTemplate=t.resetTemplate=t.registerTemplate=t.executeBundles=void 0;var i=n(10),l=n(3),c=a(n(4)),s=new Map,u=new Map,p=new Set,d=function(){return document.getElementsByTagName("html").length>0&&null!=document.getElementsByTagName("html")[0].getAttribute(c.VE_LOADING_ATTRIBUTE)||null!=document.getElementById(c.VE_ACTIVE_ELEMENT_ID)||"true"===localStorage.getItem(c.VE_INDICATOR_FLAG)||document.location.href.includes(c.TEST_TEMPLATE_PARAMETER)},f=function(e){return s.get(e)},h=function(e,t){return[e,t.campaign,t.experience].join(":")};t.executeBundles=function(e){e&&e.forEach((function(e){try{Function("TemplateService",e.bundle)({registerTemplate:t.registerTemplate})}catch(e){l.dispatchError(e)}}))},t.registerTemplate=function(e){var t=new i.Template(e);s.set(e.name,t)},t.resetTemplate=function(e,t){var n=h(e,t),r=u.get(n);if(r)try{r()}catch(e){l.dispatchError(e)}u.delete(n)},t.renderTemplate=function(e,t){if(s.has(e)){var n=f(e).render(t);u.set(h(e,t),n)}},t.handleCampaignResponses=function(e){d()||e.filter((function(e){return"ng"===e.type})).filter((function(e){return!g(e)})).forEach((function(e){switch(e.userGroup){case"Default":m(e);break;case"Control":t.executeControl(e)}}))};var m=function(e){e.templateNames.forEach((function(n){t.renderTemplate(n,e.payload)}))};t.executeControl=function(e){e.templateNames.forEach((function(t){var n=f(t),r=e.payload;if(n.control)try{var o=n.control(r);l.handleTemplateDispatch(o,r)}catch(e){l.dispatchError(e)}}))};var g=function(e){return e.payload.contentZone&&p.has(e.payload.contentZone)};t.restrictContentZone=function(e){e&&p.add(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchError=t.handleTemplateDispatch=t.getQueryParam=void 0,t.getQueryParam=function(e){var t=location.search;e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))};var r=function(e){document.dispatchEvent(new CustomEvent(window.Evergage.CustomEvents.OnTemplateDisplayEnd,{detail:{payload:e}})),document.dispatchEvent(new CustomEvent(window.SalesforceInteractions.mcis.CustomEvents.OnTemplateDisplayEnd,{detail:{payload:e}}))};t.handleTemplateDispatch=function(e,t){window.Promise&&"function"==typeof window.Promise.resolve?window.Promise.resolve(e).then((function(){r(t)})):r(t)},t.dispatchError=function(e){document.dispatchEvent(new CustomEvent(window.Evergage.CustomEvents.OnException,{detail:{error:new Error(e),context:"Handlebars Template Gear"}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VE_ACTIVE_ELEMENT_ID=t.VE_INDICATOR_FLAG=t.VE_LOADING_ATTRIBUTE=t.TEST_TEMPLATE_PARAMETER=t.TEST_TEMPLATE_STORAGE_KEY=void 0,t.TEST_TEMPLATE_STORAGE_KEY="testTemplate",t.TEST_TEMPLATE_PARAMETER="evergageTestTemplate",t.VE_LOADING_ATTRIBUTE="evergagevisualeditorloading",t.VE_INDICATOR_FLAG="evgVE",t.VE_ACTIVE_ELEMENT_ID="evg_ui-visual-editor"},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){var r=n(0),o=n(1);t.a=function(t){t.registerHelper("each",(function(t,n){if(!n)throw new o.a("Must pass iterator to #each");let a,i,l=n.fn,c=n.inverse,s=0,u="";function p(e,n,o){a&&(a.key=e,a.index=n,a.first=0===n,a.last=!!o,i&&(a.contextPath=i+e)),u+=l(t[e],{data:a,blockParams:Object(r.blockParams)([t[e],e],[i+e,null])})}if(n.data&&n.ids&&(i=Object(r.appendContextPath)(n.data.contextPath,n.ids[0])+"."),Object(r.isFunction)(t)&&(t=t.call(this)),n.data&&(a=Object(r.createFrame)(n.data)),t&&"object"==typeof t)if(Object(r.isArray)(t))for(let e=t.length;s<e;s++)s in t&&p(s,s,s===t.length-1);else if(e.Symbol&&t[e.Symbol.iterator]){const n=[],r=t[e.Symbol.iterator]();for(let e=r.next();!e.done;e=r.next())n.push(e.value);for(let e=(t=n).length;s<e;s++)p(s,s,s===t.length-1)}else{let e;Object.keys(t).forEach(t=>{void 0!==e&&p(e,s-1),e=t,s++}),void 0!==e&&p(e,s-1,!0)}return 0===s&&(u=c(this)),u}))}}).call(this,n(5))},function(e,t,n){"use strict";(function(e){t.a=function(t){let n=void 0!==e?e:window,r=n.Handlebars;t.noConflict=function(){return n.Handlebars===t&&(n.Handlebars=r),t}}}).call(this,n(5))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;var r=n(9),o=n(11),a=n(2);function i(){/complete|interactive|loaded/.test(document.readyState)?(r.renderTestTemplate(),o.initPreview()):document.addEventListener("DOMContentLoaded",(function(){r.renderTestTemplate(),o.initPreview()}))}document.addEventListener(window.Evergage.CustomEvents.OnEventResponse,(function(e){a.executeBundles(e.detail.response.compiledCampaignTemplates),a.handleCampaignResponses(e.detail.response.campaignResponses)})),t.render=i,i()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTestTemplate=void 0;var r=n(2),o=n(3),a=n(4);t.renderTestTemplate=function(){if("true"==o.getQueryParam(a.TEST_TEMPLATE_PARAMETER)){var e=i();addEventListener("storage",(function(t){t.key==a.TEST_TEMPLATE_STORAGE_KEY&&(e&&r.resetTemplate(e.templateName,e.templateConfig),e=i())}))}};var i=function(){var e=localStorage.getItem(a.TEST_TEMPLATE_STORAGE_KEY);if(e)try{var t=JSON.parse(e);return r.executeBundles(t.templates),r.renderTemplate(t.templateName,t.templateConfig),r.restrictContentZone(t.templateConfig.contentZone),t}catch(e){}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Template=void 0;var o=r(n(12)),a=n(3),i=function(){function e(e){var t=this;if(this.getContentZoneFromMatchedConfig=function(e){var t=window.Evergage.getState().result.matchedConfig;return e.contentZone&&t&&t.contentZones&&0!==t.contentZones.length&&t.contentZones.find((function(t){return t.name===e.contentZone}))||null},this.applyRender=function(e){var n=t.getContentZoneFromMatchedConfig(e);n&&t.executeInsertionForTarget(n,e)},this.replaceContentAtTarget=function(e,t){t.innerHTML=e},this.name=e.name,this.apply=e.apply,this.reset=e.reset,this.control=e.control,e.handlebars)try{this.generateHtml=o.default.template(e.handlebars),o.default.partials[e.name]=o.default.template(e.handlebars)}catch(e){a.dispatchError(e)}else this.generateHtml=function(){}}return e.prototype.render=function(e){try{var t=this.apply(e,this.generateHtml,this.applyRender);return a.handleTemplateDispatch(t,e),this.reset.bind(this,e,this.generateHtml)}catch(e){a.dispatchError(e)}},e.prototype.executeInsertionForTarget=function(e,t){if(this.generateHtml){var n=e.selector;try{var r=document.querySelector(n);if(!r){var o='Could not render template. Content zone "'+e.name+'" defined but the selector "'+n+'" not found on the page.';return void a.dispatchError(o)}var i=this.generateHtml(t);if(!i)return;this.replaceContentAtTarget(i,r)}catch(e){a.dispatchError(e)}}},e}();t.Template=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initPreview=void 0;var r=n(4),o=n(2);t.initPreview=function(){window.Evergage.Render={render:function(e,t,n){var a=JSON.stringify({templateName:e,templateConfig:t,templates:n});window.localStorage.setItem(r.TEST_TEMPLATE_STORAGE_KEY,a),o.resetTemplate(e,t),o.executeBundles(n),o.renderTemplate(e,t)},reset:o.resetTemplate}}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"VERSION",(function(){return g})),n.d(r,"COMPILER_REVISION",(function(){return v})),n.d(r,"LAST_COMPATIBLE_COMPILER_REVISION",(function(){return E})),n.d(r,"REVISION_CHANGES",(function(){return b})),n.d(r,"HandlebarsEnvironment",(function(){return T})),n.d(r,"log",(function(){return y})),n.d(r,"createFrame",(function(){return a.createFrame})),n.d(r,"logger",(function(){return d}));var o={};n.r(o),n.d(o,"checkRevision",(function(){return O})),n.d(o,"template",(function(){return P})),n.d(o,"wrapProgram",(function(){return j})),n.d(o,"resolvePartial",(function(){return x})),n.d(o,"invokePartial",(function(){return A})),n.d(o,"noop",(function(){return C}));var a=n(0),i=n(1),l=n(6);function c(e){!function(e){e.registerHelper("blockHelperMissing",(function(t,n){let r=n.inverse,o=n.fn;if(!0===t)return o(this);if(!1===t||null==t)return r(this);if(Object(a.isArray)(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){let e=Object(a.createFrame)(n.data);e.contextPath=Object(a.appendContextPath)(n.data.contextPath,n.name),n={data:e}}return o(t,n)}))}(e),Object(l.a)(e),function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new i.a('Missing helper: "'+arguments[arguments.length-1].name+'"')}))}(e),function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new i.a("#if requires exactly one argument");return Object(a.isFunction)(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||Object(a.isEmpty)(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,n){if(2!=arguments.length)throw new i.a("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))}(e),function(e){e.registerHelper("log",(function(){let t=[void 0],n=arguments[arguments.length-1];for(let e=0;e<arguments.length-1;e++)t.push(arguments[e]);let r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),t[0]=r,e.log(...t)}))}(e),function(e){e.registerHelper("lookup",(function(e,t,n){return e?n.lookupProperty(e,t):e}))}(e),function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new i.a("#with requires exactly one argument");Object(a.isFunction)(e)&&(e=e.call(this));let n=t.fn;if(Object(a.isEmpty)(e))return t.inverse(this);{let r=t.data;return t.data&&t.ids&&(r=Object(a.createFrame)(t.data),r.contextPath=Object(a.appendContextPath)(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:Object(a.blockParams)([e],[r&&r.contextPath])})}}))}(e)}function s(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])}function u(e){!function(e){e.registerDecorator("inline",(function(e,t,n,r){let o=e;return t.partials||(t.partials={},o=function(r,o){let i=n.partials;n.partials=Object(a.extend)({},i,t.partials);let l=e(r,o);return n.partials=i,l}),t.partials[r.args[0]]=r.fn,o}))}(e)}let p={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){let t=Object(a.indexOf)(p.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e,...t){if(e=p.lookupLevel(e),"undefined"!=typeof console&&p.lookupLevel(p.level)<=e){let n=p.methodMap[e];console[n]||(n="log"),console[n](...t)}}};var d=p;function f(...e){return Object(a.extend)(Object.create(null),...e)}const h=Object.create(null);function m(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==h[e]&&(h[e]=!0,(void 0)("error",`Handlebars: Access has been denied to resolve the property "${e}" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}(t),!1)}const g="4.7.7",v=8,E=7,b={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};function T(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},c(this),u(this)}T.prototype={constructor:T,logger:d,log:d.log,registerHelper:function(e,t){if("[object Object]"===a.toString.call(e)){if(t)throw new i.a("Arg not supported with multiple helpers");Object(a.extend)(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===a.toString.call(e))Object(a.extend)(this.partials,e);else{if(void 0===t)throw new i.a(`Attempting to register a partial called "${e}" as undefined`);this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===a.toString.call(e)){if(t)throw new i.a("Arg not supported with multiple decorators");Object(a.extend)(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses(){Object.keys(h).forEach(e=>{delete h[e]})}};let y=d.log;function w(e){this.string=e}w.prototype.toString=w.prototype.toHTML=function(){return""+this.string};var _=w;function O(e){const t=e&&e[0]||1;if(!(t>=E&&t<=v)){if(t<E){const e=b[v],n=b[t];throw new i.a("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+e+") or downgrade your runtime to an older version ("+n+").")}throw new i.a("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function P(e,t){if(!t)throw new i.a("No environment passed to template");if(!e||!e.main)throw new i.a("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);const n=e.compiler&&7===e.compiler[0];let r={strict:function(e,t,n){if(!e||!(t in e))throw new i.a('"'+t+'" not defined in '+e,{loc:n});return r.lookupProperty(e,t)},lookupProperty:function(e,t){let n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||function(e,t,n){return m("function"==typeof e?t.methods:t.properties,n)}(n,r.protoAccessControl,t)?n:void 0},lookup:function(e,t){const n=e.length;for(let o=0;o<n;o++){if(null!=(e[o]&&r.lookupProperty(e[o],t)))return e[o][t]}},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:a.escapeExpression,invokePartial:function(n,r,o){o.hash&&(r=a.extend({},r,o.hash),o.ids&&(o.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,r,o);let l=a.extend({},o,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),c=t.VM.invokePartial.call(this,n,r,l);if(null==c&&t.compile&&(o.partials[o.name]=t.compile(n,e.compilerOptions,t),c=o.partials[o.name](r,l)),null!=c){if(o.indent){let e=c.split("\n");for(let t=0,n=e.length;t<n&&(e[t]||t+1!==n);t++)e[t]=o.indent+e[t];c=e.join("\n")}return c}throw new i.a("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(t){let n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,o){let a=this.programs[e],i=this.fn(e);return t||o||r||n?a=j(this,e,i,t,n,r,o):a||(a=this.programs[e]=j(this,e,i)),a},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){let n=e||t;return e&&t&&e!==t&&(n=a.extend({},t,e)),n},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function o(t,n={}){let i=n.data;o._setup(n),!n.partial&&e.useData&&(i=function(e,t){t&&"root"in t||((t=t?Object(a.createFrame)(t):{}).root=e);return t}(t,i));let l,c=e.useBlockParams?[]:void 0;function s(t){return""+e.main(r,t,r.helpers,r.partials,i,c,l)}return e.useDepths&&(l=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(s=M(e.main,s,r,n.depths||[],i,c))(t,n)}return o.isTop=!0,o._setup=function(o){if(o.partial)r.protoAccessControl=o.protoAccessControl,r.helpers=o.helpers,r.partials=o.partials,r.decorators=o.decorators,r.hooks=o.hooks;else{let i=a.extend({},t.helpers,o.helpers);!function(e,t){Object.keys(e).forEach(n=>{let r=e[n];e[n]=function(e,t){const n=t.lookupProperty;return function(e,t){return"function"!=typeof e?e:function(){const n=arguments[arguments.length-1];return arguments[arguments.length-1]=t(n),e.apply(this,arguments)}}(e,e=>a.extend({lookupProperty:n},e))}(r,t)})}(i,r),r.helpers=i,e.usePartial&&(r.partials=r.mergeIfNeeded(o.partials,t.partials)),(e.usePartial||e.useDecorators)&&(r.decorators=a.extend({},t.decorators,o.decorators)),r.hooks={},r.protoAccessControl=function(e){let t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;let n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:f(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:f(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}}(o);let l=o.allowCallsToHelperMissing||n;s(r,"helperMissing",l),s(r,"blockHelperMissing",l)}},o._child=function(t,n,o,a){if(e.useBlockParams&&!o)throw new i.a("must pass block params");if(e.useDepths&&!a)throw new i.a("must pass parent depths");return j(r,t,e[t],n,0,o,a)},o}function j(e,t,n,r,o,a,i){function l(t,o={}){let l=i;return!i||t==i[0]||t===e.nullContext&&null===i[0]||(l=[t].concat(i)),n(e,t,e.helpers,e.partials,o.data||r,a&&[o.blockParams].concat(a),l)}return(l=M(n,l,e,i,r,a)).program=t,l.depth=i?i.length:0,l.blockParams=o||0,l}function x(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function A(e,t,n){const r=n.data&&n.data["partial-block"];let o;if(n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath),n.fn&&n.fn!==C){n.data=Object(a.createFrame)(n.data);let e=n.fn;o=n.data["partial-block"]=function(t,n={}){return n.data=Object(a.createFrame)(n.data),n.data["partial-block"]=r,e(t,n)},e.partials&&(n.partials=a.extend({},n.partials,e.partials))}if(void 0===e&&o&&(e=o),void 0===e)throw new i.a("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function C(){return""}function M(e,t,n,r,o,i){if(e.decorator){let l={};t=e.decorator(t,l,n,r&&r[0],o,i,r),a.extend(t,l)}return t}var S=n(7);function k(){let e=new T;return a.extend(e,r),e.SafeString=_,e.Exception=i.a,e.Utils=a,e.escapeExpression=a.escapeExpression,e.VM=o,e.template=function(t){return P(t,e)},e}let I=k();I.create=k,Object(S.a)(I),I.default=I;t.default=I}]));
} catch (e) {
    if (typeof window.Evergage === "object" && typeof window.Evergage.getVersion === "function" && window.Evergage.getVersion() >= 5) {
        Evergage.sendException(e, "beaconExtension: Handlebars Templates:index.js");
    }
};


try {
    // syncs with @frontend/packages/ui-chrome-extension/src/constants.ts#CUSTOM_EVENT.MESSAGE_FROM_INTERACTION_STUDIO_TOOLS_GEAR
var VE_CUSTOM_EVENT_NAME = 'msg_from_interaction_studio_tools_gear';
// syncs with @frontend/packages/ui-chrome-extension/src/constants.ts#EVENT_TYPE.MESSAGE_FROM_INTERACTION_STUDIO_TOOLS_GEAR
var TO_LAUNCHER_MESSAGE_TYPE = 'nxve_messageFromInteractionStudioToolsGear';

var TO_LAUNCHER_PAYLOAD_TYPE = 'beaconSDK_domEvent';

function sendMessageToEvergageLauncher(message) {
    try {
        document.dispatchEvent(
            new CustomEvent(VE_CUSTOM_EVENT_NAME, {
                detail: JSON.stringify(message),
            })
        );
    } catch (e) {
        console.error(e);
    }
}

var eventLinkId = null;

if (Evergage !== null) {
    document.addEventListener(Evergage.CustomEvents.OnInit, function (
        domEvent
    ) {
        sendMessageToEvergageLauncher({
            type: TO_LAUNCHER_MESSAGE_TYPE,
            payload: {
                type: TO_LAUNCHER_PAYLOAD_TYPE,
                payload: {
                    name: Evergage.CustomEvents.OnInit,
                    detail: domEvent.detail,
                },
            },
        });
    });

    document.addEventListener(Evergage.CustomEvents.OnEventSend, function (
        domEvent
    ) {
        eventLinkId = Math.random().toString().slice(2);

        const { actionEvent } = domEvent.detail || {};
        actionEvent._toolsEventLinkId = eventLinkId;
        if (actionEvent.interaction) {
            actionEvent.explain = true;
        } else {
            actionEvent.debug = Object.assign(
                (actionEvent.debug || {}),
                { explanations: true }
            );
        }

        sendMessageToEvergageLauncher({
            type: TO_LAUNCHER_MESSAGE_TYPE,
            payload: {
                type: TO_LAUNCHER_PAYLOAD_TYPE,
                payload: {
                    name: Evergage.CustomEvents.OnEventSend,
                    detail: domEvent.detail,
                },
            },
        });
    });

    document.addEventListener(Evergage.CustomEvents.OnEventResponse, function (
        domEvent
    ) {
        if (domEvent.detail) {
            const currentPage = Evergage.getCurrentPage();
            const sitemapConfig = Evergage.getState().config;
            const matchedPageConfig =
                Evergage.getState().result &&
                Evergage.getState().result.matchedConfig;

            eventLinkId = null;

            sendMessageToEvergageLauncher({
                type: TO_LAUNCHER_MESSAGE_TYPE,
                payload: {
                    type: TO_LAUNCHER_PAYLOAD_TYPE,
                    payload: {
                        name: Evergage.CustomEvents.OnEventResponse,
                        detail: {
                            response: domEvent.detail.response,
                            currentPage: currentPage,
                            sitemapConfig: sitemapConfig,
                            matchedPageConfig: matchedPageConfig,
                        },
                    },
                },
            });
        }
    });
}

} catch (e) {
    if (typeof window.Evergage === "object" && typeof window.Evergage.getVersion === "function" && window.Evergage.getVersion() >= 5) {
        Evergage.sendException(e, "beaconExtension: Interaction Studio Tools:interactionStudioTools.js");
    }
};


try {
    Evergage.Surveys = Evergage.Surveys || (function() {

    var SURVEY_ACTION = {
        SUBMIT: "submit",
        PAGE_NEXT: "pageNext",
        PAGE_PREV: "pagePrev"
    };

    var SURVEY_EVENT_PARAM = {
        SURVEY_ACTION: 'surveyAction',
        SURVEY_ID: 'surveyId',
        SURVEY_START_TIME: 'surveyStartTime'
    };

    var initialized = false;

    function isInitialized() {
        return (initialized || typeof window.Survey === 'object');
    }

    /**
     * processSurveyResponses
     * ** recursive **
     * @param responses {object} a collection of survey element response values keyed by element.name (question.name)
     * @param elements {object} a collection of SurveyElements for a given page or panel of a survey
     * @param addResponseFn {function} invoked for each questionType element that has been processed
     */
    function processSurveyResponses(elements, survey, sender) {
        try {

            var shouldHandleElementAsPanel = function(element) {
                return (element.type === 'panel'
                        && Evergage.cashDom.isArray(element.elements)
                        && element.elements.length !== 0
                        && !isString(element.questionId));
            };

            var formatAnswer = function(answer) {
                var result = (answer) ? answer : null;
                if (result != null && Evergage.cashDom.isArray(result) || isPlainObject(result)) {
                    result = JSON.stringify(result);
                }
                return result;
            };

            var formatQuestionId = function(element, rowId) {
                var questionId = "survey:" + survey.id + ":" + element.questionId;
                if (isString(rowId)) {
                    questionId += ":" + rowId;
                }
                return questionId;
            };

            var responses = [];
            for (var elementIndex = 0; elementIndex < elements.length; elementIndex++) {
                var element = elements[elementIndex];
                if (shouldHandleElementAsPanel(element)) {
                    responses = responses.concat(processSurveyResponses(element.elements, survey, sender));
                } else {
                    if (element.type === "matrix") {
                        for (var rowIndex = 0; rowIndex < element.rows.length; rowIndex++) {
                            var row = element.rows[rowIndex];
                            var rowId = element.rowIds[rowIndex];
                            var allRowsValues = sender.data[element.name] ? sender.data[element.name] : {};
                            if (allRowsValues[row.value]) {
                                var rowValue = allRowsValues[row.value];
                                responses.push({ questionId: formatQuestionId(element, rowId), answer: rowValue });
                            }
                        }
                    } else {
                        var answer = formatAnswer(sender.data[element.name]);
                        if (answer) {
                            responses.push({ questionId: formatQuestionId(element), answer: answer });
                        }
                    }
                }
            }
            return responses;
        } catch (e) {
            Evergage.log.error('Evergage: There was an error when attempting to ' +
                                       'process survey responses: ', e);
        }
    }

    function isPlainObject(obj) {
        if (typeof obj !== 'object' || obj === null) return false;
        const proto = Object.getPrototypeOf(obj);
        return proto === null || proto === Object.prototype;
    }

    function isString(property) {
        return typeof property === 'string' || property instanceof String;
    }

    function handleSurveyAction(surveyAction, survey, sender) {

        try {
            if (surveyAction === SURVEY_ACTION.PAGE_NEXT) {
                return;
            } else {
                var surveyActionEvent = new SurveyActionEvent(surveyAction, survey.id, new Date().getTime());
                Evergage.cashDom.each(survey.config.pages, function(index, page) {
                    surveyActionEvent.addResponses(processSurveyResponses(page.elements, survey, sender));
                });
                surveyActionEvent.send();
            }
        } catch (e) {
            Evergage.log.error('Evergage: There was an error when attempting to ' +
                                       'submit survey responses surveyId[' + message.surveyConfig.survey.id + ']: ', e);
        }
    }

    function renderSurvey(survey, renderTarget) {
        if (typeof survey !== "object" || !renderTarget) return Evergage.log.error("Evergage: renderSurvey arguments are not valid");
        return injectSurveyResourcesIntoPage().then(() => {
            try {
                if (surveyAlreadyRendered(survey.id, renderTarget)) return;
                window.Survey.JsonObject.metaData.addProperty("questionbase", "questionId");
                window.Survey.JsonObject.metaData.addProperty("questionbase", "rowIds");
                var surveyModel = new window.Survey.Model(survey.config);
                // eslint-disable-next-line new-cap
                Evergage.cashDom(renderTarget).Survey({
                    model: surveyModel,
                    onComplete: function(sender) {
                        handleSurveyAction(SURVEY_ACTION.SUBMIT, survey, sender);
                    },
                    onPartialSend: function(sender) {
                        handleSurveyAction(SURVEY_ACTION.PAGE_NEXT, survey, sender);
                    }
                });
                Evergage.cashDom(renderTarget).attr("data-evg-survey-id", survey.id);
            } catch (e) {
                Evergage.log.error('Evergage: There was an error when attempting to render the survey', e);
            }
        });
    }

    function injectSurveyResourceIntoPage(type, url) {
        try {
            var documentHead = document.head || document.getElementsByTagName('head')[0];
            var isStylesheet = (type === 'style');
            var surveyResourceElement = document.createElement(isStylesheet ? 'link' : 'script');
            surveyResourceElement.setAttribute('type', ((isStylesheet) ? 'text/css' : 'text/javascript'));
            surveyResourceElement.setAttribute('class', 'evergageSurvey-' + type);
            surveyResourceElement.setAttribute(((isStylesheet) ? 'href' : 'src'), url);
            if (isStylesheet) {
                surveyResourceElement.setAttribute('rel', 'stylesheet');
            }
            documentHead.appendChild(surveyResourceElement);
            Evergage.log.trace('Evergage: Injected survey resource of type[' + type + '] url[' + url + ']');
        } catch (e) {
            Evergage.log.error('Evergage: There was an error when attempting to inject surveyJS resources into the page: ', e);
        }

    }

    function injectSurveyResourcesIntoPage() {
        return new Promise(resolve => {
            if (isInitialized()) {
                return resolve();
            }
            var SURVEY_JS_CDN_BASE_URL = '//cdn.evergage.com/evergage-content/3pp';
            var SURVEY_JS_VERSION = 'surveyjs-1.0.95';
            var SURVEY_JS_SCRIPT_NAME = 'survey.cash.min.js';
            var SURVEY_JS_STYLESHEET_NAME = 'survey.min.css';
            Object.entries({
                script: [SURVEY_JS_CDN_BASE_URL, SURVEY_JS_VERSION, SURVEY_JS_SCRIPT_NAME].join('/'),
                style: [SURVEY_JS_CDN_BASE_URL, SURVEY_JS_VERSION, SURVEY_JS_STYLESHEET_NAME].join('/')
            }).forEach(function(entry) {
                const [resourceType, resourceUrl] = entry
                injectSurveyResourceIntoPage(resourceType, resourceUrl);
            });
            var interval = setInterval(function(){
                if (Evergage.cashDom.fn.Survey != null && window.Survey != null) {
                    clearInterval(interval);
                    initialized = true;
                    resolve();
                }
            }, 100);
        })
    }

    function surveyAlreadyRendered(surveyId, renderTarget) {
        return Evergage.cashDom(renderTarget).attr("data-evg-survey-id") === surveyId;
    }

    function SurveyActionEvent(surveyAction, surveyId, timestamp) {
        this.params = { source: {}, attributes: {} };
        this.params.source[SURVEY_EVENT_PARAM.SURVEY_ACTION] = surveyAction;
        this.params.source[SURVEY_EVENT_PARAM.SURVEY_ID] = surveyId;
        this.params.source[SURVEY_EVENT_PARAM.SURVEY_START_TIME] = timestamp;
    }

    SurveyActionEvent.prototype.addResponses = function(responses) {
        for (var i = 0; i < responses.length; i++) {
            var response = responses[i];
            this.addResponse(response.questionId, response.answer);
        }
    };

    SurveyActionEvent.prototype.addResponse = function(name, value) {
        Evergage.log.trace('Evergage: Adding response to SurveyActionEvent: ' + JSON.stringify({ name: name, value: value }));
        this.params.attributes[name] = value;
    };

    SurveyActionEvent.prototype.send = function() {
        Evergage.log.trace('Evergage: Tracking survey event: ', this.params);
        Evergage.sendEvent({
            action: "Survey " + this.params.source[SURVEY_EVENT_PARAM.SURVEY_ACTION],
            source: this.params.source,
            user: {
                attributes: this.params.attributes
            }
        });
    };

    return {
        renderSurvey: renderSurvey,
        injectSurveyResourcesIntoPage: injectSurveyResourcesIntoPage
    };

})(window);

if (window.SalesforceInteractions && window.SalesforceInteractions.mcis) {
    window.SalesforceInteractions.mcis.Surveys = Evergage.Surveys;
}
} catch (e) {
    if (typeof window.Evergage === "object" && typeof window.Evergage.getVersion === "function" && window.Evergage.getVersion() >= 5) {
        Evergage.sendException(e, "beaconExtension: Surveys:SurveyJS.js");
    }
};


try {
    (function () {
    var VE_LOCAL_STORAGE_KEY = 'evgVE';
    var SITEMAP_EDITOR_LOCAL_STORAGE_KEY = 'evgVE-cdp-sitemap-editor';

    var SdkNamespace = window.Evergage || window.SalesforceInteractions;

    function injectEditorLaunchScript(isStandaloneSitemapEditor) {
        try {
            // getConfig() is not exposed on the Salesforce/CDP build of the SDK
            var trackerUrl =
                typeof SdkNamespace.getConfig === 'function' &&
                SdkNamespace.getConfig().trackerUrl;

            var baseUrl = !isStandaloneSitemapEditor && trackerUrl ? trackerUrl : 'https://cdn.evergage.com';
            var scriptPath = isStandaloneSitemapEditor
                ? '/evergage-content/sitemap-editor/4.0.0/launch.sitemap-editor.js'
                : '/visual-editor/launch.js';

            var scriptUrl = [baseUrl, scriptPath].join('');

            var scriptTag = document.createElement('script');
            scriptTag.setAttribute('id', 'salesforceInteractionsLauncherScript');
            scriptTag.src = scriptUrl;

            if (
                document.getElementById('salesforceInteractionsLauncherScript') == null
            ) {
                document.head.appendChild(scriptTag);
            } else {
                SdkNamespace.log.info('Launch script is already here.');
            }
        } catch (err) {
            SdkNamespace.log.error(
                'Failed to inject Salesforce Interactions Launcher script: ' + err
            );
        }
    }

    function getUrlBoolean(name) {
        name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
        var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
        var results = regex.exec(location.search);
        return results === null ? null : results[1] === 'true';
    }

    var visualEditorParam = getUrlBoolean('evergageEditor');
    var standaloneEditorParam = getUrlBoolean('salesforceInteractionsSitemapEditor');

    var visualEditorEnabledInStorage = function () {
        return window.localStorage[VE_LOCAL_STORAGE_KEY] === 'true';
    };

    var standloneSitemapEditorEnabledInStorage = function () {
        return window.localStorage[SITEMAP_EDITOR_LOCAL_STORAGE_KEY] === 'true';
    };

    // honor and set local storage based off queryParam
    if (visualEditorParam !== null) {
        window.localStorage.setItem(VE_LOCAL_STORAGE_KEY, visualEditorParam);
    }

    if (standaloneEditorParam !== null) {
        window.localStorage.setItem(
            SITEMAP_EDITOR_LOCAL_STORAGE_KEY,
            standaloneEditorParam
        );
    }

    var inSiteEditorFrameContext =
        window.frameElement && window.frameElement.id === 'siteEditorFrame';

    // trigger off of localStorage only
    // chrome extension reads/sets localStorage more easily than modifying the currentTab URL
    if (
        !visualEditorEnabledInStorage() &&
        !standloneSitemapEditorEnabledInStorage() &&
        !inSiteEditorFrameContext
    ) {
        return;
    }

    if (window.top === window.self || inSiteEditorFrameContext) {
        document.addEventListener(
            SdkNamespace.CustomEvents.OnInit,
            (event) => {
                injectEditorLaunchScript(
                    standloneSitemapEditorEnabledInStorage()
                );
                event.preventDefault();
            },
            { once: true }
        );
    }
})();

} catch (e) {
    if (typeof window.Evergage === "object" && typeof window.Evergage.getVersion === "function" && window.Evergage.getVersion() >= 5) {
        Evergage.sendException(e, "beaconExtension: Visual Editor:visualEditor.js");
    }
};


try {
var evgr = Evergage.resolvers;
function calcBlogId(){

    var path = window.location.pathname;
    var id = path.split('/').slice(6).toString().substr(0,path.split("/").slice(6).toString().length-5).toUpperCase();
                
    return id;
}


function returnBlogCatDim() {
    let categories = [];
    Evergage.cashDom("div.blogcategory ul li div span a").each((idx, el) => { 
        categories.push(Evergage.cashDom(el).text().trim().replace(/,$/, ''));
    });
    categories = categories.filter(function (category) {
        return !industryCategoryList[category];
    });
    return categories;
}

function returnInduDim() {
    let categories = [];
    Evergage.cashDom("div.blogcategory ul li").each((idx, el) => { 
        categories.push(Evergage.cashDom(el).text().trim().replace(/,$/, ''));
    });
    categories = categories.filter(function (category) {
        return industryCategoryList[category];
    });
    return categories;
}

var industryCategoryList = {
    "Manufacturing": true,
    "Transportation and Logistics": true,
    "Warehouse Management": true,
    "Retail": true,
    "Healthcare": true,
    "Government": true,
    "Field Services": true,
    "Sports": true,
    "Hospitality": true
}

var regionDict = {
    us: "en_US",
    gb: "en_GB",
    de: "de_DE",
    cn: "zh_CN",
    tr: "tr_TR",
    fr: "fr_FR",
    pl: "pl_PL",
    ru: "ru_RU",
    jp: "ja_JP",
    kr: "ko_KR",
    la: "es_LA",
    es: "es_ES",
    br: "pt_BR",
    ap: "en_AP"
};

function toLocale(str) {
    str = (str || "").toLowerCase();
    if (str.length === 2) {
        return regionDict[str] || null;
    } else if (str.length === 5) {
        var language = str[0] + str[1];
        var region = str[3] + str[4];
        if (regionDict[language]) {
            return region + "_" + language.toUpperCase();
        } else if (regionDict[region]) {
            return language + "_" + region.toUpperCase();
        }
    }
    return null;
}

function returnLocale() {
    var currentPageLocale;
    if (window.location.hostname === "www.zebra.com") {
        currentPageLocale = toLocale(Evergage.util.extractFirstGroup(/^\/([a-zA-Z]{2}\/[a-zA-Z]{2})/, window.location.pathname))
    } else if (window.location.hostname === "partnerportal.zebra.com") {
        currentPageLocale = regionDict.us;
    } else if (window.location.hostname === "connect.zebra.com") {
        currentPageLocale = toLocale(Evergage.util.extractFirstGroup(/^\/[^_]+([a-zA-Z]{2}?[a-zA-Z]?[a-zA-Z]?)/, window.location.pathname));
    }

    return currentPageLocale;
}


Evergage.init({
    cookieDomain: "zebra.com"
}).then(() => {

    const buildLocale = () => {
        let locale = returnLocale();
        return locale;
    }



    const sitemapConfig = {
        global: {
            
            locale: buildLocale(),

            //START DEMANDBASE / TORCH INTEGRATION
            onActionEvent: (actionEvent) => {
                try {
                    var params = new URLSearchParams(document.location.search),
                    db = JSON.parse(sessionStorage.getItem("LAUNCH_demandbaseInfo")) || {},
                    fields = {
                        Demandbase_Audience: db.audience,
                        Demandbase_CompanyName: db.company_name, 
                        Demandbase_EmployeeRange: db.employee_range,
                        Demandbase_Industry: db.industry,
                        Demandbase_RevenueRange: db.revenue_range,
                        Demandbase_SubIndustry: db.sub_industry,
                        Demandbase_ZIP: db.zip,
                        Demandbase_Country: db.country,
                        Demandbase_City: db.city,
                        Demandbase_State: db.state,
                        Demandbase_Region: db.region_name,
                        utmTacticDetail: params.get("tactic_detail"),
                        utmTacticType: params.get("tactic_type"),
                        icid: params.get("icid")
                    };

                    for (var key in fields) {
                        if (!fields[key]) {
                            delete fields[key];
                        }
                    }
                    if (Object.keys(fields).length) {
                        actionEvent.user = actionEvent.user || {};
                        actionEvent.user.attributes = actionEvent.user.attributes || {};
                        Object.keys(fields).forEach(k => {
                            actionEvent.user.attributes[k] = fields[k];
                        });
                    }
                } catch(e) { 
                    //ignore    
                }
                return actionEvent;
            },   
            //END DEMANDBASE / TORCH INTEGRATION
            
            contentZones: [
                {
                name: "global_popup",
                }, 
                {
                name: "global_infobar_bottom_of_page",
                },
        ],


            listeners: [
                // START ELOQUA EMAIL INTEGRATION
                Evergage.listener("submit", "form.gcdc-form-render", (e) => {
                    try {
                        let userEmail = Evergage.cashDom(e.target).find("input[type='email'], input[name='$EmailAddress']").val().trim();
                        Evergage.sendEvent({
                            user: { 
                                attributes: { 
                                    emailAddress: userEmail
                                }
                            }
                        });
                    }catch(e) { 
                        //ignore
                    }
                })
                //END ELOQUA EMAIL INTEGRATION
            
            ]
            
        },

        
        pageTypeDefault: {
            name: "default"
        },

        pageTypes: [
            {
                name: "homepage",
                action: "Home page",
                isMatch: () => (/www\.zebra\.com/.test(window.location.host)) && (/^\/([a-zA-Z]{2}\/[a-zA-Z]{2})+\.html$/.test(window.location.pathname)),
                contentZones: [
                    {name: "home_blogRecommendations_section1", selector: "#main-content > div.root.responsivegrid > div > div:nth-child(7) > div > div > div > div.staggered-spotlights > div > div > section > div > div > div > div.staggered-spotlights__grid"},
                    {name: "homepage_popup_section1"}
                   ],
            },
            
            {
                name: "signup",
                action: "Signup",
                isMatch: () => (/signup\.zebra\.com/.test(window.location.host)) && (/register/.test(window.location.pathname)),
                listeners: [ 
                    Evergage.listener("click", "#userRegistrationForm > div.col-md-12.bottomsubmit > div.col-md-12 > div > button", (event) => {
                        const email = Evergage.cashDom("#email").val();
                        
                        if(email){
                            Evergage.sendEvent({
                                action: "Sign Up",
                                user: {
                                    attributes: {
                                        emailAddress: email
                                    }
                                }
                            });
                       }
                    })
                ]
            },
            
            {  
                name: "contactus",
                action: "Contact Us",
                isMatch: () => (/connect\.zebra\.com/.test(window.location.host)) && (/\/contact-enu/.test(window.location.pathname)),
                listeners: [
                    Evergage.listener("click", "#Submit_BTN", (event) => {
                        const first = Evergage.cashDom("#elqForm > div:nth-child(35) > div:nth-child(1) > div > div.form_rightcol > div > input").val();
                        const last = Evergage.cashDom("#elqForm > div:nth-child(35) > div:nth-child(3) > div > div.form_rightcol > div > input").val();
                        const comp = Evergage.cashDom("#demandbase-autocomplete-company-input").val();
                        const loca = Evergage.cashDom("#country").val();
                        const pref = Evergage.cashDom("#language").val();
                        const email = Evergage.cashDom("#EmailInput").val();
                        const phone = Evergage.cashDom("#phone").val();
                        const sector = Evergage.cashDom("#column2 > div > div.form_rightcol > select").val();
                        const interested = Evergage.cashDom("#elqForm > div:nth-child(35) > div:nth-child(13) > div > div.form_rightcol > select").val(); 

                        if(first && last && comp && loca && pref && email && phone && sector && interested) {
                            Evergage.sendEvent({
                                action: "Contact Us",
                                user: {
                                    attributes: {
                                        firstName: first,
                                        lastName: last,
                                        company: comp,
                                        location: loca,
                                        preferredLanguage: pref,
                                        emailAddress: email,
                                        phone: phone,
                                        businessSector: sector,
                                        interests: interested
                                    }
                                }
                            });
                        }
                        
                    })
                ]
            },
            
            {
                name: "login",
                action: "Login",
                isMatch: () => (/pi\.zebra\.com/.test(window.location.host)) && (window.location.pathname.startsWith("/")),
                listeners: [
                    Evergage.listener("click", "body > div.ping-container.ping-signin.login-template > div.ping-body-container > div > form > div.left-button > div.col-md-12.nopadding-left.nopadding-right > div > button", (event) => {
                        const email = Evergage.cashDom("body > div.ping-container.ping-signin.login-template > div.ping-body-container > div > form > div:nth-child(3) > input").val();
                        if(email){
                            Evergage.sendEvent({
                                action: "Login",
                                user: {
                                    attributes: {
                                        emailAddress: email
                                    }
                                }
                            });
                        }
                    })
                ]
            },
            
            {
                name: "solutions",
                action: "Solutions",
                isMatch: () => /solutions\.html/.test(window.location.pathname),
                contentZones: [
                    {name: "solution_hero_section1", selector: "#main-content > div.fullwidthimage.section > section"},
                    {name: "solution_text_section1", selector: "#main-content > div.fullwidthimage.section > section > div.text-items.center > h2"},
                    {name: "solutions_popup_section1"}
                    
                ]
            },
            
            {
                name: "industry",
                action: "Industry",
                isMatch: () => /solutions\/industry\.html/.test(window.location.pathname),
                contentZones: [
                    {name: "industry_popup_section1"}
                    
                ]
            },
            
            {
                name: "products",
                actions: "Products",
                isMatch: () => /products\.html/.test(window.location.pathname),
                contentZones: [
                    {name: "products_text_section1", selector: "#main-content>div.fullwidthimage.section>section>div.text-items.center>h2"},
                    {name: "products_popup_section1"},
                    {name: "products_hero_image_section", selector: "#main-content>div.fullwidthimage.section"}
                    
                ],
                listeners: [
                    Evergage.listener("click", "#prefill-submit", (event) => {
                        
                        const first = Evergage.cashDom("#fname").val();
                        const last = Evergage.cashDom("#lname").val();
                        const email = Evergage.cashDom("#email").val();
                        const comp = Evergage.cashDom("#company").val();
                        const loca = Evergage.cashDom("#country").val();

                        if(first && last && email && comp && loca) {
                            Evergage.sendEvent({
                                action: "Chat Started",
                                user: {
                                    attributes: {
                                        firstName: first,
                                        lastName: last,
                                        emailAddress: email,
                                        company: comp,
                                        location: loca
                                    }
                                }
                            });
                        }
                    })
                ]
            },
            
            {
                name: "services",
                actions: "Services",
                isMatch: () => /services/.test(window.location.pathname)
            },
            
            //{
            //    name: "specsheets",
            //    action: "Spec sheets",
            //    isMatch: ()
            //},
            
            {
                name: "supportanddownloads",
                action: "Support and Downloads",
                isMatch: () => /\/support-downloads/.test(window.location.pathname),
                contentZones: [
                    {name: "body", selector: ".body"}
                ]
            },
            
            {
                name: "partners",
                action: "Partners",
                isMatch: () => /\/partners/.test(window.location.pathname)
            },
            
            {
                name: "aboutzebra",
                action: "About Zebra",
                isMatch: () => /about-zebra/.test(window.location.pathname)
            },
            {
                name: "blog-home",
                action: "Blog Home",
                isMatch: () => /blog\.html/.test(window.location.pathname)
            },
            {
                name: "blog", 
                action: "Blog",
                isMatch: () => /blog\/posts/.test(window.location.pathname),
                    
                catalog: {
                    Blog: {
                        _id: () => calcBlogId(),
                        name: Evergage.resolvers.fromSelector("#main-content > div.blog-title > h1") || null,
                        url: () => window.location.href  || null,
                        imageUrl: Evergage.resolvers.fromSelectorAttribute("#main-content > div > div.row > div.col-md-8 > div.fullwidthone > section > div.hero-img-container > picture > img", "srcset")  || null,
                        description: Evergage.resolvers.fromSelectorAttribute("head > meta[property='og:description']", "content")  || null,
                        author: () => Evergage.cashDom("div.blogdetail > span > span > a").text() || null,
                        
                        relatedCatalogObjects: {
                            BlogCategory: () => { return returnBlogCatDim() },
                            Industry: () => { return returnInduDim() }
                        }
                    }
                }, 
            
                contentZones: [
                            {name: "blog_recommendations_section1", selector: "div.recentblogposts > div.recent-blog-posts"},
                            {name: "blog_recommendations_section2", selector: "div.popularblogposts > div.popular-blog-posts"}
                ],

                listeners: [
                    Evergage.listener("click", "body > div.gcdc-modal-wrapper.open > div > form > div.gcdc-form-group.gcdc-form-group-padded.gcdc-form-group-button-wrapper > input", (event) => {
                                                
                        const coun = Evergage.cashDom("body > div.gcdc-modal-wrapper.open > div > form > div.gcdc-form-group.gcdc-form-group-Country.gcdc-form-group-hasvalue > div > input").val();                    
                        const email = Evergage.cashDom("body > div.gcdc-modal-wrapper.open > div > form > div.gcdc-form-group.gcdc-form-group-EmailAddress.gcdc-form-group-hasvalue > div > input").val();
                        
                        if(email && coun){
                            Evergage.sendEvent({
                                action: "Subscribe Blog",
                                user: {
                                    attributes: {
                                        emailAddress: email,
                                        country: coun
                                    }
                                }
                            });
                        }
                    })
                ]
            },
            
            {
                name: "resourcelibrary",
                action: "Resource Library",
                isMatch: () => /resource-library/.test(window.location.pathname)
            },
            
            {
                name: "product-printers",
                action:  "Product - Printers",
                isMatch: () => /products\/printers/.test(window.location.pathname),
                contentZones: [
                    {name: "productprinters_hero_section1", selector: "#main-content>div.fullwidthimage.section"},
                    {name: "printers_contact_us_buttons", selector: "#main-content > div.textandcontactbuttons.section"}
                ]
            },

            {
                name: "product-accessories",
                action:  "Product - Accessories",
                isMatch: () => /products\/accessories/.test(window.location.pathname),
            },

            {
                name: "product-printerparts",
                action:  "Product - Printer Parts",
                isMatch: () => /products\/parts\.html/.test(window.location.pathname),
            },
            
            {
                name: "product-scanners",
                action: "Products - Scanners",
                isMatch: () => /products\/scanners/.test(window.location.pathname),
                contentZones: [
                    {name: "productscanners_hero_section1", selector: "#main-content>div.fullwidthimage.section"},
                    {name: "scanners_contact_us_buttons", selector: "#main-content > div.textandcontactbuttons.section"}
                ]
            },
            
            {
                name: "product-software",
                action: "Products - Software",
                isMatch: () => /products\/software/.test(window.location.pathname)
            },

            {
                name: "product-mobilecomputers",
                action: "Product - Mobile Computers",
                isMatch: () => /products\/mobile-computers\.html/.test(window.location.pathname),
                contentZones: [
                    {name: "productmobilecomputers_hero_section1", selector: "#main-content>div.fullwidthimage.section"},
                    {name: "mobilecomputers_contact_us_buttons", selector: "#main-content > div.textandcontactbuttons.section"}
                ]
            },
            
            {
                name: "product-tablets",
                action: "Product - Tablets",
                isMatch: () => /products\/tablets\.html/.test(window.location.pathname),
                contentZones: [
                    {name: "productstablets_hero_section1", selector: "#main-content>div.fullwidthimage.section"},
                    {name: "tablets_contact_us_buttons", selector: "#main-content > div.textandcontactbuttons.section"}
                ]
            },
            
            {
                name: "product-mobilecomputers-wearables",
                action: "Product - Mobile Computers - Wearables",
                isMatch: () => /products\/mobile-computers\/wearable-computers\.html/.test(window.location.pathname),
                contentZones: [
                    {name: "productsmobilecomputerswearablecomputers_hero_section1", selector: "#main-content>div.fullwidthimage.section"},
                    {name: "wearablecomputers_contact_us_buttons", selector: "#main-content > div.textandcontactbuttons.section"}
                ]
            },
            
            {
                name: "product-mobilecomputers-handheld",
                action: "Product - Mobile Computers - Handheld",
                isMatch: () => /products\/mobile-computers\/handheld/.test(window.location.pathname),
                contentZones: [
                    {name: "productsmobilecomputerhandheld_hero_section1", selector: "#main-content>div.fullwidthimage.section"},
                    {name: "handheldcomputers_contact_us_buttons", selector: "#main-content > div.textandcontactbuttons.section"}
                ]
            },

            {
                name: "product-mobilecomputers-vehiclemounted",
                action: "Product - Mobile Computers - Vehicle Mounted",
                isMatch: () => /products\/mobile-computers\/vehicle-mounted/.test(window.location.pathname),
            },
            
            {
                name: "product-supplies",
                action: "Product - Supplies",
                isMatch: () => /products\/supplies/.test(window.location.pathname),
                contentZones: [
                    {name: "productssupplies_hero_section1", selector: "#main-content>div.fullwidthimage.section"},
                    {name: "supplies_contact_us_buttons", selector: "#main-content > div.textandcontactbuttons.section"}
                ]
            },
            
            {
                name: "product-rfid",
                action: "Product - RFID",
                isMatch: () => /products\/rfid\.html/.test(window.location.pathname),
                contentZones: [
                     {name: "productsrfid_hero_image", selector: "#main-content > div:nth-child(3) > div > div > div > div > section > div > div.frame > picture"},
                     {name: "rfid_contact_us_buttons", selector: "#main-content > div.textandcontactbuttons.section"}
                    ]
            },
            
            {
                name: "solutions-industry-transportationlogistics",
                action: "Solutions - Industry - Transportation Logistics",
                isMatch: () => /solutions\/industry\/transportation-logistics\.html/.test(window.location.pathname),
                contentZones: [
                    {name: "transportationlogistics_popup_section1"},
                    {name: "solutionsindustrytransportationlogistics_banner_section1", selector: "#main-content>div:nth-child(8)"}
                ]
            },

            {
                name: "solutions-industry-publicsector",
                action: "Solutions - Industry - Public Sector",
                isMatch: () => /solutions\/industry\/public-sector/.test(window.location.pathname)
            },

            {
                name: "solutions-industry-government",
                action: "Solutions - Industry - Government",
                isMatch: () => /solutions\/industry\/government/.test(window.location.pathname)
            },
            
            {
                name: "solutions-industry-manufacturing",
                action: "Solutions - Industry - Manufacturing",
                isMatch: () => /solutions\/industry\/manufacturing\.html/.test(window.location.pathname),
                contentZones: [
                    {name: "manufacturing_popup_section1"}
                ]
            },
            
            {
                name: "solutions-industry-transportationlogistics-warehouse",
                action: "Solutions - Industry - Transportation Logistics - Warehouse",
                isMatch: () => /solutions\/industry\/transportation-logistics\/warehouse\.html/.test(window.location.pathname),
                contentZones: [
                    {name: "warehouse_popup_section1"}
                ]
            },
            
            {
                name: "solutions-industry-transportationlogistics-fleetdelivery",
                action: "Solutions - Industry - Transportation Logistics - Fleet Delivery",
                isMatch: () => /solutions\/industry\/transportation-logistics\/fleet-delivery\.html/.test(window.location.pathname),
                contentZones: [
                    {name: "fleetdelivery_popup_section1"}
                ]
            },
            
            {
                name: "solutions-industry-transportationlogistics-yardterminal",
                action: "Solutions - Industry - Transportation Logistics - Yard Terminal",
                isMatch: () => /solutions\/industry\/transportation-logistics\/yard-terminal\.html/.test(window.location.pathname),
                contentZones: [
                    {name: "yardterminal_popup_section1"}
                ]
            },
            
            {
                name: "solutions-industry-transportationlogistics-warehouse-inventorymaterialsmanagement",
                action: "Solutions - Industry - Transportation Logistics - Warehouse - Inventory Materials Management",
                isMatch: () => /solutions\/industry\/transportation-logistics\/warehouse\/inventory-materials-management\.html/.test(window.location.pathname),
                contentZones: [
                    {name: "inventorymaterialmanagement_popup_section1"}
                ]
            },
            
            {
                name: "solutions-industry-retail",
                action: "Solutions - Industry - Retail",
                isMatch: () => /solutions\/industry\/retail/.test(window.location.pathname),
                contentZones: [
                    {name: "retail_popup_section1"},
                    {name: "primary_text_section", selector: "#main-content > div:nth-child(4)"}
                ]
            },
            
             {
                name: "solutions-industry-utilities",
                action: "Solutions - Industry - Utilities",
                isMatch: () => /solutions\/industry\/energy-utilities/.test(window.location.pathname),
                contentZones: [
                    {name: "utilities_popup_section1"},
                 ]
            },

            {
                name: "solutions-industry-hospitality",
                action: "Solutions - Industry - Hospitality",
                isMatch: () => /solutions\/industry\/hospitality/.test(window.location.pathname),
                contentZones: [
                    {name: "hospitality_popup_section1"},
                 ]
            },

            {
                name: "solutions-industry-healthcare",
                action: "Solutions - Industry - Healthcare",
                isMatch: () => /solutions\/industry\/healthcare/.test(window.location.pathname),
                contentZones: [
                    {name: "healthcare_popup_section1"},
                 ]
            },

            {
                name: "products-industrialmachinevisionfixedscanners",
                action: "Products - Industrial Machine Vision Fixed Scanners",
                isMatch: () => /products\/industrial-machine-vision-fixed-scanners\.html/.test(window.location.pathname),
                contentZones: [ 
                    {name: "machinevisionfixedscanners_popup_section1"}
                ]
            },
            {
                name: "products-industrialmachinevisionfixedscanners-machinevisionsystems",
                action: "Products - Industrial Machine Vision Fixed Scanners - Machine Vision Systems",
                isMatch: () => /products\/industrial-machine-vision-fixed-scanners\/machine-vision-systems\.html/.test(window.location.pathname)
            },
            {
                name: "products-industrialmachinevisionfixedscanners-fixedindustrialbarcodescanners",
                action: "Products - Industrial Machine Vision Fixed Scanners - Machine Vision Systems",
                isMatch: () => /products\/industrial-machine-vision-fixed-scanners\/fixed-industrial-barcode-scanners\.html/.test(window.location.pathname)
                
            },
            {
                name: "products-specsheets",
                action: "Products - Spec Sheets",
                isMatch: () => /products\/spec-sheets/.test(window.location.pathname)
            },
            
            {
                name: "products-industrialmachinevisionfixedscanners-machinevisionsystems-vs20",
                action: "Products - Industrial Machine Vision Fixed Scanners - Machine Vision Systems - VS20",
                isMatch: () => /products\/industrial-machine-vision-fixed-scanners\/machine-vision-systems\/vs20\.html/.test(window.location.pathname),
                contentZones: [
                    {name: "vs20_popup_section1"}
                ]
            },
            
            {
                name: "products-industrialmachinevisionfixedscanners-machinevisionsystems-vs40",
                action: "Products - Industrial Machine Vision Fixed Scanners - Machine Vision Systems - VS40",
                isMatch: () => /products\/industrial-machine-vision-fixed-scanners\/machine-vision-systems\/vs40\.html/.test(window.location.pathname),
                contentZones: [
                    {name: "vs40_popup_section1"}
                ]
            },
            
            {
                name: "products-industrialmachinevisionfixedscanners-machinevisionsystems-vs70",
                action: "Products - Industrial Machine Vision Fixed Scanners - Machine Vision Systems - VS70",
                isMatch: () => /products\/industrial-machine-vision-fixed-scanners\/machine-vision-systems\/vs70\.html/.test(window.location.pathname),
                contentZones: [
                    {name: "vs70_popup_section1"}
                ]
            },
            
            {
                name: "products-industrialmachinevisionfixedscanners-fixedindustrialbarcodescanners-fs10",
                action: "Products - Industrial Machine Vision Fixed Scanners - Fixed Industrial Barcode Scanners - FS10",
                isMatch: () => /products\/industrial-machine-vision-fixed-scanners\/fixed-industrial-barcode-scanners\/fs10\.html/.test(window.location.pathname),
                contentZones: [
                    {name: "fs10_popup_section1"}
                ]
            },
            
            {
                name: "products-industrialmachinevisionfixedscanners-fixedindustrialbarcodescanners-fs20",
                action: "Products - Industrial Machine Vision Fixed Scanners - Fixed Industrial Barcode Scanners - FS20",
                isMatch: () => (window.location.host.toLowerCase() === "zebra.com" || window.location.host.toLowerCase() === "www.zebra.com") && (/products\/industrial-machine-vision-fixed-scanners\/fixed-industrial-barcode-scanners\/fs20\.html/.test(window.location.pathname)),
                contentZones: [
                    {name: "fs20_popup_section1"}
                ]
            },
            
            {
                name: "products-industrialmachinevisionfixedscanners-fixedindustrialbarcodescanners-fs40",
                action: "Products - Industrial Machine Vision Fixed Scanners - Fixed Industrial Barcode Scanners - FS40",
                isMatch: () => (window.location.host.toLowerCase() === "zebra.com" || window.location.host.toLowerCase() === "www.zebra.com") && (/products\/industrial-machine-vision-fixed-scanners\/fixed-industrial-barcode-scanners\/fs40\.html/.test(window.location.pathname)),
                contentZones: [
                    {name: "fs40_popup_section1"}
                ]
            },
            
            {
                name: "products-industrialmachinevisionfixedscanners-fixedindustrialbarcodescanners-fs70",
                action: "Products - Industrial Machine Vision Fixed Scanners - Fixed Industrial Barcode Scanners - FS70",
                isMatch: () => (window.location.host.toLowerCase() === "zebra.com" || window.location.host.toLowerCase() === "www.zebra.com") && (/products\/industrial-machine-vision-fixed-scanners\/fixed-industrial-barcode-scanners\/fs70\.html/.test(window.location.pathname)),
                contentZones: [
                    {name: "fs70_popup_section1"}
                ]
            },
            
            {
                name: "products-tablets-et5xseries",
                action: "Products - Tablets - ET5X Series",
                isMatch: () => (window.location.host.toLowerCase() === "zebra.com" || window.location.host.toLowerCase() === "www.zebra.com") && (/products\/tablets\/et5x-series\.html/.test(window.location.pathname)),
                contentZones: [
                    {name: "tablets_contact_us_buttons", selector: "#main-content > div.textandcontactbuttons.section"}
                ]
                
            },
            
            {
                name: "products-tablets-et8xseries",
                action: "Products - Tablets - ET8X Series",
                isMatch: () => (window.location.host.toLowerCase() === "zebra.com" || window.location.host.toLowerCase() === "www.zebra.com") && (/products\/tablets\/et8x-series\.html/.test(window.location.pathname)),
                contentZones: [
                    {name: "producttabletet8x_banner_section1", selector: "#main-content>div.fullwidthimage.section>section>div.hero-img-container>picture"},
                    {name: "tablets_contact_us_buttons", selector: "#main-content > div.textandcontactbuttons.section"}
                ]
                
            },
            
            {
                name: "cpn-pages",
                action: "Campaign Pages",
                isMatch: () => (window.location.host.toLowerCase() === "zebra.com" || window.location.host.toLowerCase() === "www.zebra.com") && (/cpn/.test(window.location.pathname)),
                contentZones: [
                    {name: "cpn_hero_section", selector: "#main-content > div.fullwidthimage.section"}
                  ]
            },

            {
                name: "zsb-pages",
                action: "ZSB Pages",
                isMatch: () => (window.location.host.toLowerCase() === "zebra.com" || window.location.host.toLowerCase() === "www.zebra.com") && (/smb/.test(window.location.pathname)),
                contentZones: [
                    {name: "global_popup"},
                    {name: "zsb_secondary_message", selector: "#main-content > div.themedcarousel.section > div > div.text-content.fade-in.light-background > h3 > p:nth-child(1) > b"}         
                  ]
            },

            {
                name: "partnerportal-homepage",
                action: "Partner Portal - Homepage",
                isMatch: () => (window.location.host.toLowerCase() === "partnerportal.zebra.com" || window.location.host.toLowerCase() === "www.partnerportal.zebra.com") && (/Partnerportal\/index\.aspx/.test(window.location.pathname))
            },
            
            {
                name: "partnerportal-programinformation",
                action: "Partner Portal - Program Information",
                isMatch: () => (window.location.host.toLowerCase() === "partnerportal.zebra.com" || window.location.host.toLowerCase() === "www.partnerportal.zebra.com") && (/Partnerportal\/program\/index\.aspx/.test(window.location.pathname))
            },
            
            {
                name: "partnerportal-resources",
                action: "Partner Portal - Resources",
                isMatch: () => (window.location.host.toLowerCase() === "partnerportal.zebra.com" || window.location.host.toLowerCase() === "www.partnerportal.zebra.com") && (/Partnerportal\/resources\/index\.aspx/.test(window.location.pathname))
            },
            
            {
                name: "partnerportal-productportfolio",
                action: "Partner Portal - Product Portfolio",
                isMatch: () => (window.location.host.toLowerCase() === "partnerportal.zebra.com" || window.location.host.toLowerCase() === "www.partnerportal.zebra.com") && (/Partnerportal\/product_services\/index\.aspx/.test(window.location.pathname))
            },
            
            {
                name: "partnerportal-solutions",
                action: "Partner Portal - Solutions",
                isMatch: () => (window.location.host.toLowerCase() === "partnerportal.zebra.com" || window.location.host.toLowerCase() === "www.partnerportal.zebra.com") && (/Partnerportal\/solutions\/index\.aspx/.test(window.location.pathname))
            },
            
            {
                name: "partnerportal-productservices-barcodescanners-highlights",
                action: "Partner Portal - Product Services - Barcode Scanners - Highlights",
                isMatch: () => (window.location.host.toLowerCase() === "partnerportal.zebra.com" || window.location.host.toLowerCase() === "www.partnerportal.zebra.com") && (/Partnerportal\/product_services\/barcode_scanners\/barcode_scanners_highlights\.aspx/.test(window.location.pathname))
            },
            
            
            ]
    }

    
  
    Evergage.initSitemap(sitemapConfig);
})
} catch (e) {
    if (typeof window.Evergage === "object" && typeof window.Evergage.getVersion === "function" && window.Evergage.getVersion() >= 5) {
          console.error("siteWideJavascriptError" + e);    }
};

